2019-09-02 15:50:08 =ERROR REPORT====
** Task <0.958.0> terminating
** Started from 'Elixir.Archive.Supervisor'
** When function  == fun Elixir.Archive.StartAllCamerasVisor:run/1
**      arguments == [[]]
** Reason for termination == 
** {#{'__exception__' => true,'__struct__' => 'Elixir.DBConnection.ConnectionError',message => <<"connection not available and request was dropped from queue after 2405ms. You can configure how long requests wait in the queue using :queue_target and :queue_interval. See DBConnection.start_link/2 for more information">>},[{'Elixir.Ecto.Adapters.SQL',raise_sql_call_error,1,[{file,"lib/ecto/adapters/sql.ex"},{line,618}]},{'Elixir.Ecto.Adapters.SQL',execute,5,[{file,"lib/ecto/adapters/sql.ex"},{line,551}]},{'Elixir.Ecto.Repo.Queryable',execute,4,[{file,"lib/ecto/repo/queryable.ex"},{line,153}]},{'Elixir.Ecto.Repo.Queryable',all,3,[{file,"lib/ecto/repo/queryable.ex"},{line,18}]},{'Elixir.Archive.StartAllCamerasVisor',run,1,[{file,"lib/archive/start_all_cameras_visor.ex"},{line,13}]},{'Elixir.Task.Supervised',invoke_mfa,2,[{file,"lib/task/supervised.ex"},{line,90}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}
2019-09-02 15:50:08 =CRASH REPORT====
  crasher:
    initial call: Elixir.Archive.StartAllCamerasVisor:run/1
    pid: <0.958.0>
    registered_name: []
    exception error: {#{'__exception__' => true,'__struct__' => 'Elixir.DBConnection.ConnectionError',message => <<"connection not available and request was dropped from queue after 2405ms. You can configure how long requests wait in the queue using :queue_target and :queue_interval. See DBConnection.start_link/2 for more information">>},[{'Elixir.Ecto.Adapters.SQL',raise_sql_call_error,1,[{file,"lib/ecto/adapters/sql.ex"},{line,618}]},{'Elixir.Ecto.Adapters.SQL',execute,5,[{file,"lib/ecto/adapters/sql.ex"},{line,551}]},{'Elixir.Ecto.Repo.Queryable',execute,4,[{file,"lib/ecto/repo/queryable.ex"},{line,153}]},{'Elixir.Ecto.Repo.Queryable',all,3,[{file,"lib/ecto/repo/queryable.ex"},{line,18}]},{'Elixir.Archive.StartAllCamerasVisor',run,1,[{file,"lib/archive/start_all_cameras_visor.ex"},{line,13}]},{'Elixir.Task.Supervised',invoke_mfa,2,[{file,"lib/task/supervised.ex"},{line,90}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}
    ancestors: ['Elixir.Archive.Supervisor',<0.824.0>]
    message_queue_len: 0
    messages: []
    links: [<0.825.0>]
    dictionary: [{'$callers',[<0.825.0>]}]
    trap_exit: false
    status: running
    heap_size: 17731
    stack_size: 27
    reductions: 31998
  neighbours:
2019-09-02 15:50:09 =SUPERVISOR REPORT====
     Supervisor: {local,'Elixir.Archive.Supervisor'}
     Context:    child_terminated
     Reason:     {#{'__exception__' => true,'__struct__' => 'Elixir.DBConnection.ConnectionError',message => <<"connection not available and request was dropped from queue after 2405ms. You can configure how long requests wait in the queue using :queue_target and :queue_interval. See DBConnection.start_link/2 for more information">>},[{'Elixir.Ecto.Adapters.SQL',raise_sql_call_error,1,[{file,"lib/ecto/adapters/sql.ex"},{line,618}]},{'Elixir.Ecto.Adapters.SQL',execute,5,[{file,"lib/ecto/adapters/sql.ex"},{line,551}]},{'Elixir.Ecto.Repo.Queryable',execute,4,[{file,"lib/ecto/repo/queryable.ex"},{line,153}]},{'Elixir.Ecto.Repo.Queryable',all,3,[{file,"lib/ecto/repo/queryable.ex"},{line,18}]},{'Elixir.Archive.StartAllCamerasVisor',run,1,[{file,"lib/archive/start_all_cameras_visor.ex"},{line,13}]},{'Elixir.Task.Supervised',invoke_mfa,2,[{file,"lib/task/supervised.ex"},{line,90}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}
     Offender:   [{pid,<0.958.0>},{id,'Elixir.Archive.StartAllCamerasVisor'},{mfargs,{'Elixir.Archive.StartAllCamerasVisor',start_link,[[]]}},{restart_type,temporary},{shutdown,5000},{child_type,worker}]

2019-09-02 15:50:11 =ERROR REPORT====
** Generic server tzdata_release_updater terminating 
** Last message in was check_if_time_to_update
** When Server state == []
** Reason for termination ==
** {function_clause,[{'Elixir.Tzdata.Util',first_matching_weekday_in_month,[1932,4,7,[]],[{file,"lib/tzdata/util.ex"},{line,73}]},{'Elixir.Tzdata.Util',time_for_rule,2,[{file,"lib/tzdata/util.ex"},{line,329}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,161}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,180}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,185}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,180}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,185}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,180}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,185}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,180}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,185}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,180}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,185}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,180}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,185}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,180}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,185}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,180}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,185}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,180}]}]}
2019-09-02 15:50:11 =CRASH REPORT====
  crasher:
    initial call: Elixir.Tzdata.ReleaseUpdater:init/1
    pid: <0.411.0>
    registered_name: tzdata_release_updater
    exception error: {function_clause,[{'Elixir.Tzdata.Util',first_matching_weekday_in_month,[1932,4,7,[]],[{file,"lib/tzdata/util.ex"},{line,73}]},{'Elixir.Tzdata.Util',time_for_rule,2,[{file,"lib/tzdata/util.ex"},{line,329}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,161}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,180}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,185}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,180}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,185}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,180}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,185}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,180}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,185}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,180}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,185}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,180}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,185}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,180}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,185}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,180}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,185}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,180}]}]}
    ancestors: [<0.405.0>,<0.404.0>]
    message_queue_len: 0
    messages: []
    links: [<0.405.0>]
    dictionary: [{random_seed,{27839,21123,25074}}]
    trap_exit: false
    status: running
    heap_size: 46422
    stack_size: 27
    reductions: 10540201
  neighbours:
2019-09-02 15:50:11 =SUPERVISOR REPORT====
     Supervisor: {<0.405.0>,'Elixir.Supervisor.Default'}
     Context:    child_terminated
     Reason:     {function_clause,[{'Elixir.Tzdata.Util',first_matching_weekday_in_month,[1932,4,7,[]],[{file,"lib/tzdata/util.ex"},{line,73}]},{'Elixir.Tzdata.Util',time_for_rule,2,[{file,"lib/tzdata/util.ex"},{line,329}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,161}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,180}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,185}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,180}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,185}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,180}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,185}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,180}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,185}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,180}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,185}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,180}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,185}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,180}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,185}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,180}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,185}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,180}]}]}
     Offender:   [{pid,<0.411.0>},{id,'Elixir.Tzdata.ReleaseUpdater'},{mfargs,{'Elixir.Tzdata.ReleaseUpdater',start_link,[]}},{restart_type,permanent},{shutdown,5000},{child_type,worker}]

2019-09-05 15:14:52 =ERROR REPORT====
** Task <0.980.0> terminating
** Started from 'Elixir.Archive.Supervisor'
** When function  == fun Elixir.Archive.StartAllCamerasVisor:run/1
**      arguments == [[]]
** Reason for termination == 
** {#{'__exception__' => true,'__struct__' => 'Elixir.DBConnection.ConnectionError',message => <<"connection not available and request was dropped from queue after 2374ms. You can configure how long requests wait in the queue using :queue_target and :queue_interval. See DBConnection.start_link/2 for more information">>},[{'Elixir.Ecto.Adapters.SQL',raise_sql_call_error,1,[{file,"lib/ecto/adapters/sql.ex"},{line,618}]},{'Elixir.Ecto.Adapters.SQL',execute,5,[{file,"lib/ecto/adapters/sql.ex"},{line,551}]},{'Elixir.Ecto.Repo.Queryable',execute,4,[{file,"lib/ecto/repo/queryable.ex"},{line,153}]},{'Elixir.Ecto.Repo.Queryable',all,3,[{file,"lib/ecto/repo/queryable.ex"},{line,18}]},{'Elixir.Archive.StartAllCamerasVisor',run,1,[{file,"lib/archive/start_all_cameras_visor.ex"},{line,13}]},{'Elixir.Task.Supervised',invoke_mfa,2,[{file,"lib/task/supervised.ex"},{line,90}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}
2019-09-05 15:14:52 =CRASH REPORT====
  crasher:
    initial call: Elixir.Archive.StartAllCamerasVisor:run/1
    pid: <0.980.0>
    registered_name: []
    exception error: {#{'__exception__' => true,'__struct__' => 'Elixir.DBConnection.ConnectionError',message => <<"connection not available and request was dropped from queue after 2374ms. You can configure how long requests wait in the queue using :queue_target and :queue_interval. See DBConnection.start_link/2 for more information">>},[{'Elixir.Ecto.Adapters.SQL',raise_sql_call_error,1,[{file,"lib/ecto/adapters/sql.ex"},{line,618}]},{'Elixir.Ecto.Adapters.SQL',execute,5,[{file,"lib/ecto/adapters/sql.ex"},{line,551}]},{'Elixir.Ecto.Repo.Queryable',execute,4,[{file,"lib/ecto/repo/queryable.ex"},{line,153}]},{'Elixir.Ecto.Repo.Queryable',all,3,[{file,"lib/ecto/repo/queryable.ex"},{line,18}]},{'Elixir.Archive.StartAllCamerasVisor',run,1,[{file,"lib/archive/start_all_cameras_visor.ex"},{line,13}]},{'Elixir.Task.Supervised',invoke_mfa,2,[{file,"lib/task/supervised.ex"},{line,90}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}
    ancestors: ['Elixir.Archive.Supervisor',<0.846.0>]
    message_queue_len: 0
    messages: []
    links: [<0.847.0>]
    dictionary: [{'$callers',[<0.847.0>]}]
    trap_exit: false
    status: running
    heap_size: 17731
    stack_size: 27
    reductions: 32995
  neighbours:
2019-09-05 15:14:52 =SUPERVISOR REPORT====
     Supervisor: {local,'Elixir.Archive.Supervisor'}
     Context:    child_terminated
     Reason:     {#{'__exception__' => true,'__struct__' => 'Elixir.DBConnection.ConnectionError',message => <<"connection not available and request was dropped from queue after 2374ms. You can configure how long requests wait in the queue using :queue_target and :queue_interval. See DBConnection.start_link/2 for more information">>},[{'Elixir.Ecto.Adapters.SQL',raise_sql_call_error,1,[{file,"lib/ecto/adapters/sql.ex"},{line,618}]},{'Elixir.Ecto.Adapters.SQL',execute,5,[{file,"lib/ecto/adapters/sql.ex"},{line,551}]},{'Elixir.Ecto.Repo.Queryable',execute,4,[{file,"lib/ecto/repo/queryable.ex"},{line,153}]},{'Elixir.Ecto.Repo.Queryable',all,3,[{file,"lib/ecto/repo/queryable.ex"},{line,18}]},{'Elixir.Archive.StartAllCamerasVisor',run,1,[{file,"lib/archive/start_all_cameras_visor.ex"},{line,13}]},{'Elixir.Task.Supervised',invoke_mfa,2,[{file,"lib/task/supervised.ex"},{line,90}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}
     Offender:   [{pid,<0.980.0>},{id,'Elixir.Archive.StartAllCamerasVisor'},{mfargs,{'Elixir.Archive.StartAllCamerasVisor',start_link,[[]]}},{restart_type,temporary},{shutdown,5000},{child_type,worker}]

2019-09-06 11:09:22 =ERROR REPORT====
** Task <0.927.0> terminating
** Started from 'Elixir.Archive.Supervisor'
** When function  == fun Elixir.Archive.StartAllCamerasVisor:run/1
**      arguments == [[]]
** Reason for termination == 
** {#{'__exception__' => true,'__struct__' => 'Elixir.DBConnection.ConnectionError',message => <<"connection not available and request was dropped from queue after 2415ms. You can configure how long requests wait in the queue using :queue_target and :queue_interval. See DBConnection.start_link/2 for more information">>},[{'Elixir.Ecto.Adapters.SQL',raise_sql_call_error,1,[{file,"lib/ecto/adapters/sql.ex"},{line,618}]},{'Elixir.Ecto.Adapters.SQL',execute,5,[{file,"lib/ecto/adapters/sql.ex"},{line,551}]},{'Elixir.Ecto.Repo.Queryable',execute,4,[{file,"lib/ecto/repo/queryable.ex"},{line,153}]},{'Elixir.Ecto.Repo.Queryable',all,3,[{file,"lib/ecto/repo/queryable.ex"},{line,18}]},{'Elixir.Archive.StartAllCamerasVisor',run,1,[{file,"lib/archive/start_all_cameras_visor.ex"},{line,13}]},{'Elixir.Task.Supervised',invoke_mfa,2,[{file,"lib/task/supervised.ex"},{line,90}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}
2019-09-06 11:09:22 =CRASH REPORT====
  crasher:
    initial call: Elixir.Archive.StartAllCamerasVisor:run/1
    pid: <0.927.0>
    registered_name: []
    exception error: {#{'__exception__' => true,'__struct__' => 'Elixir.DBConnection.ConnectionError',message => <<"connection not available and request was dropped from queue after 2415ms. You can configure how long requests wait in the queue using :queue_target and :queue_interval. See DBConnection.start_link/2 for more information">>},[{'Elixir.Ecto.Adapters.SQL',raise_sql_call_error,1,[{file,"lib/ecto/adapters/sql.ex"},{line,618}]},{'Elixir.Ecto.Adapters.SQL',execute,5,[{file,"lib/ecto/adapters/sql.ex"},{line,551}]},{'Elixir.Ecto.Repo.Queryable',execute,4,[{file,"lib/ecto/repo/queryable.ex"},{line,153}]},{'Elixir.Ecto.Repo.Queryable',all,3,[{file,"lib/ecto/repo/queryable.ex"},{line,18}]},{'Elixir.Archive.StartAllCamerasVisor',run,1,[{file,"lib/archive/start_all_cameras_visor.ex"},{line,13}]},{'Elixir.Task.Supervised',invoke_mfa,2,[{file,"lib/task/supervised.ex"},{line,90}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}
    ancestors: ['Elixir.Archive.Supervisor',<0.793.0>]
    message_queue_len: 0
    messages: []
    links: [<0.794.0>]
    dictionary: [{'$callers',[<0.794.0>]}]
    trap_exit: false
    status: running
    heap_size: 17731
    stack_size: 27
    reductions: 31997
  neighbours:
2019-09-06 11:09:22 =SUPERVISOR REPORT====
     Supervisor: {local,'Elixir.Archive.Supervisor'}
     Context:    child_terminated
     Reason:     {#{'__exception__' => true,'__struct__' => 'Elixir.DBConnection.ConnectionError',message => <<"connection not available and request was dropped from queue after 2415ms. You can configure how long requests wait in the queue using :queue_target and :queue_interval. See DBConnection.start_link/2 for more information">>},[{'Elixir.Ecto.Adapters.SQL',raise_sql_call_error,1,[{file,"lib/ecto/adapters/sql.ex"},{line,618}]},{'Elixir.Ecto.Adapters.SQL',execute,5,[{file,"lib/ecto/adapters/sql.ex"},{line,551}]},{'Elixir.Ecto.Repo.Queryable',execute,4,[{file,"lib/ecto/repo/queryable.ex"},{line,153}]},{'Elixir.Ecto.Repo.Queryable',all,3,[{file,"lib/ecto/repo/queryable.ex"},{line,18}]},{'Elixir.Archive.StartAllCamerasVisor',run,1,[{file,"lib/archive/start_all_cameras_visor.ex"},{line,13}]},{'Elixir.Task.Supervised',invoke_mfa,2,[{file,"lib/task/supervised.ex"},{line,90}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}
     Offender:   [{pid,<0.927.0>},{id,'Elixir.Archive.StartAllCamerasVisor'},{mfargs,{'Elixir.Archive.StartAllCamerasVisor',start_link,[[]]}},{restart_type,temporary},{shutdown,5000},{child_type,worker}]

2019-09-06 11:09:25 =ERROR REPORT====
** Generic server tzdata_release_updater terminating 
** Last message in was check_if_time_to_update
** When Server state == []
** Reason for termination ==
** {function_clause,[{'Elixir.Tzdata.Util',first_matching_weekday_in_month,[1932,4,7,[]],[{file,"lib/tzdata/util.ex"},{line,73}]},{'Elixir.Tzdata.Util',time_for_rule,2,[{file,"lib/tzdata/util.ex"},{line,329}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,161}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,180}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,185}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,180}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,185}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,180}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,185}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,180}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,185}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,180}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,185}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,180}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,185}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,180}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,185}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,180}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,185}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,180}]}]}
2019-09-06 11:09:25 =CRASH REPORT====
  crasher:
    initial call: Elixir.Tzdata.ReleaseUpdater:init/1
    pid: <0.380.0>
    registered_name: tzdata_release_updater
    exception error: {function_clause,[{'Elixir.Tzdata.Util',first_matching_weekday_in_month,[1932,4,7,[]],[{file,"lib/tzdata/util.ex"},{line,73}]},{'Elixir.Tzdata.Util',time_for_rule,2,[{file,"lib/tzdata/util.ex"},{line,329}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,161}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,180}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,185}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,180}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,185}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,180}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,185}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,180}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,185}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,180}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,185}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,180}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,185}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,180}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,185}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,180}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,185}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,180}]}]}
    ancestors: [<0.374.0>,<0.373.0>]
    message_queue_len: 0
    messages: []
    links: [<0.374.0>]
    dictionary: [{random_seed,{27839,21123,25074}}]
    trap_exit: false
    status: running
    heap_size: 46422
    stack_size: 27
    reductions: 10541782
  neighbours:
2019-09-06 11:09:25 =SUPERVISOR REPORT====
     Supervisor: {<0.374.0>,'Elixir.Supervisor.Default'}
     Context:    child_terminated
     Reason:     {function_clause,[{'Elixir.Tzdata.Util',first_matching_weekday_in_month,[1932,4,7,[]],[{file,"lib/tzdata/util.ex"},{line,73}]},{'Elixir.Tzdata.Util',time_for_rule,2,[{file,"lib/tzdata/util.ex"},{line,329}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,161}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,180}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,185}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,180}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,185}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,180}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,185}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,180}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,185}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,180}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,185}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,180}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,185}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,180}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,185}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,180}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,185}]},{'Elixir.Tzdata.PeriodBuilder',calc_periods_for_year,9,[{file,"lib/tzdata/period_builder.ex"},{line,180}]}]}
     Offender:   [{pid,<0.380.0>},{id,'Elixir.Tzdata.ReleaseUpdater'},{mfargs,{'Elixir.Tzdata.ReleaseUpdater',start_link,[]}},{restart_type,permanent},{shutdown,5000},{child_type,worker}]

2019-10-16 18:17:59 =CRASH REPORT====
  crasher:
    initial call: Elixir.Archive.VideoVisor:init/1
    pid: <0.1008.0>
    registered_name: []
    exception error: bad argument: [{'Elixir.Archive.VideoVisor',create_dir,2,[{file,"lib/archive/video_visor.ex"},{line,59}]},{'Elixir.Archive.VideoVisor',init,1,[{file,"lib/archive/video_visor.ex"},{line,32}]},{gen_server,init_it,2,[{file,"gen_server.erl"},{line,374}]},{gen_server,init_it,6,[{file,"gen_server.erl"},{line,342}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]
    ancestors: ['Elixir.Archive.VideoDynamicSupervisor','Elixir.Archive.Supervisor',<0.858.0>]
    message_queue_len: 0
    messages: []
    links: [<0.991.0>]
    dictionary: []
    trap_exit: true
    status: running
    heap_size: 610
    stack_size: 27
    reductions: 381
  neighbours:
2019-10-16 18:17:59 =CRASH REPORT====
  crasher:
    initial call: Elixir.Archive.VideoVisor:init/1
    pid: <0.1009.0>
    registered_name: []
    exception error: bad argument: [{'Elixir.Archive.VideoVisor',create_dir,2,[{file,"lib/archive/video_visor.ex"},{line,59}]},{'Elixir.Archive.VideoVisor',init,1,[{file,"lib/archive/video_visor.ex"},{line,32}]},{gen_server,init_it,2,[{file,"gen_server.erl"},{line,374}]},{gen_server,init_it,6,[{file,"gen_server.erl"},{line,342}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]
    ancestors: ['Elixir.Archive.VideoDynamicSupervisor','Elixir.Archive.Supervisor',<0.858.0>]
    message_queue_len: 0
    messages: []
    links: [<0.991.0>]
    dictionary: []
    trap_exit: true
    status: running
    heap_size: 610
    stack_size: 27
    reductions: 368
  neighbours:
2019-10-16 18:18:11 =CRASH REPORT====
  crasher:
    initial call: cowboy_stream_h:request_process/3
    pid: <0.1153.0>
    registered_name: []
    exception exit: {{{{#{'__exception__' => true,'__struct__' => 'Elixir.Phoenix.Router.NoRouteError',conn => #{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 0,cert => undefined,has_body => false,headers => #{<<"accept">> => <<"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3">>,<<"accept-encoding">> => <<"gzip, deflate, br">>,<<"accept-language">> => <<"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7">>,<<"connection">> => <<"keep-alive">>,<<"host">> => <<"localhost:4000">>,<<"sec-fetch-mode">> => <<"navigate">>,<<"sec-fetch-site">> => <<"none">>,<<"sec-fetch-user">> => <<"?1">>,<<"upgrade-insecure-requests">> => <<"1">>,<<"user-agent">> => <<"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) snap Chromium/77.0.3865.90 Chrome/77.0.3865.90 Safari/537.36">>},host => <<"localhost">>,host_info => undefined,method => <<"GET">>,path => <<"/swagger">>,path_info => undefined,peer => {{127,0,0,1},50456},pid => <0.1151.0>,port => 4000,qs => <<>>,ref => 'Elixir.DomoapiWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},4000},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [#Fun<Elixir.Plug.Logger.1.16531471>,#Fun<Elixir.Phoenix.LiveReloader.0.121962774>],body_params => #{},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"localhost">>,method => <<"GET">>,owner => <0.1153.0>,params => #{},path_info => [<<"swagger">>],path_params => #{},port => 4000,private => #{'Elixir.DomoapiWeb.Router' => {[],#{'Elixir.PhoenixSwagger.Plug.SwaggerUI' => []}},phoenix_endpoint => 'Elixir.DomoapiWeb.Endpoint',phoenix_router => 'Elixir.DomoapiWeb.Router',plug_session_fetch => #Fun<Elixir.Plug.Session.1.35161479>},query_params => #{},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3">>},{<<"accept-encoding">>,<<"gzip, deflate, br">>},{<<"accept-language">>,<<"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7">>},{<<"connection">>,<<"keep-alive">>},{<<"host">>,<<"localhost:4000">>},{<<"sec-fetch-mode">>,<<"navigate">>},{<<"sec-fetch-site">>,<<"none">>},{<<"sec-fetch-user">>,<<"?1">>},{<<"upgrade-insecure-requests">>,<<"1">>},{<<"user-agent">>,<<"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) snap Chromium/77.0.3865.90 Chrome/77.0.3865.90 Safari/537.36">>}],request_path => <<"/swagger">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>},{<<"x-request-id">>,<<"Fc4mWq-j6CVd3GQAAAkD">>}],scheme => http,script_name => [],secret_key_base => <<"ev62lNRCtdBr39e00iYHTrEOGGHD1c9L8fi2zWw/4vDZF0w1S3HpUxXLVMCV4atf">>,state => unset,status => nil},message => <<"no route found for GET /swagger (DomoapiWeb.Router)">>,plug_status => 404,router => 'Elixir.DomoapiWeb.Router'},[{'Elixir.DomoapiWeb.Router','__match_route__',4,[{file,"lib/domoapi_web/router.ex"},{line,1}]},{'Elixir.DomoapiWeb.Router',call,2,[{file,"lib/phoenix/router.ex"},{line,304}]},{'Elixir.DomoapiWeb.Endpoint',plug_builder_call,2,[{file,"lib/domoapi_web/endpoint.ex"},{line,1}]},{'Elixir.DomoapiWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.DomoapiWeb.Endpoint',call,2,[{file,"lib/domoapi_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,33}]},{cowboy_handler,execute,2,[{file,"/home/gdeon/Domoface/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/gdeon/Domoface/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,296}]},{cowboy_stream_h,request_process,3,[{file,"/home/gdeon/Domoface/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,274}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.DomoapiWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 0,cert => undefined,has_body => false,headers => #{<<"accept">> => <<"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3">>,<<"accept-encoding">> => <<"gzip, deflate, br">>,<<"accept-language">> => <<"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7">>,<<"connection">> => <<"keep-alive">>,<<"host">> => <<"localhost:4000">>,<<"sec-fetch-mode">> => <<"navigate">>,<<"sec-fetch-site">> => <<"none">>,<<"sec-fetch-user">> => <<"?1">>,<<"upgrade-insecure-requests">> => <<"1">>,<<"user-agent">> => <<"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) snap Chromium/77.0.3865.90 Chrome/77.0.3865.90 Safari/537.36">>},host => <<"localhost">>,host_info => undefined,method => <<"GET">>,path => <<"/swagger">>,path_info => undefined,peer => {{127,0,0,1},50456},pid => <0.1151.0>,port => 4000,qs => <<>>,ref => 'Elixir.DomoapiWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},4000},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"localhost">>,method => <<"GET">>,owner => <0.1153.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"swagger">>],path_params => #{},port => 4000,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3">>},{<<"accept-encoding">>,<<"gzip, deflate, br">>},{<<"accept-language">>,<<"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7">>},{<<"connection">>,<<"keep-alive">>},{<<"host">>,<<"localhost:4000">>},{<<"sec-fetch-mode">>,<<"navigate">>},{<<"sec-fetch-site">>,<<"none">>},{<<"sec-fetch-user">>,<<"?1">>},{<<"upgrade-insecure-requests">>,<<"1">>},{<<"user-agent">>,<<"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) snap Chromium/77.0.3865.90 Chrome/77.0.3865.90 Safari/537.36">>}],request_path => <<"/swagger">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/gdeon/Domoface/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/gdeon/Domoface/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,296}]},{cowboy_stream_h,request_process,3,[{file,"/home/gdeon/Domoface/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,274}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/gdeon/Domoface/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/gdeon/Domoface/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,296}]},{cowboy_stream_h,request_process,3,[{file,"/home/gdeon/Domoface/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,274}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}
    ancestors: [<0.1151.0>,<0.732.0>,<0.731.0>,'Elixir.DomoapiWeb.Endpoint','Elixir.DomoapiWeb.Supervisor',<0.711.0>]
    message_queue_len: 0
    messages: []
    links: [<0.1151.0>]
    dictionary: [{logger_metadata,{true,[{request_id,<<"Fc4mWq-j6CVd3GQAAAkD">>}]}}]
    trap_exit: false
    status: running
    heap_size: 17731
    stack_size: 27
    reductions: 125954
  neighbours:
2019-10-16 18:18:11 =ERROR REPORT====
Ranch listener 'Elixir.DomoapiWeb.Endpoint.HTTP', connection process <0.1151.0>, stream 1 had its request process <0.1153.0> exit with reason {{#{'__exception__' => true,'__struct__' => 'Elixir.Phoenix.Router.NoRouteError',conn => #{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 0,cert => undefined,has_body => false,headers => #{<<"accept">> => <<"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3">>,<<"accept-encoding">> => <<"gzip, deflate, br">>,<<"accept-language">> => <<"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7">>,<<"connection">> => <<"keep-alive">>,<<"host">> => <<"localhost:4000">>,<<"sec-fetch-mode">> => <<"navigate">>,<<"sec-fetch-site">> => <<"none">>,<<"sec-fetch-user">> => <<"?1">>,<<"upgrade-insecure-requests">> => <<"1">>,<<"user-agent">> => <<"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) snap Chromium/77.0.3865.90 Chrome/77.0.3865.90 Safari/537.36">>},host => <<"localhost">>,host_info => undefined,method => <<"GET">>,path => <<"/swagger">>,path_info => undefined,peer => {{127,0,0,1},50456},pid => <0.1151.0>,port => 4000,qs => <<>>,ref => 'Elixir.DomoapiWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},4000},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [#Fun<Elixir.Plug.Logger.1.16531471>,#Fun<Elixir.Phoenix.LiveReloader.0.121962774>],body_params => #{},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"localhost">>,method => <<"GET">>,owner => <0.1153.0>,params => #{},path_info => [<<"swagger">>],path_params => #{},port => 4000,private => #{'Elixir.DomoapiWeb.Router' => {[],#{'Elixir.PhoenixSwagger.Plug.SwaggerUI' => []}},phoenix_endpoint => 'Elixir.DomoapiWeb.Endpoint',phoenix_router => 'Elixir.DomoapiWeb.Router',plug_session_fetch => #Fun<Elixir.Plug.Session.1.35161479>},query_params => #{},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3">>},{<<"accept-encoding">>,<<"gzip, deflate, br">>},{<<"accept-language">>,<<"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7">>},{<<"connection">>,<<"keep-alive">>},{<<"host">>,<<"localhost:4000">>},{<<"sec-fetch-mode">>,<<"navigate">>},{<<"sec-fetch-site">>,<<"none">>},{<<"sec-fetch-user">>,<<"?1">>},{<<"upgrade-insecure-requests">>,<<"1">>},{<<"user-agent">>,<<"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) snap Chromium/77.0.3865.90 Chrome/77.0.3865.90 Safari/537.36">>}],request_path => <<"/swagger">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>},{<<"x-request-id">>,<<"Fc4mWq-j6CVd3GQAAAkD">>}],scheme => http,script_name => [],secret_key_base => <<"ev62lNRCtdBr39e00iYHTrEOGGHD1c9L8fi2zWw/4vDZF0w1S3HpUxXLVMCV4atf">>,state => unset,status => nil},message => <<"no route found for GET /swagger (DomoapiWeb.Router)">>,plug_status => 404,router => 'Elixir.DomoapiWeb.Router'},[{'Elixir.DomoapiWeb.Router','__match_route__',4,[{file,"lib/domoapi_web/router.ex"},{line,1}]},{'Elixir.DomoapiWeb.Router',call,2,[{file,"lib/phoenix/router.ex"},{line,304}]},{'Elixir.DomoapiWeb.Endpoint',plug_builder_call,2,[{file,"lib/domoapi_web/endpoint.ex"},{line,1}]},{'Elixir.DomoapiWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.DomoapiWeb.Endpoint',call,2,[{file,"lib/domoapi_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,33}]},{cowboy_handler,execute,2,[{file,"/home/gdeon/Domoface/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/gdeon/Domoface/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,296}]},{cowboy_stream_h,request_process,3,[{file,"/home/gdeon/Domoface/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,274}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.DomoapiWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 0,cert => undefined,has_body => false,headers => #{<<"accept">> => <<"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3">>,<<"accept-encoding">> => <<"gzip, deflate, br">>,<<"accept-language">> => <<"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7">>,<<"connection">> => <<"keep-alive">>,<<"host">> => <<"localhost:4000">>,<<"sec-fetch-mode">> => <<"navigate">>,<<"sec-fetch-site">> => <<"none">>,<<"sec-fetch-user">> => <<"?1">>,<<"upgrade-insecure-requests">> => <<"1">>,<<"user-agent">> => <<"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) snap Chromium/77.0.3865.90 Chrome/77.0.3865.90 Safari/537.36">>},host => <<"localhost">>,host_info => undefined,method => <<"GET">>,path => <<"/swagger">>,path_info => undefined,peer => {{127,0,0,1},50456},pid => <0.1151.0>,port => 4000,qs => <<>>,ref => 'Elixir.DomoapiWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},4000},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"localhost">>,method => <<"GET">>,owner => <0.1153.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"swagger">>],path_params => #{},port => 4000,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3">>},{<<"accept-encoding">>,<<"gzip, deflate, br">>},{<<"accept-language">>,<<"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7">>},{<<"connection">>,<<"keep-alive">>},{<<"host">>,<<"localhost:4000">>},{<<"sec-fetch-mode">>,<<"navigate">>},{<<"sec-fetch-site">>,<<"none">>},{<<"sec-fetch-user">>,<<"?1">>},{<<"upgrade-insecure-requests">>,<<"1">>},{<<"user-agent">>,<<"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) snap Chromium/77.0.3865.90 Chrome/77.0.3865.90 Safari/537.36">>}],request_path => <<"/swagger">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}} and stacktrace [{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/gdeon/Domoface/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/gdeon/Domoface/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,296}]},{cowboy_stream_h,request_process,3,[{file,"/home/gdeon/Domoface/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,274}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]
2019-10-16 18:18:11 =CRASH REPORT====
  crasher:
    initial call: cowboy_stream_h:request_process/3
    pid: <0.1156.0>
    registered_name: []
    exception exit: {{{{#{'__exception__' => true,'__struct__' => 'Elixir.Phoenix.Router.NoRouteError',conn => #{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 0,cert => undefined,has_body => false,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip, deflate, br">>,<<"accept-language">> => <<"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7">>,<<"connection">> => <<"keep-alive">>,<<"host">> => <<"localhost:4000">>,<<"origin">> => <<"http://localhost:4000">>,<<"referer">> => <<"http://localhost:4000/swagger">>,<<"sec-fetch-mode">> => <<"cors">>,<<"sec-fetch-site">> => <<"same-origin">>,<<"user-agent">> => <<"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) snap Chromium/77.0.3865.90 Chrome/77.0.3865.90 Safari/537.36">>},host => <<"localhost">>,host_info => undefined,method => <<"GET">>,path => <<"/fonts/Roboto-Regular.ttf">>,path_info => undefined,peer => {{127,0,0,1},50456},pid => <0.1151.0>,port => 4000,qs => <<>>,ref => 'Elixir.DomoapiWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},4000},streamid => 2,version => 'HTTP/1.1'}},assigns => #{},before_send => [#Fun<Elixir.Plug.Logger.1.16531471>,#Fun<Elixir.Phoenix.LiveReloader.0.121962774>],body_params => #{},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"localhost">>,method => <<"GET">>,owner => <0.1156.0>,params => #{},path_info => [<<"fonts">>,<<"Roboto-Regular.ttf">>],path_params => #{},port => 4000,private => #{'Elixir.DomoapiWeb.Router' => {[],#{'Elixir.PhoenixSwagger.Plug.SwaggerUI' => []}},phoenix_endpoint => 'Elixir.DomoapiWeb.Endpoint',phoenix_router => 'Elixir.DomoapiWeb.Router',plug_session_fetch => #Fun<Elixir.Plug.Session.1.35161479>},query_params => #{},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip, deflate, br">>},{<<"accept-language">>,<<"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7">>},{<<"connection">>,<<"keep-alive">>},{<<"host">>,<<"localhost:4000">>},{<<"origin">>,<<"http://localhost:4000">>},{<<"referer">>,<<"http://localhost:4000/swagger">>},{<<"sec-fetch-mode">>,<<"cors">>},{<<"sec-fetch-site">>,<<"same-origin">>},{<<"user-agent">>,<<"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) snap Chromium/77.0.3865.90 Chrome/77.0.3865.90 Safari/537.36">>}],request_path => <<"/fonts/Roboto-Regular.ttf">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>},{<<"access-control-allow-credentials">>,<<"true">>},{<<"access-control-allow-origin">>,<<"http://localhost:4000">>},{<<"x-request-id">>,<<"Fc4mWs6jvPvfy3gAAAkj">>}],scheme => http,script_name => [],secret_key_base => <<"ev62lNRCtdBr39e00iYHTrEOGGHD1c9L8fi2zWw/4vDZF0w1S3HpUxXLVMCV4atf">>,state => unset,status => nil},message => <<"no route found for GET /fonts/Roboto-Regular.ttf (DomoapiWeb.Router)">>,plug_status => 404,router => 'Elixir.DomoapiWeb.Router'},[{'Elixir.DomoapiWeb.Router','__match_route__',4,[{file,"lib/domoapi_web/router.ex"},{line,1}]},{'Elixir.DomoapiWeb.Router',call,2,[{file,"lib/phoenix/router.ex"},{line,304}]},{'Elixir.DomoapiWeb.Endpoint',plug_builder_call,2,[{file,"lib/domoapi_web/endpoint.ex"},{line,1}]},{'Elixir.DomoapiWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.DomoapiWeb.Endpoint',call,2,[{file,"lib/domoapi_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,33}]},{cowboy_handler,execute,2,[{file,"/home/gdeon/Domoface/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/gdeon/Domoface/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,296}]},{cowboy_stream_h,request_process,3,[{file,"/home/gdeon/Domoface/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,274}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.DomoapiWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 0,cert => undefined,has_body => false,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip, deflate, br">>,<<"accept-language">> => <<"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7">>,<<"connection">> => <<"keep-alive">>,<<"host">> => <<"localhost:4000">>,<<"origin">> => <<"http://localhost:4000">>,<<"referer">> => <<"http://localhost:4000/swagger">>,<<"sec-fetch-mode">> => <<"cors">>,<<"sec-fetch-site">> => <<"same-origin">>,<<"user-agent">> => <<"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) snap Chromium/77.0.3865.90 Chrome/77.0.3865.90 Safari/537.36">>},host => <<"localhost">>,host_info => undefined,method => <<"GET">>,path => <<"/fonts/Roboto-Regular.ttf">>,path_info => undefined,peer => {{127,0,0,1},50456},pid => <0.1151.0>,port => 4000,qs => <<>>,ref => 'Elixir.DomoapiWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},4000},streamid => 2,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"localhost">>,method => <<"GET">>,owner => <0.1156.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"fonts">>,<<"Roboto-Regular.ttf">>],path_params => #{},port => 4000,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip, deflate, br">>},{<<"accept-language">>,<<"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7">>},{<<"connection">>,<<"keep-alive">>},{<<"host">>,<<"localhost:4000">>},{<<"origin">>,<<"http://localhost:4000">>},{<<"referer">>,<<"http://localhost:4000/swagger">>},{<<"sec-fetch-mode">>,<<"cors">>},{<<"sec-fetch-site">>,<<"same-origin">>},{<<"user-agent">>,<<"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) snap Chromium/77.0.3865.90 Chrome/77.0.3865.90 Safari/537.36">>}],request_path => <<"/fonts/Roboto-Regular.ttf">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/gdeon/Domoface/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/gdeon/Domoface/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,296}]},{cowboy_stream_h,request_process,3,[{file,"/home/gdeon/Domoface/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,274}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/gdeon/Domoface/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/gdeon/Domoface/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,296}]},{cowboy_stream_h,request_process,3,[{file,"/home/gdeon/Domoface/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,274}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}
    ancestors: [<0.1151.0>,<0.732.0>,<0.731.0>,'Elixir.DomoapiWeb.Endpoint','Elixir.DomoapiWeb.Supervisor',<0.711.0>]
    message_queue_len: 0
    messages: []
    links: [<0.1151.0>]
    dictionary: [{logger_metadata,{true,[{request_id,<<"Fc4mWs6jvPvfy3gAAAkj">>}]}}]
    trap_exit: false
    status: running
    heap_size: 17731
    stack_size: 27
    reductions: 124142
  neighbours:
2019-10-16 18:18:11 =ERROR REPORT====
Ranch listener 'Elixir.DomoapiWeb.Endpoint.HTTP', connection process <0.1151.0>, stream 2 had its request process <0.1156.0> exit with reason {{#{'__exception__' => true,'__struct__' => 'Elixir.Phoenix.Router.NoRouteError',conn => #{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 0,cert => undefined,has_body => false,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip, deflate, br">>,<<"accept-language">> => <<"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7">>,<<"connection">> => <<"keep-alive">>,<<"host">> => <<"localhost:4000">>,<<"origin">> => <<"http://localhost:4000">>,<<"referer">> => <<"http://localhost:4000/swagger">>,<<"sec-fetch-mode">> => <<"cors">>,<<"sec-fetch-site">> => <<"same-origin">>,<<"user-agent">> => <<"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) snap Chromium/77.0.3865.90 Chrome/77.0.3865.90 Safari/537.36">>},host => <<"localhost">>,host_info => undefined,method => <<"GET">>,path => <<"/fonts/Roboto-Regular.ttf">>,path_info => undefined,peer => {{127,0,0,1},50456},pid => <0.1151.0>,port => 4000,qs => <<>>,ref => 'Elixir.DomoapiWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},4000},streamid => 2,version => 'HTTP/1.1'}},assigns => #{},before_send => [#Fun<Elixir.Plug.Logger.1.16531471>,#Fun<Elixir.Phoenix.LiveReloader.0.121962774>],body_params => #{},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"localhost">>,method => <<"GET">>,owner => <0.1156.0>,params => #{},path_info => [<<"fonts">>,<<"Roboto-Regular.ttf">>],path_params => #{},port => 4000,private => #{'Elixir.DomoapiWeb.Router' => {[],#{'Elixir.PhoenixSwagger.Plug.SwaggerUI' => []}},phoenix_endpoint => 'Elixir.DomoapiWeb.Endpoint',phoenix_router => 'Elixir.DomoapiWeb.Router',plug_session_fetch => #Fun<Elixir.Plug.Session.1.35161479>},query_params => #{},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip, deflate, br">>},{<<"accept-language">>,<<"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7">>},{<<"connection">>,<<"keep-alive">>},{<<"host">>,<<"localhost:4000">>},{<<"origin">>,<<"http://localhost:4000">>},{<<"referer">>,<<"http://localhost:4000/swagger">>},{<<"sec-fetch-mode">>,<<"cors">>},{<<"sec-fetch-site">>,<<"same-origin">>},{<<"user-agent">>,<<"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) snap Chromium/77.0.3865.90 Chrome/77.0.3865.90 Safari/537.36">>}],request_path => <<"/fonts/Roboto-Regular.ttf">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>},{<<"access-control-allow-credentials">>,<<"true">>},{<<"access-control-allow-origin">>,<<"http://localhost:4000">>},{<<"x-request-id">>,<<"Fc4mWs6jvPvfy3gAAAkj">>}],scheme => http,script_name => [],secret_key_base => <<"ev62lNRCtdBr39e00iYHTrEOGGHD1c9L8fi2zWw/4vDZF0w1S3HpUxXLVMCV4atf">>,state => unset,status => nil},message => <<"no route found for GET /fonts/Roboto-Regular.ttf (DomoapiWeb.Router)">>,plug_status => 404,router => 'Elixir.DomoapiWeb.Router'},[{'Elixir.DomoapiWeb.Router','__match_route__',4,[{file,"lib/domoapi_web/router.ex"},{line,1}]},{'Elixir.DomoapiWeb.Router',call,2,[{file,"lib/phoenix/router.ex"},{line,304}]},{'Elixir.DomoapiWeb.Endpoint',plug_builder_call,2,[{file,"lib/domoapi_web/endpoint.ex"},{line,1}]},{'Elixir.DomoapiWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.DomoapiWeb.Endpoint',call,2,[{file,"lib/domoapi_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,33}]},{cowboy_handler,execute,2,[{file,"/home/gdeon/Domoface/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/gdeon/Domoface/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,296}]},{cowboy_stream_h,request_process,3,[{file,"/home/gdeon/Domoface/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,274}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.DomoapiWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 0,cert => undefined,has_body => false,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip, deflate, br">>,<<"accept-language">> => <<"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7">>,<<"connection">> => <<"keep-alive">>,<<"host">> => <<"localhost:4000">>,<<"origin">> => <<"http://localhost:4000">>,<<"referer">> => <<"http://localhost:4000/swagger">>,<<"sec-fetch-mode">> => <<"cors">>,<<"sec-fetch-site">> => <<"same-origin">>,<<"user-agent">> => <<"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) snap Chromium/77.0.3865.90 Chrome/77.0.3865.90 Safari/537.36">>},host => <<"localhost">>,host_info => undefined,method => <<"GET">>,path => <<"/fonts/Roboto-Regular.ttf">>,path_info => undefined,peer => {{127,0,0,1},50456},pid => <0.1151.0>,port => 4000,qs => <<>>,ref => 'Elixir.DomoapiWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},4000},streamid => 2,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"localhost">>,method => <<"GET">>,owner => <0.1156.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"fonts">>,<<"Roboto-Regular.ttf">>],path_params => #{},port => 4000,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip, deflate, br">>},{<<"accept-language">>,<<"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7">>},{<<"connection">>,<<"keep-alive">>},{<<"host">>,<<"localhost:4000">>},{<<"origin">>,<<"http://localhost:4000">>},{<<"referer">>,<<"http://localhost:4000/swagger">>},{<<"sec-fetch-mode">>,<<"cors">>},{<<"sec-fetch-site">>,<<"same-origin">>},{<<"user-agent">>,<<"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) snap Chromium/77.0.3865.90 Chrome/77.0.3865.90 Safari/537.36">>}],request_path => <<"/fonts/Roboto-Regular.ttf">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}} and stacktrace [{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/gdeon/Domoface/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/gdeon/Domoface/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,296}]},{cowboy_stream_h,request_process,3,[{file,"/home/gdeon/Domoface/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,274}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]
2019-10-16 18:18:11 =CRASH REPORT====
  crasher:
    initial call: cowboy_stream_h:request_process/3
    pid: <0.1159.0>
    registered_name: []
    exception exit: {{{{#{'__exception__' => true,'__struct__' => 'Elixir.Phoenix.Router.NoRouteError',conn => #{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 0,cert => undefined,has_body => false,headers => #{<<"accept">> => <<"image/webp,image/apng,image/*,*/*;q=0.8">>,<<"accept-encoding">> => <<"gzip, deflate, br">>,<<"accept-language">> => <<"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7">>,<<"connection">> => <<"keep-alive">>,<<"host">> => <<"localhost:4000">>,<<"referer">> => <<"http://localhost:4000/swagger">>,<<"sec-fetch-mode">> => <<"no-cors">>,<<"sec-fetch-site">> => <<"same-origin">>,<<"user-agent">> => <<"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) snap Chromium/77.0.3865.90 Chrome/77.0.3865.90 Safari/537.36">>},host => <<"localhost">>,host_info => undefined,method => <<"GET">>,path => <<"/favicon.ico">>,path_info => undefined,peer => {{127,0,0,1},50456},pid => <0.1151.0>,port => 4000,qs => <<>>,ref => 'Elixir.DomoapiWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},4000},streamid => 3,version => 'HTTP/1.1'}},assigns => #{},before_send => [#Fun<Elixir.Plug.Logger.1.16531471>,#Fun<Elixir.Phoenix.LiveReloader.0.121962774>],body_params => #{},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"localhost">>,method => <<"GET">>,owner => <0.1159.0>,params => #{},path_info => [<<"favicon.ico">>],path_params => #{},port => 4000,private => #{'Elixir.DomoapiWeb.Router' => {[],#{'Elixir.PhoenixSwagger.Plug.SwaggerUI' => []}},phoenix_endpoint => 'Elixir.DomoapiWeb.Endpoint',phoenix_router => 'Elixir.DomoapiWeb.Router',plug_session_fetch => #Fun<Elixir.Plug.Session.1.35161479>},query_params => #{},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"image/webp,image/apng,image/*,*/*;q=0.8">>},{<<"accept-encoding">>,<<"gzip, deflate, br">>},{<<"accept-language">>,<<"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7">>},{<<"connection">>,<<"keep-alive">>},{<<"host">>,<<"localhost:4000">>},{<<"referer">>,<<"http://localhost:4000/swagger">>},{<<"sec-fetch-mode">>,<<"no-cors">>},{<<"sec-fetch-site">>,<<"same-origin">>},{<<"user-agent">>,<<"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) snap Chromium/77.0.3865.90 Chrome/77.0.3865.90 Safari/537.36">>}],request_path => <<"/favicon.ico">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>},{<<"x-request-id">>,<<"Fc4mWtqm3n4y5N8AAAlD">>}],scheme => http,script_name => [],secret_key_base => <<"ev62lNRCtdBr39e00iYHTrEOGGHD1c9L8fi2zWw/4vDZF0w1S3HpUxXLVMCV4atf">>,state => unset,status => nil},message => <<"no route found for GET /favicon.ico (DomoapiWeb.Router)">>,plug_status => 404,router => 'Elixir.DomoapiWeb.Router'},[{'Elixir.DomoapiWeb.Router','__match_route__',4,[{file,"lib/domoapi_web/router.ex"},{line,1}]},{'Elixir.DomoapiWeb.Router',call,2,[{file,"lib/phoenix/router.ex"},{line,304}]},{'Elixir.DomoapiWeb.Endpoint',plug_builder_call,2,[{file,"lib/domoapi_web/endpoint.ex"},{line,1}]},{'Elixir.DomoapiWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.DomoapiWeb.Endpoint',call,2,[{file,"lib/domoapi_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,33}]},{cowboy_handler,execute,2,[{file,"/home/gdeon/Domoface/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/gdeon/Domoface/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,296}]},{cowboy_stream_h,request_process,3,[{file,"/home/gdeon/Domoface/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,274}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.DomoapiWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 0,cert => undefined,has_body => false,headers => #{<<"accept">> => <<"image/webp,image/apng,image/*,*/*;q=0.8">>,<<"accept-encoding">> => <<"gzip, deflate, br">>,<<"accept-language">> => <<"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7">>,<<"connection">> => <<"keep-alive">>,<<"host">> => <<"localhost:4000">>,<<"referer">> => <<"http://localhost:4000/swagger">>,<<"sec-fetch-mode">> => <<"no-cors">>,<<"sec-fetch-site">> => <<"same-origin">>,<<"user-agent">> => <<"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) snap Chromium/77.0.3865.90 Chrome/77.0.3865.90 Safari/537.36">>},host => <<"localhost">>,host_info => undefined,method => <<"GET">>,path => <<"/favicon.ico">>,path_info => undefined,peer => {{127,0,0,1},50456},pid => <0.1151.0>,port => 4000,qs => <<>>,ref => 'Elixir.DomoapiWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},4000},streamid => 3,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"localhost">>,method => <<"GET">>,owner => <0.1159.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"favicon.ico">>],path_params => #{},port => 4000,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"image/webp,image/apng,image/*,*/*;q=0.8">>},{<<"accept-encoding">>,<<"gzip, deflate, br">>},{<<"accept-language">>,<<"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7">>},{<<"connection">>,<<"keep-alive">>},{<<"host">>,<<"localhost:4000">>},{<<"referer">>,<<"http://localhost:4000/swagger">>},{<<"sec-fetch-mode">>,<<"no-cors">>},{<<"sec-fetch-site">>,<<"same-origin">>},{<<"user-agent">>,<<"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) snap Chromium/77.0.3865.90 Chrome/77.0.3865.90 Safari/537.36">>}],request_path => <<"/favicon.ico">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/gdeon/Domoface/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/gdeon/Domoface/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,296}]},{cowboy_stream_h,request_process,3,[{file,"/home/gdeon/Domoface/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,274}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/gdeon/Domoface/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/gdeon/Domoface/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,296}]},{cowboy_stream_h,request_process,3,[{file,"/home/gdeon/Domoface/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,274}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}
    ancestors: [<0.1151.0>,<0.732.0>,<0.731.0>,'Elixir.DomoapiWeb.Endpoint','Elixir.DomoapiWeb.Supervisor',<0.711.0>]
    message_queue_len: 0
    messages: []
    links: [<0.1151.0>]
    dictionary: [{logger_metadata,{true,[{request_id,<<"Fc4mWtqm3n4y5N8AAAlD">>}]}}]
    trap_exit: false
    status: running
    heap_size: 17731
    stack_size: 27
    reductions: 123917
  neighbours:
2019-10-16 18:18:11 =ERROR REPORT====
Ranch listener 'Elixir.DomoapiWeb.Endpoint.HTTP', connection process <0.1151.0>, stream 3 had its request process <0.1159.0> exit with reason {{#{'__exception__' => true,'__struct__' => 'Elixir.Phoenix.Router.NoRouteError',conn => #{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 0,cert => undefined,has_body => false,headers => #{<<"accept">> => <<"image/webp,image/apng,image/*,*/*;q=0.8">>,<<"accept-encoding">> => <<"gzip, deflate, br">>,<<"accept-language">> => <<"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7">>,<<"connection">> => <<"keep-alive">>,<<"host">> => <<"localhost:4000">>,<<"referer">> => <<"http://localhost:4000/swagger">>,<<"sec-fetch-mode">> => <<"no-cors">>,<<"sec-fetch-site">> => <<"same-origin">>,<<"user-agent">> => <<"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) snap Chromium/77.0.3865.90 Chrome/77.0.3865.90 Safari/537.36">>},host => <<"localhost">>,host_info => undefined,method => <<"GET">>,path => <<"/favicon.ico">>,path_info => undefined,peer => {{127,0,0,1},50456},pid => <0.1151.0>,port => 4000,qs => <<>>,ref => 'Elixir.DomoapiWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},4000},streamid => 3,version => 'HTTP/1.1'}},assigns => #{},before_send => [#Fun<Elixir.Plug.Logger.1.16531471>,#Fun<Elixir.Phoenix.LiveReloader.0.121962774>],body_params => #{},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"localhost">>,method => <<"GET">>,owner => <0.1159.0>,params => #{},path_info => [<<"favicon.ico">>],path_params => #{},port => 4000,private => #{'Elixir.DomoapiWeb.Router' => {[],#{'Elixir.PhoenixSwagger.Plug.SwaggerUI' => []}},phoenix_endpoint => 'Elixir.DomoapiWeb.Endpoint',phoenix_router => 'Elixir.DomoapiWeb.Router',plug_session_fetch => #Fun<Elixir.Plug.Session.1.35161479>},query_params => #{},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"image/webp,image/apng,image/*,*/*;q=0.8">>},{<<"accept-encoding">>,<<"gzip, deflate, br">>},{<<"accept-language">>,<<"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7">>},{<<"connection">>,<<"keep-alive">>},{<<"host">>,<<"localhost:4000">>},{<<"referer">>,<<"http://localhost:4000/swagger">>},{<<"sec-fetch-mode">>,<<"no-cors">>},{<<"sec-fetch-site">>,<<"same-origin">>},{<<"user-agent">>,<<"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) snap Chromium/77.0.3865.90 Chrome/77.0.3865.90 Safari/537.36">>}],request_path => <<"/favicon.ico">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>},{<<"x-request-id">>,<<"Fc4mWtqm3n4y5N8AAAlD">>}],scheme => http,script_name => [],secret_key_base => <<"ev62lNRCtdBr39e00iYHTrEOGGHD1c9L8fi2zWw/4vDZF0w1S3HpUxXLVMCV4atf">>,state => unset,status => nil},message => <<"no route found for GET /favicon.ico (DomoapiWeb.Router)">>,plug_status => 404,router => 'Elixir.DomoapiWeb.Router'},[{'Elixir.DomoapiWeb.Router','__match_route__',4,[{file,"lib/domoapi_web/router.ex"},{line,1}]},{'Elixir.DomoapiWeb.Router',call,2,[{file,"lib/phoenix/router.ex"},{line,304}]},{'Elixir.DomoapiWeb.Endpoint',plug_builder_call,2,[{file,"lib/domoapi_web/endpoint.ex"},{line,1}]},{'Elixir.DomoapiWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.DomoapiWeb.Endpoint',call,2,[{file,"lib/domoapi_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,33}]},{cowboy_handler,execute,2,[{file,"/home/gdeon/Domoface/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/gdeon/Domoface/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,296}]},{cowboy_stream_h,request_process,3,[{file,"/home/gdeon/Domoface/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,274}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.DomoapiWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 0,cert => undefined,has_body => false,headers => #{<<"accept">> => <<"image/webp,image/apng,image/*,*/*;q=0.8">>,<<"accept-encoding">> => <<"gzip, deflate, br">>,<<"accept-language">> => <<"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7">>,<<"connection">> => <<"keep-alive">>,<<"host">> => <<"localhost:4000">>,<<"referer">> => <<"http://localhost:4000/swagger">>,<<"sec-fetch-mode">> => <<"no-cors">>,<<"sec-fetch-site">> => <<"same-origin">>,<<"user-agent">> => <<"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) snap Chromium/77.0.3865.90 Chrome/77.0.3865.90 Safari/537.36">>},host => <<"localhost">>,host_info => undefined,method => <<"GET">>,path => <<"/favicon.ico">>,path_info => undefined,peer => {{127,0,0,1},50456},pid => <0.1151.0>,port => 4000,qs => <<>>,ref => 'Elixir.DomoapiWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},4000},streamid => 3,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"localhost">>,method => <<"GET">>,owner => <0.1159.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"favicon.ico">>],path_params => #{},port => 4000,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"image/webp,image/apng,image/*,*/*;q=0.8">>},{<<"accept-encoding">>,<<"gzip, deflate, br">>},{<<"accept-language">>,<<"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7">>},{<<"connection">>,<<"keep-alive">>},{<<"host">>,<<"localhost:4000">>},{<<"referer">>,<<"http://localhost:4000/swagger">>},{<<"sec-fetch-mode">>,<<"no-cors">>},{<<"sec-fetch-site">>,<<"same-origin">>},{<<"user-agent">>,<<"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) snap Chromium/77.0.3865.90 Chrome/77.0.3865.90 Safari/537.36">>}],request_path => <<"/favicon.ico">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}} and stacktrace [{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/gdeon/Domoface/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/gdeon/Domoface/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,296}]},{cowboy_stream_h,request_process,3,[{file,"/home/gdeon/Domoface/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,274}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]
2019-11-18 15:11:02 =CRASH REPORT====
  crasher:
    initial call: Elixir.Archive.VideoVisor:init/1
    pid: <0.1176.0>
    registered_name: []
    exception error: bad argument: [{'Elixir.Archive.VideoVisor',create_dir,2,[{file,"lib/archive/video_visor.ex"},{line,59}]},{'Elixir.Archive.VideoVisor',init,1,[{file,"lib/archive/video_visor.ex"},{line,32}]},{gen_server,init_it,2,[{file,"gen_server.erl"},{line,374}]},{gen_server,init_it,6,[{file,"gen_server.erl"},{line,342}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]
    ancestors: ['Elixir.Archive.VideoDynamicSupervisor','Elixir.Archive.Supervisor',<0.1025.0>]
    message_queue_len: 0
    messages: []
    links: [<0.1158.0>]
    dictionary: []
    trap_exit: true
    status: running
    heap_size: 610
    stack_size: 27
    reductions: 382
  neighbours:
2019-11-18 15:30:25 =CRASH REPORT====
  crasher:
    initial call: Elixir.Archive.VideoVisor:init/1
    pid: <0.1176.0>
    registered_name: []
    exception error: bad argument: [{'Elixir.Archive.VideoVisor',create_dir,2,[{file,"lib/archive/video_visor.ex"},{line,59}]},{'Elixir.Archive.VideoVisor',init,1,[{file,"lib/archive/video_visor.ex"},{line,32}]},{gen_server,init_it,2,[{file,"gen_server.erl"},{line,374}]},{gen_server,init_it,6,[{file,"gen_server.erl"},{line,342}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]
    ancestors: ['Elixir.Archive.VideoDynamicSupervisor','Elixir.Archive.Supervisor',<0.1025.0>]
    message_queue_len: 0
    messages: []
    links: [<0.1158.0>]
    dictionary: []
    trap_exit: true
    status: running
    heap_size: 610
    stack_size: 27
    reductions: 382
  neighbours:
2019-11-18 16:24:57 =CRASH REPORT====
  crasher:
    initial call: cowboy_stream_h:request_process/3
    pid: <0.1343.0>
    registered_name: []
    exception exit: {{{{#{'__exception__' => true,'__struct__' => 'Elixir.FunctionClauseError',args => nil,arity => 2,clauses => nil,function => call,kind => nil,module => 'Elixir.DomoapiUserWeb.FallbackController'},[{'Elixir.DomoapiUserWeb.FallbackController',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 199,cert => undefined,has_body => true,has_read_body => true,headers => #{<<"accept-charset">> => <<"UTF-8">>,<<"accept-encoding">> => <<"gzip">>,<<"connection">> => <<"upgrade">>,<<"content-length">> => <<"199">>,<<"content-type">> => <<"application/x-www-form-urlencoded; charset=UTF-8">>,<<"cookie">> => <<"_domoapi_user_key=SFMyNTY.g3QAAAABbQAAABZndWFyZGlhbl9kZWZhdWx0X3Rva2VubQAAAYZleUpoYkdjaU9pSklVelV4TWlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaGRXUWlPaUprYjIxdllYQnBYM1Z6WlhJaUxDSmxlSEFpT2pFMU56WTBPRGc1TnpFc0ltbGhkQ0k2TVRVM05EQTJPVGMzTVN3aWFYTnpJam9pWkc5dGIyRndhVjkxYzJWeUlpd2lhblJwSWpvaU56SXlNemc0TURJdE5qQmtaQzAwT1RRd0xUazFZVFF0WVRrMU5EVXpOakJtWldJd0lpd2libUptSWpveE5UYzBNRFk1Tnpjd0xDSnpkV0lpT2lJM056Wm1Zek5sTkMweU1ETmpMVFF6TjJZdFlXSXlOeTA1T1RreE9ERTRNRGN4T0dZaUxDSjBlWEFpT2lKaFkyTmxjM01pZlEuVndFdlB5dU82OUluU1ZveXNXVXFTdUZFbm5PYzN5OEFUTEZiYzMzOTIxMFhVNFpPMFlpNDlXT3EzbG5pdUhqTnYxcTkydzBiZnFjSUplb1BCUDlIa1E.aUREG1yRFH6OU6eD_6CrntIYOoNPRKiewgDIUENBgDs">>,<<"host">> => <<"user-api.domoface.ru">>,<<"user-agent">> => <<"Dalvik/2.1.0 (Linux; U; Android 9; LLD-L31 Build/HONORLLD-L31)">>,<<"x-forwarded-for">> => <<"85.26.235.206">>,<<"x-forwarded-host">> => <<"user-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"85.26.235.206">>},host => <<"user-api.domoface.ru">>,host_info => undefined,method => <<"POST">>,path => <<"/users/send_candidate">>,path_info => undefined,peer => {{127,0,0,1},59608},pid => <0.1342.0>,port => 80,qs => <<>>,ref => 'Elixir.DomoapiUserWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},9080},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [#Fun<Elixir.Plug.Session.0.35161479>,#Fun<Elixir.Plug.Telemetry.0.66442134>,#Fun<Elixir.Phoenix.LiveReloader.0.121962774>],body_params => #{<<"candidate">> => <<"{\"candidate\":\"candidate:3948167701 1 udp 2113937151 10.218.57.13 44373 typ host generation 0 ufrag ReEI network-cost 999\",\"sdpMid\":\"0\",\"sdpMLineIndex\":0}">>},cookies => #{<<"_domoapi_user_key">> => <<"SFMyNTY.g3QAAAABbQAAABZndWFyZGlhbl9kZWZhdWx0X3Rva2VubQAAAYZleUpoYkdjaU9pSklVelV4TWlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaGRXUWlPaUprYjIxdllYQnBYM1Z6WlhJaUxDSmxlSEFpT2pFMU56WTBPRGc1TnpFc0ltbGhkQ0k2TVRVM05EQTJPVGMzTVN3aWFYTnpJam9pWkc5dGIyRndhVjkxYzJWeUlpd2lhblJwSWpvaU56SXlNemc0TURJdE5qQmtaQzAwT1RRd0xUazFZVFF0WVRrMU5EVXpOakJtWldJd0lpd2libUptSWpveE5UYzBNRFk1Tnpjd0xDSnpkV0lpT2lJM056Wm1Zek5sTkMweU1ETmpMVFF6TjJZdFlXSXlOeTA1T1RreE9ERTRNRGN4T0dZaUxDSjBlWEFpT2lKaFkyTmxjM01pZlEuVndFdlB5dU82OUluU1ZveXNXVXFTdUZFbm5PYzN5OEFUTEZiYzMzOTIxMFhVNFpPMFlpNDlXT3EzbG5pdUhqTnYxcTkydzBiZnFjSUplb1BCUDlIa1E.aUREG1yRFH6OU6eD_6CrntIYOoNPRKiewgDIUENBgDs">>},halted => false,host => <<"user-api.domoface.ru">>,method => <<"POST">>,owner => <0.1343.0>,params => #{<<"candidate">> => <<"{\"candidate\":\"candidate:3948167701 1 udp 2113937151 10.218.57.13 44373 typ host generation 0 ufrag ReEI network-cost 999\",\"sdpMid\":\"0\",\"sdpMLineIndex\":0}">>},path_info => [<<"users">>,<<"send_candidate">>],path_params => #{},port => 80,private => #{'Elixir.DomoapiUserWeb.Router' => {[],#{'Elixir.PhoenixSwagger.Plug.SwaggerUI' => []}},guardian_default_claims => #{<<"aud">> => <<"domoapi_user">>,<<"exp">> => 1576488971,<<"iat">> => 1574069771,<<"iss">> => <<"domoapi_user">>,<<"jti">> => <<"72238802-60dd-4940-95a4-a9545360feb0">>,<<"nbf">> => 1574069770,<<"sub">> => <<"776fc3e4-203c-437f-ab27-99918180718f">>,<<"typ">> => <<"access">>},guardian_default_resource => #{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => #{'__cardinality__' => many,'__field__' => devices,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 15,hour => 12,microsecond => {0,0},minute => 39,month => 11,second => 36,year => 2019},password => <<"$2b$12$XlddKF/xtUSibCfUPGIFder8BVD04Qh9qhAIdee/iSdJE48pNnIKe">>,phone_number => <<"89991945767">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<"Azat verni 2 rubl">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 13,year => 2019}},guardian_default_token => <<"eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJkb21vYXBpX3VzZXIiLCJleHAiOjE1NzY0ODg5NzEsImlhdCI6MTU3NDA2OTc3MSwiaXNzIjoiZG9tb2FwaV91c2VyIiwianRpIjoiNzIyMzg4MDItNjBkZC00OTQwLTk1YTQtYTk1NDUzNjBmZWIwIiwibmJmIjoxNTc0MDY5NzcwLCJzdWIiOiI3NzZmYzNlNC0yMDNjLTQzN2YtYWIyNy05OTkxODE4MDcxOGYiLCJ0eXAiOiJhY2Nlc3MifQ.VwEvPyuO69InSVoysWUqSuFEnnOc3y8ATLFbc339210XU4ZO0Yi49WOq3lniuHjNv1q92w0bfqcIJeoPBP9HkQ">>,guardian_error_handler => 'Elixir.DomoapiUserWeb.FallbackController',guardian_module => 'Elixir.DomoapiUser.Guardian',phoenix_action => send_candidate,phoenix_controller => 'Elixir.DomoapiUserWeb.SessionController',phoenix_endpoint => 'Elixir.DomoapiUserWeb.Endpoint',phoenix_format => <<"json">>,phoenix_layout => {'Elixir.DomoapiUserWeb.LayoutView',app},phoenix_pipelines => [api,authorized],phoenix_router => 'Elixir.DomoapiUserWeb.Router',phoenix_view => 'Elixir.DomoapiUserWeb.SessionView',plug_session => #{<<"guardian_default_token">> => <<"eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJkb21vYXBpX3VzZXIiLCJleHAiOjE1NzY0ODg5NzEsImlhdCI6MTU3NDA2OTc3MSwiaXNzIjoiZG9tb2FwaV91c2VyIiwianRpIjoiNzIyMzg4MDItNjBkZC00OTQwLTk1YTQtYTk1NDUzNjBmZWIwIiwibmJmIjoxNTc0MDY5NzcwLCJzdWIiOiI3NzZmYzNlNC0yMDNjLTQzN2YtYWIyNy05OTkxODE4MDcxOGYiLCJ0eXAiOiJhY2Nlc3MifQ.VwEvPyuO69InSVoysWUqSuFEnnOc3y8ATLFbc339210XU4ZO0Yi49WOq3lniuHjNv1q92w0bfqcIJeoPBP9HkQ">>},plug_session_fetch => done},query_params => #{},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{<<"_domoapi_user_key">> => <<"SFMyNTY.g3QAAAABbQAAABZndWFyZGlhbl9kZWZhdWx0X3Rva2VubQAAAYZleUpoYkdjaU9pSklVelV4TWlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaGRXUWlPaUprYjIxdllYQnBYM1Z6WlhJaUxDSmxlSEFpT2pFMU56WTBPRGc1TnpFc0ltbGhkQ0k2TVRVM05EQTJPVGMzTVN3aWFYTnpJam9pWkc5dGIyRndhVjkxYzJWeUlpd2lhblJwSWpvaU56SXlNemc0TURJdE5qQmtaQzAwT1RRd0xUazFZVFF0WVRrMU5EVXpOakJtWldJd0lpd2libUptSWpveE5UYzBNRFk1Tnpjd0xDSnpkV0lpT2lJM056Wm1Zek5sTkMweU1ETmpMVFF6TjJZdFlXSXlOeTA1T1RreE9ERTRNRGN4T0dZaUxDSjBlWEFpT2lKaFkyTmxjM01pZlEuVndFdlB5dU82OUluU1ZveXNXVXFTdUZFbm5PYzN5OEFUTEZiYzMzOTIxMFhVNFpPMFlpNDlXT3EzbG5pdUhqTnYxcTkydzBiZnFjSUplb1BCUDlIa1E.aUREG1yRFH6OU6eD_6CrntIYOoNPRKiewgDIUENBgDs">>},req_headers => [{<<"accept-charset">>,<<"UTF-8">>},{<<"accept-encoding">>,<<"gzip">>},{<<"connection">>,<<"upgrade">>},{<<"content-length">>,<<"199">>},{<<"content-type">>,<<"application/x-www-form-urlencoded; charset=UTF-8">>},{<<"cookie">>,<<"_domoapi_user_key=SFMyNTY.g3QAAAABbQAAABZndWFyZGlhbl9kZWZhdWx0X3Rva2VubQAAAYZleUpoYkdjaU9pSklVelV4TWlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaGRXUWlPaUprYjIxdllYQnBYM1Z6WlhJaUxDSmxlSEFpT2pFMU56WTBPRGc1TnpFc0ltbGhkQ0k2TVRVM05EQTJPVGMzTVN3aWFYTnpJam9pWkc5dGIyRndhVjkxYzJWeUlpd2lhblJwSWpvaU56SXlNemc0TURJdE5qQmtaQzAwT1RRd0xUazFZVFF0WVRrMU5EVXpOakJtWldJd0lpd2libUptSWpveE5UYzBNRFk1Tnpjd0xDSnpkV0lpT2lJM056Wm1Zek5sTkMweU1ETmpMVFF6TjJZdFlXSXlOeTA1T1RreE9ERTRNRGN4T0dZaUxDSjBlWEFpT2lKaFkyTmxjM01pZlEuVndFdlB5dU82OUluU1ZveXNXVXFTdUZFbm5PYzN5OEFUTEZiYzMzOTIxMFhVNFpPMFlpNDlXT3EzbG5pdUhqTnYxcTkydzBiZnFjSUplb1BCUDlIa1E.aUREG1yRFH6OU6eD_6CrntIYOoNPRKiewgDIUENBgDs">>},{<<"host">>,<<"user-api.domoface.ru">>},{<<"user-agent">>,<<"Dalvik/2.1.0 (Linux; U; Android 9; LLD-L31 Build/HONORLLD-L31)">>},{<<"x-forwarded-for">>,<<"85.26.235.206">>},{<<"x-forwarded-host">>,<<"user-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"85.26.235.206">>}],request_path => <<"/users/send_candidate">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>},{<<"x-request-id">>,<<"FdhObHBXS40-iGAAAALC">>}],scheme => http,script_name => [],secret_key_base => <<"luzga7DdpB46XmM4h5AYlvAs77NA6uHsptQ4VKt3K4/Qg9aUt+UiPiXsbgXHDiul">>,state => unset,status => nil},nil],[{file,"lib/domoapi_user_web/controllers/fallback_controller.ex"},{line,10}]},{'Elixir.DomoapiUserWeb.SessionController',action,2,[{file,"lib/domoapi_user_web/controllers/session_controller.ex"},{line,1}]},{'Elixir.DomoapiUserWeb.SessionController',phoenix_controller_pipeline,2,[{file,"lib/domoapi_user_web/controllers/session_controller.ex"},{line,1}]},{'Elixir.DomoapiUserWeb.Endpoint',instrument,4,[{file,"lib/domoapi_user_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',1,[{file,"lib/phoenix/router.ex"},{line,275}]},{'Elixir.DomoapiUserWeb.Endpoint',plug_builder_call,2,[{file,"lib/domoapi_user_web/endpoint.ex"},{line,1}]},{'Elixir.DomoapiUserWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.DomoapiUserWeb.Endpoint',call,2,[{file,"lib/domoapi_user_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,33}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.DomoapiUserWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 199,cert => undefined,has_body => true,headers => #{<<"accept-charset">> => <<"UTF-8">>,<<"accept-encoding">> => <<"gzip">>,<<"connection">> => <<"upgrade">>,<<"content-length">> => <<"199">>,<<"content-type">> => <<"application/x-www-form-urlencoded; charset=UTF-8">>,<<"cookie">> => <<"_domoapi_user_key=SFMyNTY.g3QAAAABbQAAABZndWFyZGlhbl9kZWZhdWx0X3Rva2VubQAAAYZleUpoYkdjaU9pSklVelV4TWlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaGRXUWlPaUprYjIxdllYQnBYM1Z6WlhJaUxDSmxlSEFpT2pFMU56WTBPRGc1TnpFc0ltbGhkQ0k2TVRVM05EQTJPVGMzTVN3aWFYTnpJam9pWkc5dGIyRndhVjkxYzJWeUlpd2lhblJwSWpvaU56SXlNemc0TURJdE5qQmtaQzAwT1RRd0xUazFZVFF0WVRrMU5EVXpOakJtWldJd0lpd2libUptSWpveE5UYzBNRFk1Tnpjd0xDSnpkV0lpT2lJM056Wm1Zek5sTkMweU1ETmpMVFF6TjJZdFlXSXlOeTA1T1RreE9ERTRNRGN4T0dZaUxDSjBlWEFpT2lKaFkyTmxjM01pZlEuVndFdlB5dU82OUluU1ZveXNXVXFTdUZFbm5PYzN5OEFUTEZiYzMzOTIxMFhVNFpPMFlpNDlXT3EzbG5pdUhqTnYxcTkydzBiZnFjSUplb1BCUDlIa1E.aUREG1yRFH6OU6eD_6CrntIYOoNPRKiewgDIUENBgDs">>,<<"host">> => <<"user-api.domoface.ru">>,<<"user-agent">> => <<"Dalvik/2.1.0 (Linux; U; Android 9; LLD-L31 Build/HONORLLD-L31)">>,<<"x-forwarded-for">> => <<"85.26.235.206">>,<<"x-forwarded-host">> => <<"user-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"85.26.235.206">>},host => <<"user-api.domoface.ru">>,host_info => undefined,method => <<"POST">>,path => <<"/users/send_candidate">>,path_info => undefined,peer => {{127,0,0,1},59608},pid => <0.1342.0>,port => 80,qs => <<>>,ref => 'Elixir.DomoapiUserWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},9080},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"user-api.domoface.ru">>,method => <<"POST">>,owner => <0.1343.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"users">>,<<"send_candidate">>],path_params => #{},port => 80,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept-charset">>,<<"UTF-8">>},{<<"accept-encoding">>,<<"gzip">>},{<<"connection">>,<<"upgrade">>},{<<"content-length">>,<<"199">>},{<<"content-type">>,<<"application/x-www-form-urlencoded; charset=UTF-8">>},{<<"cookie">>,<<"_domoapi_user_key=SFMyNTY.g3QAAAABbQAAABZndWFyZGlhbl9kZWZhdWx0X3Rva2VubQAAAYZleUpoYkdjaU9pSklVelV4TWlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaGRXUWlPaUprYjIxdllYQnBYM1Z6WlhJaUxDSmxlSEFpT2pFMU56WTBPRGc1TnpFc0ltbGhkQ0k2TVRVM05EQTJPVGMzTVN3aWFYTnpJam9pWkc5dGIyRndhVjkxYzJWeUlpd2lhblJwSWpvaU56SXlNemc0TURJdE5qQmtaQzAwT1RRd0xUazFZVFF0WVRrMU5EVXpOakJtWldJd0lpd2libUptSWpveE5UYzBNRFk1Tnpjd0xDSnpkV0lpT2lJM056Wm1Zek5sTkMweU1ETmpMVFF6TjJZdFlXSXlOeTA1T1RreE9ERTRNRGN4T0dZaUxDSjBlWEFpT2lKaFkyTmxjM01pZlEuVndFdlB5dU82OUluU1ZveXNXVXFTdUZFbm5PYzN5OEFUTEZiYzMzOTIxMFhVNFpPMFlpNDlXT3EzbG5pdUhqTnYxcTkydzBiZnFjSUplb1BCUDlIa1E.aUREG1yRFH6OU6eD_6CrntIYOoNPRKiewgDIUENBgDs">>},{<<"host">>,<<"user-api.domoface.ru">>},{<<"user-agent">>,<<"Dalvik/2.1.0 (Linux; U; Android 9; LLD-L31 Build/HONORLLD-L31)">>},{<<"x-forwarded-for">>,<<"85.26.235.206">>},{<<"x-forwarded-host">>,<<"user-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"85.26.235.206">>}],request_path => <<"/users/send_candidate">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}
    ancestors: [<0.1342.0>,<0.527.0>,<0.526.0>,'Elixir.DomoapiUserWeb.Endpoint','Elixir.DomoapiUser.Supervisor',<0.505.0>]
    message_queue_len: 0
    messages: []
    links: [<0.1342.0>]
    dictionary: [{logger_metadata,{true,[{request_id,<<"FdhObHBXS40-iGAAAALC">>}]}}]
    trap_exit: false
    status: running
    heap_size: 6772
    stack_size: 27
    reductions: 247961
  neighbours:
2019-11-18 16:24:57 =ERROR REPORT====
Ranch listener 'Elixir.DomoapiUserWeb.Endpoint.HTTP', connection process <0.1342.0>, stream 1 had its request process <0.1343.0> exit with reason {{#{'__exception__' => true,'__struct__' => 'Elixir.FunctionClauseError',args => nil,arity => 2,clauses => nil,function => call,kind => nil,module => 'Elixir.DomoapiUserWeb.FallbackController'},[{'Elixir.DomoapiUserWeb.FallbackController',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 199,cert => undefined,has_body => true,has_read_body => true,headers => #{<<"accept-charset">> => <<"UTF-8">>,<<"accept-encoding">> => <<"gzip">>,<<"connection">> => <<"upgrade">>,<<"content-length">> => <<"199">>,<<"content-type">> => <<"application/x-www-form-urlencoded; charset=UTF-8">>,<<"cookie">> => <<"_domoapi_user_key=SFMyNTY.g3QAAAABbQAAABZndWFyZGlhbl9kZWZhdWx0X3Rva2VubQAAAYZleUpoYkdjaU9pSklVelV4TWlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaGRXUWlPaUprYjIxdllYQnBYM1Z6WlhJaUxDSmxlSEFpT2pFMU56WTBPRGc1TnpFc0ltbGhkQ0k2TVRVM05EQTJPVGMzTVN3aWFYTnpJam9pWkc5dGIyRndhVjkxYzJWeUlpd2lhblJwSWpvaU56SXlNemc0TURJdE5qQmtaQzAwT1RRd0xUazFZVFF0WVRrMU5EVXpOakJtWldJd0lpd2libUptSWpveE5UYzBNRFk1Tnpjd0xDSnpkV0lpT2lJM056Wm1Zek5sTkMweU1ETmpMVFF6TjJZdFlXSXlOeTA1T1RreE9ERTRNRGN4T0dZaUxDSjBlWEFpT2lKaFkyTmxjM01pZlEuVndFdlB5dU82OUluU1ZveXNXVXFTdUZFbm5PYzN5OEFUTEZiYzMzOTIxMFhVNFpPMFlpNDlXT3EzbG5pdUhqTnYxcTkydzBiZnFjSUplb1BCUDlIa1E.aUREG1yRFH6OU6eD_6CrntIYOoNPRKiewgDIUENBgDs">>,<<"host">> => <<"user-api.domoface.ru">>,<<"user-agent">> => <<"Dalvik/2.1.0 (Linux; U; Android 9; LLD-L31 Build/HONORLLD-L31)">>,<<"x-forwarded-for">> => <<"85.26.235.206">>,<<"x-forwarded-host">> => <<"user-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"85.26.235.206">>},host => <<"user-api.domoface.ru">>,host_info => undefined,method => <<"POST">>,path => <<"/users/send_candidate">>,path_info => undefined,peer => {{127,0,0,1},59608},pid => <0.1342.0>,port => 80,qs => <<>>,ref => 'Elixir.DomoapiUserWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},9080},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [#Fun<Elixir.Plug.Session.0.35161479>,#Fun<Elixir.Plug.Telemetry.0.66442134>,#Fun<Elixir.Phoenix.LiveReloader.0.121962774>],body_params => #{<<"candidate">> => <<"{\"candidate\":\"candidate:3948167701 1 udp 2113937151 10.218.57.13 44373 typ host generation 0 ufrag ReEI network-cost 999\",\"sdpMid\":\"0\",\"sdpMLineIndex\":0}">>},cookies => #{<<"_domoapi_user_key">> => <<"SFMyNTY.g3QAAAABbQAAABZndWFyZGlhbl9kZWZhdWx0X3Rva2VubQAAAYZleUpoYkdjaU9pSklVelV4TWlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaGRXUWlPaUprYjIxdllYQnBYM1Z6WlhJaUxDSmxlSEFpT2pFMU56WTBPRGc1TnpFc0ltbGhkQ0k2TVRVM05EQTJPVGMzTVN3aWFYTnpJam9pWkc5dGIyRndhVjkxYzJWeUlpd2lhblJwSWpvaU56SXlNemc0TURJdE5qQmtaQzAwT1RRd0xUazFZVFF0WVRrMU5EVXpOakJtWldJd0lpd2libUptSWpveE5UYzBNRFk1Tnpjd0xDSnpkV0lpT2lJM056Wm1Zek5sTkMweU1ETmpMVFF6TjJZdFlXSXlOeTA1T1RreE9ERTRNRGN4T0dZaUxDSjBlWEFpT2lKaFkyTmxjM01pZlEuVndFdlB5dU82OUluU1ZveXNXVXFTdUZFbm5PYzN5OEFUTEZiYzMzOTIxMFhVNFpPMFlpNDlXT3EzbG5pdUhqTnYxcTkydzBiZnFjSUplb1BCUDlIa1E.aUREG1yRFH6OU6eD_6CrntIYOoNPRKiewgDIUENBgDs">>},halted => false,host => <<"user-api.domoface.ru">>,method => <<"POST">>,owner => <0.1343.0>,params => #{<<"candidate">> => <<"{\"candidate\":\"candidate:3948167701 1 udp 2113937151 10.218.57.13 44373 typ host generation 0 ufrag ReEI network-cost 999\",\"sdpMid\":\"0\",\"sdpMLineIndex\":0}">>},path_info => [<<"users">>,<<"send_candidate">>],path_params => #{},port => 80,private => #{'Elixir.DomoapiUserWeb.Router' => {[],#{'Elixir.PhoenixSwagger.Plug.SwaggerUI' => []}},guardian_default_claims => #{<<"aud">> => <<"domoapi_user">>,<<"exp">> => 1576488971,<<"iat">> => 1574069771,<<"iss">> => <<"domoapi_user">>,<<"jti">> => <<"72238802-60dd-4940-95a4-a9545360feb0">>,<<"nbf">> => 1574069770,<<"sub">> => <<"776fc3e4-203c-437f-ab27-99918180718f">>,<<"typ">> => <<"access">>},guardian_default_resource => #{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => #{'__cardinality__' => many,'__field__' => devices,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 15,hour => 12,microsecond => {0,0},minute => 39,month => 11,second => 36,year => 2019},password => <<"$2b$12$XlddKF/xtUSibCfUPGIFder8BVD04Qh9qhAIdee/iSdJE48pNnIKe">>,phone_number => <<"89991945767">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<"Azat verni 2 rubl">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 13,year => 2019}},guardian_default_token => <<"eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJkb21vYXBpX3VzZXIiLCJleHAiOjE1NzY0ODg5NzEsImlhdCI6MTU3NDA2OTc3MSwiaXNzIjoiZG9tb2FwaV91c2VyIiwianRpIjoiNzIyMzg4MDItNjBkZC00OTQwLTk1YTQtYTk1NDUzNjBmZWIwIiwibmJmIjoxNTc0MDY5NzcwLCJzdWIiOiI3NzZmYzNlNC0yMDNjLTQzN2YtYWIyNy05OTkxODE4MDcxOGYiLCJ0eXAiOiJhY2Nlc3MifQ.VwEvPyuO69InSVoysWUqSuFEnnOc3y8ATLFbc339210XU4ZO0Yi49WOq3lniuHjNv1q92w0bfqcIJeoPBP9HkQ">>,guardian_error_handler => 'Elixir.DomoapiUserWeb.FallbackController',guardian_module => 'Elixir.DomoapiUser.Guardian',phoenix_action => send_candidate,phoenix_controller => 'Elixir.DomoapiUserWeb.SessionController',phoenix_endpoint => 'Elixir.DomoapiUserWeb.Endpoint',phoenix_format => <<"json">>,phoenix_layout => {'Elixir.DomoapiUserWeb.LayoutView',app},phoenix_pipelines => [api,authorized],phoenix_router => 'Elixir.DomoapiUserWeb.Router',phoenix_view => 'Elixir.DomoapiUserWeb.SessionView',plug_session => #{<<"guardian_default_token">> => <<"eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJkb21vYXBpX3VzZXIiLCJleHAiOjE1NzY0ODg5NzEsImlhdCI6MTU3NDA2OTc3MSwiaXNzIjoiZG9tb2FwaV91c2VyIiwianRpIjoiNzIyMzg4MDItNjBkZC00OTQwLTk1YTQtYTk1NDUzNjBmZWIwIiwibmJmIjoxNTc0MDY5NzcwLCJzdWIiOiI3NzZmYzNlNC0yMDNjLTQzN2YtYWIyNy05OTkxODE4MDcxOGYiLCJ0eXAiOiJhY2Nlc3MifQ.VwEvPyuO69InSVoysWUqSuFEnnOc3y8ATLFbc339210XU4ZO0Yi49WOq3lniuHjNv1q92w0bfqcIJeoPBP9HkQ">>},plug_session_fetch => done},query_params => #{},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{<<"_domoapi_user_key">> => <<"SFMyNTY.g3QAAAABbQAAABZndWFyZGlhbl9kZWZhdWx0X3Rva2VubQAAAYZleUpoYkdjaU9pSklVelV4TWlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaGRXUWlPaUprYjIxdllYQnBYM1Z6WlhJaUxDSmxlSEFpT2pFMU56WTBPRGc1TnpFc0ltbGhkQ0k2TVRVM05EQTJPVGMzTVN3aWFYTnpJam9pWkc5dGIyRndhVjkxYzJWeUlpd2lhblJwSWpvaU56SXlNemc0TURJdE5qQmtaQzAwT1RRd0xUazFZVFF0WVRrMU5EVXpOakJtWldJd0lpd2libUptSWpveE5UYzBNRFk1Tnpjd0xDSnpkV0lpT2lJM056Wm1Zek5sTkMweU1ETmpMVFF6TjJZdFlXSXlOeTA1T1RreE9ERTRNRGN4T0dZaUxDSjBlWEFpT2lKaFkyTmxjM01pZlEuVndFdlB5dU82OUluU1ZveXNXVXFTdUZFbm5PYzN5OEFUTEZiYzMzOTIxMFhVNFpPMFlpNDlXT3EzbG5pdUhqTnYxcTkydzBiZnFjSUplb1BCUDlIa1E.aUREG1yRFH6OU6eD_6CrntIYOoNPRKiewgDIUENBgDs">>},req_headers => [{<<"accept-charset">>,<<"UTF-8">>},{<<"accept-encoding">>,<<"gzip">>},{<<"connection">>,<<"upgrade">>},{<<"content-length">>,<<"199">>},{<<"content-type">>,<<"application/x-www-form-urlencoded; charset=UTF-8">>},{<<"cookie">>,<<"_domoapi_user_key=SFMyNTY.g3QAAAABbQAAABZndWFyZGlhbl9kZWZhdWx0X3Rva2VubQAAAYZleUpoYkdjaU9pSklVelV4TWlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaGRXUWlPaUprYjIxdllYQnBYM1Z6WlhJaUxDSmxlSEFpT2pFMU56WTBPRGc1TnpFc0ltbGhkQ0k2TVRVM05EQTJPVGMzTVN3aWFYTnpJam9pWkc5dGIyRndhVjkxYzJWeUlpd2lhblJwSWpvaU56SXlNemc0TURJdE5qQmtaQzAwT1RRd0xUazFZVFF0WVRrMU5EVXpOakJtWldJd0lpd2libUptSWpveE5UYzBNRFk1Tnpjd0xDSnpkV0lpT2lJM056Wm1Zek5sTkMweU1ETmpMVFF6TjJZdFlXSXlOeTA1T1RreE9ERTRNRGN4T0dZaUxDSjBlWEFpT2lKaFkyTmxjM01pZlEuVndFdlB5dU82OUluU1ZveXNXVXFTdUZFbm5PYzN5OEFUTEZiYzMzOTIxMFhVNFpPMFlpNDlXT3EzbG5pdUhqTnYxcTkydzBiZnFjSUplb1BCUDlIa1E.aUREG1yRFH6OU6eD_6CrntIYOoNPRKiewgDIUENBgDs">>},{<<"host">>,<<"user-api.domoface.ru">>},{<<"user-agent">>,<<"Dalvik/2.1.0 (Linux; U; Android 9; LLD-L31 Build/HONORLLD-L31)">>},{<<"x-forwarded-for">>,<<"85.26.235.206">>},{<<"x-forwarded-host">>,<<"user-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"85.26.235.206">>}],request_path => <<"/users/send_candidate">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>},{<<"x-request-id">>,<<"FdhObHBXS40-iGAAAALC">>}],scheme => http,script_name => [],secret_key_base => <<"luzga7DdpB46XmM4h5AYlvAs77NA6uHsptQ4VKt3K4/Qg9aUt+UiPiXsbgXHDiul">>,state => unset,status => nil},nil],[{file,"lib/domoapi_user_web/controllers/fallback_controller.ex"},{line,10}]},{'Elixir.DomoapiUserWeb.SessionController',action,2,[{file,"lib/domoapi_user_web/controllers/session_controller.ex"},{line,1}]},{'Elixir.DomoapiUserWeb.SessionController',phoenix_controller_pipeline,2,[{file,"lib/domoapi_user_web/controllers/session_controller.ex"},{line,1}]},{'Elixir.DomoapiUserWeb.Endpoint',instrument,4,[{file,"lib/domoapi_user_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',1,[{file,"lib/phoenix/router.ex"},{line,275}]},{'Elixir.DomoapiUserWeb.Endpoint',plug_builder_call,2,[{file,"lib/domoapi_user_web/endpoint.ex"},{line,1}]},{'Elixir.DomoapiUserWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.DomoapiUserWeb.Endpoint',call,2,[{file,"lib/domoapi_user_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,33}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.DomoapiUserWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 199,cert => undefined,has_body => true,headers => #{<<"accept-charset">> => <<"UTF-8">>,<<"accept-encoding">> => <<"gzip">>,<<"connection">> => <<"upgrade">>,<<"content-length">> => <<"199">>,<<"content-type">> => <<"application/x-www-form-urlencoded; charset=UTF-8">>,<<"cookie">> => <<"_domoapi_user_key=SFMyNTY.g3QAAAABbQAAABZndWFyZGlhbl9kZWZhdWx0X3Rva2VubQAAAYZleUpoYkdjaU9pSklVelV4TWlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaGRXUWlPaUprYjIxdllYQnBYM1Z6WlhJaUxDSmxlSEFpT2pFMU56WTBPRGc1TnpFc0ltbGhkQ0k2TVRVM05EQTJPVGMzTVN3aWFYTnpJam9pWkc5dGIyRndhVjkxYzJWeUlpd2lhblJwSWpvaU56SXlNemc0TURJdE5qQmtaQzAwT1RRd0xUazFZVFF0WVRrMU5EVXpOakJtWldJd0lpd2libUptSWpveE5UYzBNRFk1Tnpjd0xDSnpkV0lpT2lJM056Wm1Zek5sTkMweU1ETmpMVFF6TjJZdFlXSXlOeTA1T1RreE9ERTRNRGN4T0dZaUxDSjBlWEFpT2lKaFkyTmxjM01pZlEuVndFdlB5dU82OUluU1ZveXNXVXFTdUZFbm5PYzN5OEFUTEZiYzMzOTIxMFhVNFpPMFlpNDlXT3EzbG5pdUhqTnYxcTkydzBiZnFjSUplb1BCUDlIa1E.aUREG1yRFH6OU6eD_6CrntIYOoNPRKiewgDIUENBgDs">>,<<"host">> => <<"user-api.domoface.ru">>,<<"user-agent">> => <<"Dalvik/2.1.0 (Linux; U; Android 9; LLD-L31 Build/HONORLLD-L31)">>,<<"x-forwarded-for">> => <<"85.26.235.206">>,<<"x-forwarded-host">> => <<"user-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"85.26.235.206">>},host => <<"user-api.domoface.ru">>,host_info => undefined,method => <<"POST">>,path => <<"/users/send_candidate">>,path_info => undefined,peer => {{127,0,0,1},59608},pid => <0.1342.0>,port => 80,qs => <<>>,ref => 'Elixir.DomoapiUserWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},9080},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"user-api.domoface.ru">>,method => <<"POST">>,owner => <0.1343.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"users">>,<<"send_candidate">>],path_params => #{},port => 80,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept-charset">>,<<"UTF-8">>},{<<"accept-encoding">>,<<"gzip">>},{<<"connection">>,<<"upgrade">>},{<<"content-length">>,<<"199">>},{<<"content-type">>,<<"application/x-www-form-urlencoded; charset=UTF-8">>},{<<"cookie">>,<<"_domoapi_user_key=SFMyNTY.g3QAAAABbQAAABZndWFyZGlhbl9kZWZhdWx0X3Rva2VubQAAAYZleUpoYkdjaU9pSklVelV4TWlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaGRXUWlPaUprYjIxdllYQnBYM1Z6WlhJaUxDSmxlSEFpT2pFMU56WTBPRGc1TnpFc0ltbGhkQ0k2TVRVM05EQTJPVGMzTVN3aWFYTnpJam9pWkc5dGIyRndhVjkxYzJWeUlpd2lhblJwSWpvaU56SXlNemc0TURJdE5qQmtaQzAwT1RRd0xUazFZVFF0WVRrMU5EVXpOakJtWldJd0lpd2libUptSWpveE5UYzBNRFk1Tnpjd0xDSnpkV0lpT2lJM056Wm1Zek5sTkMweU1ETmpMVFF6TjJZdFlXSXlOeTA1T1RreE9ERTRNRGN4T0dZaUxDSjBlWEFpT2lKaFkyTmxjM01pZlEuVndFdlB5dU82OUluU1ZveXNXVXFTdUZFbm5PYzN5OEFUTEZiYzMzOTIxMFhVNFpPMFlpNDlXT3EzbG5pdUhqTnYxcTkydzBiZnFjSUplb1BCUDlIa1E.aUREG1yRFH6OU6eD_6CrntIYOoNPRKiewgDIUENBgDs">>},{<<"host">>,<<"user-api.domoface.ru">>},{<<"user-agent">>,<<"Dalvik/2.1.0 (Linux; U; Android 9; LLD-L31 Build/HONORLLD-L31)">>},{<<"x-forwarded-for">>,<<"85.26.235.206">>},{<<"x-forwarded-host">>,<<"user-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"85.26.235.206">>}],request_path => <<"/users/send_candidate">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}} and stacktrace [{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]
2019-11-18 16:24:57 =CRASH REPORT====
  crasher:
    initial call: cowboy_stream_h:request_process/3
    pid: <0.1348.0>
    registered_name: []
    exception exit: {{{{#{'__exception__' => true,'__struct__' => 'Elixir.FunctionClauseError',args => nil,arity => 2,clauses => nil,function => call,kind => nil,module => 'Elixir.DomoapiUserWeb.FallbackController'},[{'Elixir.DomoapiUserWeb.FallbackController',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 231,cert => undefined,has_body => true,has_read_body => true,headers => #{<<"accept-charset">> => <<"UTF-8">>,<<"accept-encoding">> => <<"gzip">>,<<"connection">> => <<"upgrade">>,<<"content-length">> => <<"231">>,<<"content-type">> => <<"application/x-www-form-urlencoded; charset=UTF-8">>,<<"cookie">> => <<"_domoapi_user_key=SFMyNTY.g3QAAAABbQAAABZndWFyZGlhbl9kZWZhdWx0X3Rva2VubQAAAYZleUpoYkdjaU9pSklVelV4TWlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaGRXUWlPaUprYjIxdllYQnBYM1Z6WlhJaUxDSmxlSEFpT2pFMU56WTBPRGc1TnpFc0ltbGhkQ0k2TVRVM05EQTJPVGMzTVN3aWFYTnpJam9pWkc5dGIyRndhVjkxYzJWeUlpd2lhblJwSWpvaU56SXlNemc0TURJdE5qQmtaQzAwT1RRd0xUazFZVFF0WVRrMU5EVXpOakJtWldJd0lpd2libUptSWpveE5UYzBNRFk1Tnpjd0xDSnpkV0lpT2lJM056Wm1Zek5sTkMweU1ETmpMVFF6TjJZdFlXSXlOeTA1T1RreE9ERTRNRGN4T0dZaUxDSjBlWEFpT2lKaFkyTmxjM01pZlEuVndFdlB5dU82OUluU1ZveXNXVXFTdUZFbm5PYzN5OEFUTEZiYzMzOTIxMFhVNFpPMFlpNDlXT3EzbG5pdUhqTnYxcTkydzBiZnFjSUplb1BCUDlIa1E.aUREG1yRFH6OU6eD_6CrntIYOoNPRKiewgDIUENBgDs">>,<<"host">> => <<"user-api.domoface.ru">>,<<"user-agent">> => <<"Dalvik/2.1.0 (Linux; U; Android 9; LLD-L31 Build/HONORLLD-L31)">>,<<"x-forwarded-for">> => <<"85.26.235.206">>,<<"x-forwarded-host">> => <<"user-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"85.26.235.206">>},host => <<"user-api.domoface.ru">>,host_info => undefined,method => <<"POST">>,path => <<"/users/send_candidate">>,path_info => undefined,peer => {{127,0,0,1},59610},pid => <0.1347.0>,port => 80,qs => <<>>,ref => 'Elixir.DomoapiUserWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},9080},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [#Fun<Elixir.Plug.Session.0.35161479>,#Fun<Elixir.Plug.Telemetry.0.66442134>,#Fun<Elixir.Phoenix.LiveReloader.0.121962774>],body_params => #{<<"candidate">> => <<"{\"candidate\":\"candidate:842163049 1 udp 1677729535 85.26.235.206 20935 typ srflx raddr 10.218.57.13 rport 44373 generation 0 ufrag ReEI network-cost 999\",\"sdpMid\":\"0\",\"sdpMLineIndex\":0}">>},cookies => #{<<"_domoapi_user_key">> => <<"SFMyNTY.g3QAAAABbQAAABZndWFyZGlhbl9kZWZhdWx0X3Rva2VubQAAAYZleUpoYkdjaU9pSklVelV4TWlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaGRXUWlPaUprYjIxdllYQnBYM1Z6WlhJaUxDSmxlSEFpT2pFMU56WTBPRGc1TnpFc0ltbGhkQ0k2TVRVM05EQTJPVGMzTVN3aWFYTnpJam9pWkc5dGIyRndhVjkxYzJWeUlpd2lhblJwSWpvaU56SXlNemc0TURJdE5qQmtaQzAwT1RRd0xUazFZVFF0WVRrMU5EVXpOakJtWldJd0lpd2libUptSWpveE5UYzBNRFk1Tnpjd0xDSnpkV0lpT2lJM056Wm1Zek5sTkMweU1ETmpMVFF6TjJZdFlXSXlOeTA1T1RreE9ERTRNRGN4T0dZaUxDSjBlWEFpT2lKaFkyTmxjM01pZlEuVndFdlB5dU82OUluU1ZveXNXVXFTdUZFbm5PYzN5OEFUTEZiYzMzOTIxMFhVNFpPMFlpNDlXT3EzbG5pdUhqTnYxcTkydzBiZnFjSUplb1BCUDlIa1E.aUREG1yRFH6OU6eD_6CrntIYOoNPRKiewgDIUENBgDs">>},halted => false,host => <<"user-api.domoface.ru">>,method => <<"POST">>,owner => <0.1348.0>,params => #{<<"candidate">> => <<"{\"candidate\":\"candidate:842163049 1 udp 1677729535 85.26.235.206 20935 typ srflx raddr 10.218.57.13 rport 44373 generation 0 ufrag ReEI network-cost 999\",\"sdpMid\":\"0\",\"sdpMLineIndex\":0}">>},path_info => [<<"users">>,<<"send_candidate">>],path_params => #{},port => 80,private => #{'Elixir.DomoapiUserWeb.Router' => {[],#{'Elixir.PhoenixSwagger.Plug.SwaggerUI' => []}},guardian_default_claims => #{<<"aud">> => <<"domoapi_user">>,<<"exp">> => 1576488971,<<"iat">> => 1574069771,<<"iss">> => <<"domoapi_user">>,<<"jti">> => <<"72238802-60dd-4940-95a4-a9545360feb0">>,<<"nbf">> => 1574069770,<<"sub">> => <<"776fc3e4-203c-437f-ab27-99918180718f">>,<<"typ">> => <<"access">>},guardian_default_resource => #{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => #{'__cardinality__' => many,'__field__' => devices,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 15,hour => 12,microsecond => {0,0},minute => 39,month => 11,second => 36,year => 2019},password => <<"$2b$12$XlddKF/xtUSibCfUPGIFder8BVD04Qh9qhAIdee/iSdJE48pNnIKe">>,phone_number => <<"89991945767">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<"Azat verni 2 rubl">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 13,year => 2019}},guardian_default_token => <<"eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJkb21vYXBpX3VzZXIiLCJleHAiOjE1NzY0ODg5NzEsImlhdCI6MTU3NDA2OTc3MSwiaXNzIjoiZG9tb2FwaV91c2VyIiwianRpIjoiNzIyMzg4MDItNjBkZC00OTQwLTk1YTQtYTk1NDUzNjBmZWIwIiwibmJmIjoxNTc0MDY5NzcwLCJzdWIiOiI3NzZmYzNlNC0yMDNjLTQzN2YtYWIyNy05OTkxODE4MDcxOGYiLCJ0eXAiOiJhY2Nlc3MifQ.VwEvPyuO69InSVoysWUqSuFEnnOc3y8ATLFbc339210XU4ZO0Yi49WOq3lniuHjNv1q92w0bfqcIJeoPBP9HkQ">>,guardian_error_handler => 'Elixir.DomoapiUserWeb.FallbackController',guardian_module => 'Elixir.DomoapiUser.Guardian',phoenix_action => send_candidate,phoenix_controller => 'Elixir.DomoapiUserWeb.SessionController',phoenix_endpoint => 'Elixir.DomoapiUserWeb.Endpoint',phoenix_format => <<"json">>,phoenix_layout => {'Elixir.DomoapiUserWeb.LayoutView',app},phoenix_pipelines => [api,authorized],phoenix_router => 'Elixir.DomoapiUserWeb.Router',phoenix_view => 'Elixir.DomoapiUserWeb.SessionView',plug_session => #{<<"guardian_default_token">> => <<"eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJkb21vYXBpX3VzZXIiLCJleHAiOjE1NzY0ODg5NzEsImlhdCI6MTU3NDA2OTc3MSwiaXNzIjoiZG9tb2FwaV91c2VyIiwianRpIjoiNzIyMzg4MDItNjBkZC00OTQwLTk1YTQtYTk1NDUzNjBmZWIwIiwibmJmIjoxNTc0MDY5NzcwLCJzdWIiOiI3NzZmYzNlNC0yMDNjLTQzN2YtYWIyNy05OTkxODE4MDcxOGYiLCJ0eXAiOiJhY2Nlc3MifQ.VwEvPyuO69InSVoysWUqSuFEnnOc3y8ATLFbc339210XU4ZO0Yi49WOq3lniuHjNv1q92w0bfqcIJeoPBP9HkQ">>},plug_session_fetch => done},query_params => #{},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{<<"_domoapi_user_key">> => <<"SFMyNTY.g3QAAAABbQAAABZndWFyZGlhbl9kZWZhdWx0X3Rva2VubQAAAYZleUpoYkdjaU9pSklVelV4TWlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaGRXUWlPaUprYjIxdllYQnBYM1Z6WlhJaUxDSmxlSEFpT2pFMU56WTBPRGc1TnpFc0ltbGhkQ0k2TVRVM05EQTJPVGMzTVN3aWFYTnpJam9pWkc5dGIyRndhVjkxYzJWeUlpd2lhblJwSWpvaU56SXlNemc0TURJdE5qQmtaQzAwT1RRd0xUazFZVFF0WVRrMU5EVXpOakJtWldJd0lpd2libUptSWpveE5UYzBNRFk1Tnpjd0xDSnpkV0lpT2lJM056Wm1Zek5sTkMweU1ETmpMVFF6TjJZdFlXSXlOeTA1T1RreE9ERTRNRGN4T0dZaUxDSjBlWEFpT2lKaFkyTmxjM01pZlEuVndFdlB5dU82OUluU1ZveXNXVXFTdUZFbm5PYzN5OEFUTEZiYzMzOTIxMFhVNFpPMFlpNDlXT3EzbG5pdUhqTnYxcTkydzBiZnFjSUplb1BCUDlIa1E.aUREG1yRFH6OU6eD_6CrntIYOoNPRKiewgDIUENBgDs">>},req_headers => [{<<"accept-charset">>,<<"UTF-8">>},{<<"accept-encoding">>,<<"gzip">>},{<<"connection">>,<<"upgrade">>},{<<"content-length">>,<<"231">>},{<<"content-type">>,<<"application/x-www-form-urlencoded; charset=UTF-8">>},{<<"cookie">>,<<"_domoapi_user_key=SFMyNTY.g3QAAAABbQAAABZndWFyZGlhbl9kZWZhdWx0X3Rva2VubQAAAYZleUpoYkdjaU9pSklVelV4TWlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaGRXUWlPaUprYjIxdllYQnBYM1Z6WlhJaUxDSmxlSEFpT2pFMU56WTBPRGc1TnpFc0ltbGhkQ0k2TVRVM05EQTJPVGMzTVN3aWFYTnpJam9pWkc5dGIyRndhVjkxYzJWeUlpd2lhblJwSWpvaU56SXlNemc0TURJdE5qQmtaQzAwT1RRd0xUazFZVFF0WVRrMU5EVXpOakJtWldJd0lpd2libUptSWpveE5UYzBNRFk1Tnpjd0xDSnpkV0lpT2lJM056Wm1Zek5sTkMweU1ETmpMVFF6TjJZdFlXSXlOeTA1T1RreE9ERTRNRGN4T0dZaUxDSjBlWEFpT2lKaFkyTmxjM01pZlEuVndFdlB5dU82OUluU1ZveXNXVXFTdUZFbm5PYzN5OEFUTEZiYzMzOTIxMFhVNFpPMFlpNDlXT3EzbG5pdUhqTnYxcTkydzBiZnFjSUplb1BCUDlIa1E.aUREG1yRFH6OU6eD_6CrntIYOoNPRKiewgDIUENBgDs">>},{<<"host">>,<<"user-api.domoface.ru">>},{<<"user-agent">>,<<"Dalvik/2.1.0 (Linux; U; Android 9; LLD-L31 Build/HONORLLD-L31)">>},{<<"x-forwarded-for">>,<<"85.26.235.206">>},{<<"x-forwarded-host">>,<<"user-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"85.26.235.206">>}],request_path => <<"/users/send_candidate">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>},{<<"x-request-id">>,<<"FdhObIDcVKI28sAAAAUh">>}],scheme => http,script_name => [],secret_key_base => <<"luzga7DdpB46XmM4h5AYlvAs77NA6uHsptQ4VKt3K4/Qg9aUt+UiPiXsbgXHDiul">>,state => unset,status => nil},nil],[{file,"lib/domoapi_user_web/controllers/fallback_controller.ex"},{line,10}]},{'Elixir.DomoapiUserWeb.SessionController',action,2,[{file,"lib/domoapi_user_web/controllers/session_controller.ex"},{line,1}]},{'Elixir.DomoapiUserWeb.SessionController',phoenix_controller_pipeline,2,[{file,"lib/domoapi_user_web/controllers/session_controller.ex"},{line,1}]},{'Elixir.DomoapiUserWeb.Endpoint',instrument,4,[{file,"lib/domoapi_user_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',1,[{file,"lib/phoenix/router.ex"},{line,275}]},{'Elixir.DomoapiUserWeb.Endpoint',plug_builder_call,2,[{file,"lib/domoapi_user_web/endpoint.ex"},{line,1}]},{'Elixir.DomoapiUserWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.DomoapiUserWeb.Endpoint',call,2,[{file,"lib/domoapi_user_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,33}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.DomoapiUserWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 231,cert => undefined,has_body => true,headers => #{<<"accept-charset">> => <<"UTF-8">>,<<"accept-encoding">> => <<"gzip">>,<<"connection">> => <<"upgrade">>,<<"content-length">> => <<"231">>,<<"content-type">> => <<"application/x-www-form-urlencoded; charset=UTF-8">>,<<"cookie">> => <<"_domoapi_user_key=SFMyNTY.g3QAAAABbQAAABZndWFyZGlhbl9kZWZhdWx0X3Rva2VubQAAAYZleUpoYkdjaU9pSklVelV4TWlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaGRXUWlPaUprYjIxdllYQnBYM1Z6WlhJaUxDSmxlSEFpT2pFMU56WTBPRGc1TnpFc0ltbGhkQ0k2TVRVM05EQTJPVGMzTVN3aWFYTnpJam9pWkc5dGIyRndhVjkxYzJWeUlpd2lhblJwSWpvaU56SXlNemc0TURJdE5qQmtaQzAwT1RRd0xUazFZVFF0WVRrMU5EVXpOakJtWldJd0lpd2libUptSWpveE5UYzBNRFk1Tnpjd0xDSnpkV0lpT2lJM056Wm1Zek5sTkMweU1ETmpMVFF6TjJZdFlXSXlOeTA1T1RreE9ERTRNRGN4T0dZaUxDSjBlWEFpT2lKaFkyTmxjM01pZlEuVndFdlB5dU82OUluU1ZveXNXVXFTdUZFbm5PYzN5OEFUTEZiYzMzOTIxMFhVNFpPMFlpNDlXT3EzbG5pdUhqTnYxcTkydzBiZnFjSUplb1BCUDlIa1E.aUREG1yRFH6OU6eD_6CrntIYOoNPRKiewgDIUENBgDs">>,<<"host">> => <<"user-api.domoface.ru">>,<<"user-agent">> => <<"Dalvik/2.1.0 (Linux; U; Android 9; LLD-L31 Build/HONORLLD-L31)">>,<<"x-forwarded-for">> => <<"85.26.235.206">>,<<"x-forwarded-host">> => <<"user-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"85.26.235.206">>},host => <<"user-api.domoface.ru">>,host_info => undefined,method => <<"POST">>,path => <<"/users/send_candidate">>,path_info => undefined,peer => {{127,0,0,1},59610},pid => <0.1347.0>,port => 80,qs => <<>>,ref => 'Elixir.DomoapiUserWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},9080},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"user-api.domoface.ru">>,method => <<"POST">>,owner => <0.1348.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"users">>,<<"send_candidate">>],path_params => #{},port => 80,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept-charset">>,<<"UTF-8">>},{<<"accept-encoding">>,<<"gzip">>},{<<"connection">>,<<"upgrade">>},{<<"content-length">>,<<"231">>},{<<"content-type">>,<<"application/x-www-form-urlencoded; charset=UTF-8">>},{<<"cookie">>,<<"_domoapi_user_key=SFMyNTY.g3QAAAABbQAAABZndWFyZGlhbl9kZWZhdWx0X3Rva2VubQAAAYZleUpoYkdjaU9pSklVelV4TWlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaGRXUWlPaUprYjIxdllYQnBYM1Z6WlhJaUxDSmxlSEFpT2pFMU56WTBPRGc1TnpFc0ltbGhkQ0k2TVRVM05EQTJPVGMzTVN3aWFYTnpJam9pWkc5dGIyRndhVjkxYzJWeUlpd2lhblJwSWpvaU56SXlNemc0TURJdE5qQmtaQzAwT1RRd0xUazFZVFF0WVRrMU5EVXpOakJtWldJd0lpd2libUptSWpveE5UYzBNRFk1Tnpjd0xDSnpkV0lpT2lJM056Wm1Zek5sTkMweU1ETmpMVFF6TjJZdFlXSXlOeTA1T1RreE9ERTRNRGN4T0dZaUxDSjBlWEFpT2lKaFkyTmxjM01pZlEuVndFdlB5dU82OUluU1ZveXNXVXFTdUZFbm5PYzN5OEFUTEZiYzMzOTIxMFhVNFpPMFlpNDlXT3EzbG5pdUhqTnYxcTkydzBiZnFjSUplb1BCUDlIa1E.aUREG1yRFH6OU6eD_6CrntIYOoNPRKiewgDIUENBgDs">>},{<<"host">>,<<"user-api.domoface.ru">>},{<<"user-agent">>,<<"Dalvik/2.1.0 (Linux; U; Android 9; LLD-L31 Build/HONORLLD-L31)">>},{<<"x-forwarded-for">>,<<"85.26.235.206">>},{<<"x-forwarded-host">>,<<"user-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"85.26.235.206">>}],request_path => <<"/users/send_candidate">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}
    ancestors: [<0.1347.0>,<0.527.0>,<0.526.0>,'Elixir.DomoapiUserWeb.Endpoint','Elixir.DomoapiUser.Supervisor',<0.505.0>]
    message_queue_len: 0
    messages: []
    links: [<0.1347.0>]
    dictionary: [{logger_metadata,{true,[{request_id,<<"FdhObIDcVKI28sAAAAUh">>}]}}]
    trap_exit: false
    status: running
    heap_size: 4185
    stack_size: 27
    reductions: 177297
  neighbours:
2019-11-18 16:24:57 =ERROR REPORT====
Ranch listener 'Elixir.DomoapiUserWeb.Endpoint.HTTP', connection process <0.1347.0>, stream 1 had its request process <0.1348.0> exit with reason {{#{'__exception__' => true,'__struct__' => 'Elixir.FunctionClauseError',args => nil,arity => 2,clauses => nil,function => call,kind => nil,module => 'Elixir.DomoapiUserWeb.FallbackController'},[{'Elixir.DomoapiUserWeb.FallbackController',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 231,cert => undefined,has_body => true,has_read_body => true,headers => #{<<"accept-charset">> => <<"UTF-8">>,<<"accept-encoding">> => <<"gzip">>,<<"connection">> => <<"upgrade">>,<<"content-length">> => <<"231">>,<<"content-type">> => <<"application/x-www-form-urlencoded; charset=UTF-8">>,<<"cookie">> => <<"_domoapi_user_key=SFMyNTY.g3QAAAABbQAAABZndWFyZGlhbl9kZWZhdWx0X3Rva2VubQAAAYZleUpoYkdjaU9pSklVelV4TWlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaGRXUWlPaUprYjIxdllYQnBYM1Z6WlhJaUxDSmxlSEFpT2pFMU56WTBPRGc1TnpFc0ltbGhkQ0k2TVRVM05EQTJPVGMzTVN3aWFYTnpJam9pWkc5dGIyRndhVjkxYzJWeUlpd2lhblJwSWpvaU56SXlNemc0TURJdE5qQmtaQzAwT1RRd0xUazFZVFF0WVRrMU5EVXpOakJtWldJd0lpd2libUptSWpveE5UYzBNRFk1Tnpjd0xDSnpkV0lpT2lJM056Wm1Zek5sTkMweU1ETmpMVFF6TjJZdFlXSXlOeTA1T1RreE9ERTRNRGN4T0dZaUxDSjBlWEFpT2lKaFkyTmxjM01pZlEuVndFdlB5dU82OUluU1ZveXNXVXFTdUZFbm5PYzN5OEFUTEZiYzMzOTIxMFhVNFpPMFlpNDlXT3EzbG5pdUhqTnYxcTkydzBiZnFjSUplb1BCUDlIa1E.aUREG1yRFH6OU6eD_6CrntIYOoNPRKiewgDIUENBgDs">>,<<"host">> => <<"user-api.domoface.ru">>,<<"user-agent">> => <<"Dalvik/2.1.0 (Linux; U; Android 9; LLD-L31 Build/HONORLLD-L31)">>,<<"x-forwarded-for">> => <<"85.26.235.206">>,<<"x-forwarded-host">> => <<"user-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"85.26.235.206">>},host => <<"user-api.domoface.ru">>,host_info => undefined,method => <<"POST">>,path => <<"/users/send_candidate">>,path_info => undefined,peer => {{127,0,0,1},59610},pid => <0.1347.0>,port => 80,qs => <<>>,ref => 'Elixir.DomoapiUserWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},9080},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [#Fun<Elixir.Plug.Session.0.35161479>,#Fun<Elixir.Plug.Telemetry.0.66442134>,#Fun<Elixir.Phoenix.LiveReloader.0.121962774>],body_params => #{<<"candidate">> => <<"{\"candidate\":\"candidate:842163049 1 udp 1677729535 85.26.235.206 20935 typ srflx raddr 10.218.57.13 rport 44373 generation 0 ufrag ReEI network-cost 999\",\"sdpMid\":\"0\",\"sdpMLineIndex\":0}">>},cookies => #{<<"_domoapi_user_key">> => <<"SFMyNTY.g3QAAAABbQAAABZndWFyZGlhbl9kZWZhdWx0X3Rva2VubQAAAYZleUpoYkdjaU9pSklVelV4TWlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaGRXUWlPaUprYjIxdllYQnBYM1Z6WlhJaUxDSmxlSEFpT2pFMU56WTBPRGc1TnpFc0ltbGhkQ0k2TVRVM05EQTJPVGMzTVN3aWFYTnpJam9pWkc5dGIyRndhVjkxYzJWeUlpd2lhblJwSWpvaU56SXlNemc0TURJdE5qQmtaQzAwT1RRd0xUazFZVFF0WVRrMU5EVXpOakJtWldJd0lpd2libUptSWpveE5UYzBNRFk1Tnpjd0xDSnpkV0lpT2lJM056Wm1Zek5sTkMweU1ETmpMVFF6TjJZdFlXSXlOeTA1T1RreE9ERTRNRGN4T0dZaUxDSjBlWEFpT2lKaFkyTmxjM01pZlEuVndFdlB5dU82OUluU1ZveXNXVXFTdUZFbm5PYzN5OEFUTEZiYzMzOTIxMFhVNFpPMFlpNDlXT3EzbG5pdUhqTnYxcTkydzBiZnFjSUplb1BCUDlIa1E.aUREG1yRFH6OU6eD_6CrntIYOoNPRKiewgDIUENBgDs">>},halted => false,host => <<"user-api.domoface.ru">>,method => <<"POST">>,owner => <0.1348.0>,params => #{<<"candidate">> => <<"{\"candidate\":\"candidate:842163049 1 udp 1677729535 85.26.235.206 20935 typ srflx raddr 10.218.57.13 rport 44373 generation 0 ufrag ReEI network-cost 999\",\"sdpMid\":\"0\",\"sdpMLineIndex\":0}">>},path_info => [<<"users">>,<<"send_candidate">>],path_params => #{},port => 80,private => #{'Elixir.DomoapiUserWeb.Router' => {[],#{'Elixir.PhoenixSwagger.Plug.SwaggerUI' => []}},guardian_default_claims => #{<<"aud">> => <<"domoapi_user">>,<<"exp">> => 1576488971,<<"iat">> => 1574069771,<<"iss">> => <<"domoapi_user">>,<<"jti">> => <<"72238802-60dd-4940-95a4-a9545360feb0">>,<<"nbf">> => 1574069770,<<"sub">> => <<"776fc3e4-203c-437f-ab27-99918180718f">>,<<"typ">> => <<"access">>},guardian_default_resource => #{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => #{'__cardinality__' => many,'__field__' => devices,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 15,hour => 12,microsecond => {0,0},minute => 39,month => 11,second => 36,year => 2019},password => <<"$2b$12$XlddKF/xtUSibCfUPGIFder8BVD04Qh9qhAIdee/iSdJE48pNnIKe">>,phone_number => <<"89991945767">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<"Azat verni 2 rubl">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 13,year => 2019}},guardian_default_token => <<"eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJkb21vYXBpX3VzZXIiLCJleHAiOjE1NzY0ODg5NzEsImlhdCI6MTU3NDA2OTc3MSwiaXNzIjoiZG9tb2FwaV91c2VyIiwianRpIjoiNzIyMzg4MDItNjBkZC00OTQwLTk1YTQtYTk1NDUzNjBmZWIwIiwibmJmIjoxNTc0MDY5NzcwLCJzdWIiOiI3NzZmYzNlNC0yMDNjLTQzN2YtYWIyNy05OTkxODE4MDcxOGYiLCJ0eXAiOiJhY2Nlc3MifQ.VwEvPyuO69InSVoysWUqSuFEnnOc3y8ATLFbc339210XU4ZO0Yi49WOq3lniuHjNv1q92w0bfqcIJeoPBP9HkQ">>,guardian_error_handler => 'Elixir.DomoapiUserWeb.FallbackController',guardian_module => 'Elixir.DomoapiUser.Guardian',phoenix_action => send_candidate,phoenix_controller => 'Elixir.DomoapiUserWeb.SessionController',phoenix_endpoint => 'Elixir.DomoapiUserWeb.Endpoint',phoenix_format => <<"json">>,phoenix_layout => {'Elixir.DomoapiUserWeb.LayoutView',app},phoenix_pipelines => [api,authorized],phoenix_router => 'Elixir.DomoapiUserWeb.Router',phoenix_view => 'Elixir.DomoapiUserWeb.SessionView',plug_session => #{<<"guardian_default_token">> => <<"eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJkb21vYXBpX3VzZXIiLCJleHAiOjE1NzY0ODg5NzEsImlhdCI6MTU3NDA2OTc3MSwiaXNzIjoiZG9tb2FwaV91c2VyIiwianRpIjoiNzIyMzg4MDItNjBkZC00OTQwLTk1YTQtYTk1NDUzNjBmZWIwIiwibmJmIjoxNTc0MDY5NzcwLCJzdWIiOiI3NzZmYzNlNC0yMDNjLTQzN2YtYWIyNy05OTkxODE4MDcxOGYiLCJ0eXAiOiJhY2Nlc3MifQ.VwEvPyuO69InSVoysWUqSuFEnnOc3y8ATLFbc339210XU4ZO0Yi49WOq3lniuHjNv1q92w0bfqcIJeoPBP9HkQ">>},plug_session_fetch => done},query_params => #{},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{<<"_domoapi_user_key">> => <<"SFMyNTY.g3QAAAABbQAAABZndWFyZGlhbl9kZWZhdWx0X3Rva2VubQAAAYZleUpoYkdjaU9pSklVelV4TWlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaGRXUWlPaUprYjIxdllYQnBYM1Z6WlhJaUxDSmxlSEFpT2pFMU56WTBPRGc1TnpFc0ltbGhkQ0k2TVRVM05EQTJPVGMzTVN3aWFYTnpJam9pWkc5dGIyRndhVjkxYzJWeUlpd2lhblJwSWpvaU56SXlNemc0TURJdE5qQmtaQzAwT1RRd0xUazFZVFF0WVRrMU5EVXpOakJtWldJd0lpd2libUptSWpveE5UYzBNRFk1Tnpjd0xDSnpkV0lpT2lJM056Wm1Zek5sTkMweU1ETmpMVFF6TjJZdFlXSXlOeTA1T1RreE9ERTRNRGN4T0dZaUxDSjBlWEFpT2lKaFkyTmxjM01pZlEuVndFdlB5dU82OUluU1ZveXNXVXFTdUZFbm5PYzN5OEFUTEZiYzMzOTIxMFhVNFpPMFlpNDlXT3EzbG5pdUhqTnYxcTkydzBiZnFjSUplb1BCUDlIa1E.aUREG1yRFH6OU6eD_6CrntIYOoNPRKiewgDIUENBgDs">>},req_headers => [{<<"accept-charset">>,<<"UTF-8">>},{<<"accept-encoding">>,<<"gzip">>},{<<"connection">>,<<"upgrade">>},{<<"content-length">>,<<"231">>},{<<"content-type">>,<<"application/x-www-form-urlencoded; charset=UTF-8">>},{<<"cookie">>,<<"_domoapi_user_key=SFMyNTY.g3QAAAABbQAAABZndWFyZGlhbl9kZWZhdWx0X3Rva2VubQAAAYZleUpoYkdjaU9pSklVelV4TWlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaGRXUWlPaUprYjIxdllYQnBYM1Z6WlhJaUxDSmxlSEFpT2pFMU56WTBPRGc1TnpFc0ltbGhkQ0k2TVRVM05EQTJPVGMzTVN3aWFYTnpJam9pWkc5dGIyRndhVjkxYzJWeUlpd2lhblJwSWpvaU56SXlNemc0TURJdE5qQmtaQzAwT1RRd0xUazFZVFF0WVRrMU5EVXpOakJtWldJd0lpd2libUptSWpveE5UYzBNRFk1Tnpjd0xDSnpkV0lpT2lJM056Wm1Zek5sTkMweU1ETmpMVFF6TjJZdFlXSXlOeTA1T1RreE9ERTRNRGN4T0dZaUxDSjBlWEFpT2lKaFkyTmxjM01pZlEuVndFdlB5dU82OUluU1ZveXNXVXFTdUZFbm5PYzN5OEFUTEZiYzMzOTIxMFhVNFpPMFlpNDlXT3EzbG5pdUhqTnYxcTkydzBiZnFjSUplb1BCUDlIa1E.aUREG1yRFH6OU6eD_6CrntIYOoNPRKiewgDIUENBgDs">>},{<<"host">>,<<"user-api.domoface.ru">>},{<<"user-agent">>,<<"Dalvik/2.1.0 (Linux; U; Android 9; LLD-L31 Build/HONORLLD-L31)">>},{<<"x-forwarded-for">>,<<"85.26.235.206">>},{<<"x-forwarded-host">>,<<"user-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"85.26.235.206">>}],request_path => <<"/users/send_candidate">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>},{<<"x-request-id">>,<<"FdhObIDcVKI28sAAAAUh">>}],scheme => http,script_name => [],secret_key_base => <<"luzga7DdpB46XmM4h5AYlvAs77NA6uHsptQ4VKt3K4/Qg9aUt+UiPiXsbgXHDiul">>,state => unset,status => nil},nil],[{file,"lib/domoapi_user_web/controllers/fallback_controller.ex"},{line,10}]},{'Elixir.DomoapiUserWeb.SessionController',action,2,[{file,"lib/domoapi_user_web/controllers/session_controller.ex"},{line,1}]},{'Elixir.DomoapiUserWeb.SessionController',phoenix_controller_pipeline,2,[{file,"lib/domoapi_user_web/controllers/session_controller.ex"},{line,1}]},{'Elixir.DomoapiUserWeb.Endpoint',instrument,4,[{file,"lib/domoapi_user_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',1,[{file,"lib/phoenix/router.ex"},{line,275}]},{'Elixir.DomoapiUserWeb.Endpoint',plug_builder_call,2,[{file,"lib/domoapi_user_web/endpoint.ex"},{line,1}]},{'Elixir.DomoapiUserWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.DomoapiUserWeb.Endpoint',call,2,[{file,"lib/domoapi_user_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,33}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.DomoapiUserWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 231,cert => undefined,has_body => true,headers => #{<<"accept-charset">> => <<"UTF-8">>,<<"accept-encoding">> => <<"gzip">>,<<"connection">> => <<"upgrade">>,<<"content-length">> => <<"231">>,<<"content-type">> => <<"application/x-www-form-urlencoded; charset=UTF-8">>,<<"cookie">> => <<"_domoapi_user_key=SFMyNTY.g3QAAAABbQAAABZndWFyZGlhbl9kZWZhdWx0X3Rva2VubQAAAYZleUpoYkdjaU9pSklVelV4TWlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaGRXUWlPaUprYjIxdllYQnBYM1Z6WlhJaUxDSmxlSEFpT2pFMU56WTBPRGc1TnpFc0ltbGhkQ0k2TVRVM05EQTJPVGMzTVN3aWFYTnpJam9pWkc5dGIyRndhVjkxYzJWeUlpd2lhblJwSWpvaU56SXlNemc0TURJdE5qQmtaQzAwT1RRd0xUazFZVFF0WVRrMU5EVXpOakJtWldJd0lpd2libUptSWpveE5UYzBNRFk1Tnpjd0xDSnpkV0lpT2lJM056Wm1Zek5sTkMweU1ETmpMVFF6TjJZdFlXSXlOeTA1T1RreE9ERTRNRGN4T0dZaUxDSjBlWEFpT2lKaFkyTmxjM01pZlEuVndFdlB5dU82OUluU1ZveXNXVXFTdUZFbm5PYzN5OEFUTEZiYzMzOTIxMFhVNFpPMFlpNDlXT3EzbG5pdUhqTnYxcTkydzBiZnFjSUplb1BCUDlIa1E.aUREG1yRFH6OU6eD_6CrntIYOoNPRKiewgDIUENBgDs">>,<<"host">> => <<"user-api.domoface.ru">>,<<"user-agent">> => <<"Dalvik/2.1.0 (Linux; U; Android 9; LLD-L31 Build/HONORLLD-L31)">>,<<"x-forwarded-for">> => <<"85.26.235.206">>,<<"x-forwarded-host">> => <<"user-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"85.26.235.206">>},host => <<"user-api.domoface.ru">>,host_info => undefined,method => <<"POST">>,path => <<"/users/send_candidate">>,path_info => undefined,peer => {{127,0,0,1},59610},pid => <0.1347.0>,port => 80,qs => <<>>,ref => 'Elixir.DomoapiUserWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},9080},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"user-api.domoface.ru">>,method => <<"POST">>,owner => <0.1348.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"users">>,<<"send_candidate">>],path_params => #{},port => 80,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept-charset">>,<<"UTF-8">>},{<<"accept-encoding">>,<<"gzip">>},{<<"connection">>,<<"upgrade">>},{<<"content-length">>,<<"231">>},{<<"content-type">>,<<"application/x-www-form-urlencoded; charset=UTF-8">>},{<<"cookie">>,<<"_domoapi_user_key=SFMyNTY.g3QAAAABbQAAABZndWFyZGlhbl9kZWZhdWx0X3Rva2VubQAAAYZleUpoYkdjaU9pSklVelV4TWlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaGRXUWlPaUprYjIxdllYQnBYM1Z6WlhJaUxDSmxlSEFpT2pFMU56WTBPRGc1TnpFc0ltbGhkQ0k2TVRVM05EQTJPVGMzTVN3aWFYTnpJam9pWkc5dGIyRndhVjkxYzJWeUlpd2lhblJwSWpvaU56SXlNemc0TURJdE5qQmtaQzAwT1RRd0xUazFZVFF0WVRrMU5EVXpOakJtWldJd0lpd2libUptSWpveE5UYzBNRFk1Tnpjd0xDSnpkV0lpT2lJM056Wm1Zek5sTkMweU1ETmpMVFF6TjJZdFlXSXlOeTA1T1RreE9ERTRNRGN4T0dZaUxDSjBlWEFpT2lKaFkyTmxjM01pZlEuVndFdlB5dU82OUluU1ZveXNXVXFTdUZFbm5PYzN5OEFUTEZiYzMzOTIxMFhVNFpPMFlpNDlXT3EzbG5pdUhqTnYxcTkydzBiZnFjSUplb1BCUDlIa1E.aUREG1yRFH6OU6eD_6CrntIYOoNPRKiewgDIUENBgDs">>},{<<"host">>,<<"user-api.domoface.ru">>},{<<"user-agent">>,<<"Dalvik/2.1.0 (Linux; U; Android 9; LLD-L31 Build/HONORLLD-L31)">>},{<<"x-forwarded-for">>,<<"85.26.235.206">>},{<<"x-forwarded-host">>,<<"user-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"85.26.235.206">>}],request_path => <<"/users/send_candidate">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}} and stacktrace [{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]
2019-11-18 16:24:57 =CRASH REPORT====
  crasher:
    initial call: cowboy_stream_h:request_process/3
    pid: <0.1353.0>
    registered_name: []
    exception exit: {{{{#{'__exception__' => true,'__struct__' => 'Elixir.FunctionClauseError',args => nil,arity => 2,clauses => nil,function => call,kind => nil,module => 'Elixir.DomoapiUserWeb.FallbackController'},[{'Elixir.DomoapiUserWeb.FallbackController',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 230,cert => undefined,has_body => true,has_read_body => true,headers => #{<<"accept-charset">> => <<"UTF-8">>,<<"accept-encoding">> => <<"gzip">>,<<"connection">> => <<"upgrade">>,<<"content-length">> => <<"230">>,<<"content-type">> => <<"application/x-www-form-urlencoded; charset=UTF-8">>,<<"cookie">> => <<"_domoapi_user_key=SFMyNTY.g3QAAAABbQAAABZndWFyZGlhbl9kZWZhdWx0X3Rva2VubQAAAYZleUpoYkdjaU9pSklVelV4TWlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaGRXUWlPaUprYjIxdllYQnBYM1Z6WlhJaUxDSmxlSEFpT2pFMU56WTBPRGc1TnpFc0ltbGhkQ0k2TVRVM05EQTJPVGMzTVN3aWFYTnpJam9pWkc5dGIyRndhVjkxYzJWeUlpd2lhblJwSWpvaU56SXlNemc0TURJdE5qQmtaQzAwT1RRd0xUazFZVFF0WVRrMU5EVXpOakJtWldJd0lpd2libUptSWpveE5UYzBNRFk1Tnpjd0xDSnpkV0lpT2lJM056Wm1Zek5sTkMweU1ETmpMVFF6TjJZdFlXSXlOeTA1T1RreE9ERTRNRGN4T0dZaUxDSjBlWEFpT2lKaFkyTmxjM01pZlEuVndFdlB5dU82OUluU1ZveXNXVXFTdUZFbm5PYzN5OEFUTEZiYzMzOTIxMFhVNFpPMFlpNDlXT3EzbG5pdUhqTnYxcTkydzBiZnFjSUplb1BCUDlIa1E.aUREG1yRFH6OU6eD_6CrntIYOoNPRKiewgDIUENBgDs">>,<<"host">> => <<"user-api.domoface.ru">>,<<"user-agent">> => <<"Dalvik/2.1.0 (Linux; U; Android 9; LLD-L31 Build/HONORLLD-L31)">>,<<"x-forwarded-for">> => <<"85.26.235.206">>,<<"x-forwarded-host">> => <<"user-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"85.26.235.206">>},host => <<"user-api.domoface.ru">>,host_info => undefined,method => <<"POST">>,path => <<"/users/send_candidate">>,path_info => undefined,peer => {{127,0,0,1},59614},pid => <0.1352.0>,port => 80,qs => <<>>,ref => 'Elixir.DomoapiUserWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},9080},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [#Fun<Elixir.Plug.Session.0.35161479>,#Fun<Elixir.Plug.Telemetry.0.66442134>,#Fun<Elixir.Phoenix.LiveReloader.0.121962774>],body_params => #{<<"candidate">> => <<"{\"candidate\":\"candidate:2212263285 1 udp 33562367 3.123.78.125 50166 typ relay raddr 85.26.235.206 rport 20935 generation 0 ufrag ReEI network-cost 999\",\"sdpMid\":\"0\",\"sdpMLineIndex\":0}">>},cookies => #{<<"_domoapi_user_key">> => <<"SFMyNTY.g3QAAAABbQAAABZndWFyZGlhbl9kZWZhdWx0X3Rva2VubQAAAYZleUpoYkdjaU9pSklVelV4TWlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaGRXUWlPaUprYjIxdllYQnBYM1Z6WlhJaUxDSmxlSEFpT2pFMU56WTBPRGc1TnpFc0ltbGhkQ0k2TVRVM05EQTJPVGMzTVN3aWFYTnpJam9pWkc5dGIyRndhVjkxYzJWeUlpd2lhblJwSWpvaU56SXlNemc0TURJdE5qQmtaQzAwT1RRd0xUazFZVFF0WVRrMU5EVXpOakJtWldJd0lpd2libUptSWpveE5UYzBNRFk1Tnpjd0xDSnpkV0lpT2lJM056Wm1Zek5sTkMweU1ETmpMVFF6TjJZdFlXSXlOeTA1T1RreE9ERTRNRGN4T0dZaUxDSjBlWEFpT2lKaFkyTmxjM01pZlEuVndFdlB5dU82OUluU1ZveXNXVXFTdUZFbm5PYzN5OEFUTEZiYzMzOTIxMFhVNFpPMFlpNDlXT3EzbG5pdUhqTnYxcTkydzBiZnFjSUplb1BCUDlIa1E.aUREG1yRFH6OU6eD_6CrntIYOoNPRKiewgDIUENBgDs">>},halted => false,host => <<"user-api.domoface.ru">>,method => <<"POST">>,owner => <0.1353.0>,params => #{<<"candidate">> => <<"{\"candidate\":\"candidate:2212263285 1 udp 33562367 3.123.78.125 50166 typ relay raddr 85.26.235.206 rport 20935 generation 0 ufrag ReEI network-cost 999\",\"sdpMid\":\"0\",\"sdpMLineIndex\":0}">>},path_info => [<<"users">>,<<"send_candidate">>],path_params => #{},port => 80,private => #{'Elixir.DomoapiUserWeb.Router' => {[],#{'Elixir.PhoenixSwagger.Plug.SwaggerUI' => []}},guardian_default_claims => #{<<"aud">> => <<"domoapi_user">>,<<"exp">> => 1576488971,<<"iat">> => 1574069771,<<"iss">> => <<"domoapi_user">>,<<"jti">> => <<"72238802-60dd-4940-95a4-a9545360feb0">>,<<"nbf">> => 1574069770,<<"sub">> => <<"776fc3e4-203c-437f-ab27-99918180718f">>,<<"typ">> => <<"access">>},guardian_default_resource => #{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => #{'__cardinality__' => many,'__field__' => devices,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 15,hour => 12,microsecond => {0,0},minute => 39,month => 11,second => 36,year => 2019},password => <<"$2b$12$XlddKF/xtUSibCfUPGIFder8BVD04Qh9qhAIdee/iSdJE48pNnIKe">>,phone_number => <<"89991945767">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<"Azat verni 2 rubl">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 13,year => 2019}},guardian_default_token => <<"eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJkb21vYXBpX3VzZXIiLCJleHAiOjE1NzY0ODg5NzEsImlhdCI6MTU3NDA2OTc3MSwiaXNzIjoiZG9tb2FwaV91c2VyIiwianRpIjoiNzIyMzg4MDItNjBkZC00OTQwLTk1YTQtYTk1NDUzNjBmZWIwIiwibmJmIjoxNTc0MDY5NzcwLCJzdWIiOiI3NzZmYzNlNC0yMDNjLTQzN2YtYWIyNy05OTkxODE4MDcxOGYiLCJ0eXAiOiJhY2Nlc3MifQ.VwEvPyuO69InSVoysWUqSuFEnnOc3y8ATLFbc339210XU4ZO0Yi49WOq3lniuHjNv1q92w0bfqcIJeoPBP9HkQ">>,guardian_error_handler => 'Elixir.DomoapiUserWeb.FallbackController',guardian_module => 'Elixir.DomoapiUser.Guardian',phoenix_action => send_candidate,phoenix_controller => 'Elixir.DomoapiUserWeb.SessionController',phoenix_endpoint => 'Elixir.DomoapiUserWeb.Endpoint',phoenix_format => <<"json">>,phoenix_layout => {'Elixir.DomoapiUserWeb.LayoutView',app},phoenix_pipelines => [api,authorized],phoenix_router => 'Elixir.DomoapiUserWeb.Router',phoenix_view => 'Elixir.DomoapiUserWeb.SessionView',plug_session => #{<<"guardian_default_token">> => <<"eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJkb21vYXBpX3VzZXIiLCJleHAiOjE1NzY0ODg5NzEsImlhdCI6MTU3NDA2OTc3MSwiaXNzIjoiZG9tb2FwaV91c2VyIiwianRpIjoiNzIyMzg4MDItNjBkZC00OTQwLTk1YTQtYTk1NDUzNjBmZWIwIiwibmJmIjoxNTc0MDY5NzcwLCJzdWIiOiI3NzZmYzNlNC0yMDNjLTQzN2YtYWIyNy05OTkxODE4MDcxOGYiLCJ0eXAiOiJhY2Nlc3MifQ.VwEvPyuO69InSVoysWUqSuFEnnOc3y8ATLFbc339210XU4ZO0Yi49WOq3lniuHjNv1q92w0bfqcIJeoPBP9HkQ">>},plug_session_fetch => done},query_params => #{},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{<<"_domoapi_user_key">> => <<"SFMyNTY.g3QAAAABbQAAABZndWFyZGlhbl9kZWZhdWx0X3Rva2VubQAAAYZleUpoYkdjaU9pSklVelV4TWlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaGRXUWlPaUprYjIxdllYQnBYM1Z6WlhJaUxDSmxlSEFpT2pFMU56WTBPRGc1TnpFc0ltbGhkQ0k2TVRVM05EQTJPVGMzTVN3aWFYTnpJam9pWkc5dGIyRndhVjkxYzJWeUlpd2lhblJwSWpvaU56SXlNemc0TURJdE5qQmtaQzAwT1RRd0xUazFZVFF0WVRrMU5EVXpOakJtWldJd0lpd2libUptSWpveE5UYzBNRFk1Tnpjd0xDSnpkV0lpT2lJM056Wm1Zek5sTkMweU1ETmpMVFF6TjJZdFlXSXlOeTA1T1RreE9ERTRNRGN4T0dZaUxDSjBlWEFpT2lKaFkyTmxjM01pZlEuVndFdlB5dU82OUluU1ZveXNXVXFTdUZFbm5PYzN5OEFUTEZiYzMzOTIxMFhVNFpPMFlpNDlXT3EzbG5pdUhqTnYxcTkydzBiZnFjSUplb1BCUDlIa1E.aUREG1yRFH6OU6eD_6CrntIYOoNPRKiewgDIUENBgDs">>},req_headers => [{<<"accept-charset">>,<<"UTF-8">>},{<<"accept-encoding">>,<<"gzip">>},{<<"connection">>,<<"upgrade">>},{<<"content-length">>,<<"230">>},{<<"content-type">>,<<"application/x-www-form-urlencoded; charset=UTF-8">>},{<<"cookie">>,<<"_domoapi_user_key=SFMyNTY.g3QAAAABbQAAABZndWFyZGlhbl9kZWZhdWx0X3Rva2VubQAAAYZleUpoYkdjaU9pSklVelV4TWlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaGRXUWlPaUprYjIxdllYQnBYM1Z6WlhJaUxDSmxlSEFpT2pFMU56WTBPRGc1TnpFc0ltbGhkQ0k2TVRVM05EQTJPVGMzTVN3aWFYTnpJam9pWkc5dGIyRndhVjkxYzJWeUlpd2lhblJwSWpvaU56SXlNemc0TURJdE5qQmtaQzAwT1RRd0xUazFZVFF0WVRrMU5EVXpOakJtWldJd0lpd2libUptSWpveE5UYzBNRFk1Tnpjd0xDSnpkV0lpT2lJM056Wm1Zek5sTkMweU1ETmpMVFF6TjJZdFlXSXlOeTA1T1RreE9ERTRNRGN4T0dZaUxDSjBlWEFpT2lKaFkyTmxjM01pZlEuVndFdlB5dU82OUluU1ZveXNXVXFTdUZFbm5PYzN5OEFUTEZiYzMzOTIxMFhVNFpPMFlpNDlXT3EzbG5pdUhqTnYxcTkydzBiZnFjSUplb1BCUDlIa1E.aUREG1yRFH6OU6eD_6CrntIYOoNPRKiewgDIUENBgDs">>},{<<"host">>,<<"user-api.domoface.ru">>},{<<"user-agent">>,<<"Dalvik/2.1.0 (Linux; U; Android 9; LLD-L31 Build/HONORLLD-L31)">>},{<<"x-forwarded-for">>,<<"85.26.235.206">>},{<<"x-forwarded-host">>,<<"user-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"85.26.235.206">>}],request_path => <<"/users/send_candidate">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>},{<<"x-request-id">>,<<"FdhObIQYtA6xIFYAAAVB">>}],scheme => http,script_name => [],secret_key_base => <<"luzga7DdpB46XmM4h5AYlvAs77NA6uHsptQ4VKt3K4/Qg9aUt+UiPiXsbgXHDiul">>,state => unset,status => nil},nil],[{file,"lib/domoapi_user_web/controllers/fallback_controller.ex"},{line,10}]},{'Elixir.DomoapiUserWeb.SessionController',action,2,[{file,"lib/domoapi_user_web/controllers/session_controller.ex"},{line,1}]},{'Elixir.DomoapiUserWeb.SessionController',phoenix_controller_pipeline,2,[{file,"lib/domoapi_user_web/controllers/session_controller.ex"},{line,1}]},{'Elixir.DomoapiUserWeb.Endpoint',instrument,4,[{file,"lib/domoapi_user_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',1,[{file,"lib/phoenix/router.ex"},{line,275}]},{'Elixir.DomoapiUserWeb.Endpoint',plug_builder_call,2,[{file,"lib/domoapi_user_web/endpoint.ex"},{line,1}]},{'Elixir.DomoapiUserWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.DomoapiUserWeb.Endpoint',call,2,[{file,"lib/domoapi_user_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,33}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.DomoapiUserWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 230,cert => undefined,has_body => true,headers => #{<<"accept-charset">> => <<"UTF-8">>,<<"accept-encoding">> => <<"gzip">>,<<"connection">> => <<"upgrade">>,<<"content-length">> => <<"230">>,<<"content-type">> => <<"application/x-www-form-urlencoded; charset=UTF-8">>,<<"cookie">> => <<"_domoapi_user_key=SFMyNTY.g3QAAAABbQAAABZndWFyZGlhbl9kZWZhdWx0X3Rva2VubQAAAYZleUpoYkdjaU9pSklVelV4TWlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaGRXUWlPaUprYjIxdllYQnBYM1Z6WlhJaUxDSmxlSEFpT2pFMU56WTBPRGc1TnpFc0ltbGhkQ0k2TVRVM05EQTJPVGMzTVN3aWFYTnpJam9pWkc5dGIyRndhVjkxYzJWeUlpd2lhblJwSWpvaU56SXlNemc0TURJdE5qQmtaQzAwT1RRd0xUazFZVFF0WVRrMU5EVXpOakJtWldJd0lpd2libUptSWpveE5UYzBNRFk1Tnpjd0xDSnpkV0lpT2lJM056Wm1Zek5sTkMweU1ETmpMVFF6TjJZdFlXSXlOeTA1T1RreE9ERTRNRGN4T0dZaUxDSjBlWEFpT2lKaFkyTmxjM01pZlEuVndFdlB5dU82OUluU1ZveXNXVXFTdUZFbm5PYzN5OEFUTEZiYzMzOTIxMFhVNFpPMFlpNDlXT3EzbG5pdUhqTnYxcTkydzBiZnFjSUplb1BCUDlIa1E.aUREG1yRFH6OU6eD_6CrntIYOoNPRKiewgDIUENBgDs">>,<<"host">> => <<"user-api.domoface.ru">>,<<"user-agent">> => <<"Dalvik/2.1.0 (Linux; U; Android 9; LLD-L31 Build/HONORLLD-L31)">>,<<"x-forwarded-for">> => <<"85.26.235.206">>,<<"x-forwarded-host">> => <<"user-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"85.26.235.206">>},host => <<"user-api.domoface.ru">>,host_info => undefined,method => <<"POST">>,path => <<"/users/send_candidate">>,path_info => undefined,peer => {{127,0,0,1},59614},pid => <0.1352.0>,port => 80,qs => <<>>,ref => 'Elixir.DomoapiUserWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},9080},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"user-api.domoface.ru">>,method => <<"POST">>,owner => <0.1353.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"users">>,<<"send_candidate">>],path_params => #{},port => 80,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept-charset">>,<<"UTF-8">>},{<<"accept-encoding">>,<<"gzip">>},{<<"connection">>,<<"upgrade">>},{<<"content-length">>,<<"230">>},{<<"content-type">>,<<"application/x-www-form-urlencoded; charset=UTF-8">>},{<<"cookie">>,<<"_domoapi_user_key=SFMyNTY.g3QAAAABbQAAABZndWFyZGlhbl9kZWZhdWx0X3Rva2VubQAAAYZleUpoYkdjaU9pSklVelV4TWlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaGRXUWlPaUprYjIxdllYQnBYM1Z6WlhJaUxDSmxlSEFpT2pFMU56WTBPRGc1TnpFc0ltbGhkQ0k2TVRVM05EQTJPVGMzTVN3aWFYTnpJam9pWkc5dGIyRndhVjkxYzJWeUlpd2lhblJwSWpvaU56SXlNemc0TURJdE5qQmtaQzAwT1RRd0xUazFZVFF0WVRrMU5EVXpOakJtWldJd0lpd2libUptSWpveE5UYzBNRFk1Tnpjd0xDSnpkV0lpT2lJM056Wm1Zek5sTkMweU1ETmpMVFF6TjJZdFlXSXlOeTA1T1RreE9ERTRNRGN4T0dZaUxDSjBlWEFpT2lKaFkyTmxjM01pZlEuVndFdlB5dU82OUluU1ZveXNXVXFTdUZFbm5PYzN5OEFUTEZiYzMzOTIxMFhVNFpPMFlpNDlXT3EzbG5pdUhqTnYxcTkydzBiZnFjSUplb1BCUDlIa1E.aUREG1yRFH6OU6eD_6CrntIYOoNPRKiewgDIUENBgDs">>},{<<"host">>,<<"user-api.domoface.ru">>},{<<"user-agent">>,<<"Dalvik/2.1.0 (Linux; U; Android 9; LLD-L31 Build/HONORLLD-L31)">>},{<<"x-forwarded-for">>,<<"85.26.235.206">>},{<<"x-forwarded-host">>,<<"user-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"85.26.235.206">>}],request_path => <<"/users/send_candidate">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}
    ancestors: [<0.1352.0>,<0.527.0>,<0.526.0>,'Elixir.DomoapiUserWeb.Endpoint','Elixir.DomoapiUser.Supervisor',<0.505.0>]
    message_queue_len: 0
    messages: []
    links: [<0.1352.0>]
    dictionary: [{logger_metadata,{true,[{request_id,<<"FdhObIQYtA6xIFYAAAVB">>}]}}]
    trap_exit: false
    status: running
    heap_size: 4185
    stack_size: 27
    reductions: 177259
  neighbours:
2019-11-18 16:24:57 =ERROR REPORT====
Ranch listener 'Elixir.DomoapiUserWeb.Endpoint.HTTP', connection process <0.1352.0>, stream 1 had its request process <0.1353.0> exit with reason {{#{'__exception__' => true,'__struct__' => 'Elixir.FunctionClauseError',args => nil,arity => 2,clauses => nil,function => call,kind => nil,module => 'Elixir.DomoapiUserWeb.FallbackController'},[{'Elixir.DomoapiUserWeb.FallbackController',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 230,cert => undefined,has_body => true,has_read_body => true,headers => #{<<"accept-charset">> => <<"UTF-8">>,<<"accept-encoding">> => <<"gzip">>,<<"connection">> => <<"upgrade">>,<<"content-length">> => <<"230">>,<<"content-type">> => <<"application/x-www-form-urlencoded; charset=UTF-8">>,<<"cookie">> => <<"_domoapi_user_key=SFMyNTY.g3QAAAABbQAAABZndWFyZGlhbl9kZWZhdWx0X3Rva2VubQAAAYZleUpoYkdjaU9pSklVelV4TWlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaGRXUWlPaUprYjIxdllYQnBYM1Z6WlhJaUxDSmxlSEFpT2pFMU56WTBPRGc1TnpFc0ltbGhkQ0k2TVRVM05EQTJPVGMzTVN3aWFYTnpJam9pWkc5dGIyRndhVjkxYzJWeUlpd2lhblJwSWpvaU56SXlNemc0TURJdE5qQmtaQzAwT1RRd0xUazFZVFF0WVRrMU5EVXpOakJtWldJd0lpd2libUptSWpveE5UYzBNRFk1Tnpjd0xDSnpkV0lpT2lJM056Wm1Zek5sTkMweU1ETmpMVFF6TjJZdFlXSXlOeTA1T1RreE9ERTRNRGN4T0dZaUxDSjBlWEFpT2lKaFkyTmxjM01pZlEuVndFdlB5dU82OUluU1ZveXNXVXFTdUZFbm5PYzN5OEFUTEZiYzMzOTIxMFhVNFpPMFlpNDlXT3EzbG5pdUhqTnYxcTkydzBiZnFjSUplb1BCUDlIa1E.aUREG1yRFH6OU6eD_6CrntIYOoNPRKiewgDIUENBgDs">>,<<"host">> => <<"user-api.domoface.ru">>,<<"user-agent">> => <<"Dalvik/2.1.0 (Linux; U; Android 9; LLD-L31 Build/HONORLLD-L31)">>,<<"x-forwarded-for">> => <<"85.26.235.206">>,<<"x-forwarded-host">> => <<"user-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"85.26.235.206">>},host => <<"user-api.domoface.ru">>,host_info => undefined,method => <<"POST">>,path => <<"/users/send_candidate">>,path_info => undefined,peer => {{127,0,0,1},59614},pid => <0.1352.0>,port => 80,qs => <<>>,ref => 'Elixir.DomoapiUserWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},9080},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [#Fun<Elixir.Plug.Session.0.35161479>,#Fun<Elixir.Plug.Telemetry.0.66442134>,#Fun<Elixir.Phoenix.LiveReloader.0.121962774>],body_params => #{<<"candidate">> => <<"{\"candidate\":\"candidate:2212263285 1 udp 33562367 3.123.78.125 50166 typ relay raddr 85.26.235.206 rport 20935 generation 0 ufrag ReEI network-cost 999\",\"sdpMid\":\"0\",\"sdpMLineIndex\":0}">>},cookies => #{<<"_domoapi_user_key">> => <<"SFMyNTY.g3QAAAABbQAAABZndWFyZGlhbl9kZWZhdWx0X3Rva2VubQAAAYZleUpoYkdjaU9pSklVelV4TWlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaGRXUWlPaUprYjIxdllYQnBYM1Z6WlhJaUxDSmxlSEFpT2pFMU56WTBPRGc1TnpFc0ltbGhkQ0k2TVRVM05EQTJPVGMzTVN3aWFYTnpJam9pWkc5dGIyRndhVjkxYzJWeUlpd2lhblJwSWpvaU56SXlNemc0TURJdE5qQmtaQzAwT1RRd0xUazFZVFF0WVRrMU5EVXpOakJtWldJd0lpd2libUptSWpveE5UYzBNRFk1Tnpjd0xDSnpkV0lpT2lJM056Wm1Zek5sTkMweU1ETmpMVFF6TjJZdFlXSXlOeTA1T1RreE9ERTRNRGN4T0dZaUxDSjBlWEFpT2lKaFkyTmxjM01pZlEuVndFdlB5dU82OUluU1ZveXNXVXFTdUZFbm5PYzN5OEFUTEZiYzMzOTIxMFhVNFpPMFlpNDlXT3EzbG5pdUhqTnYxcTkydzBiZnFjSUplb1BCUDlIa1E.aUREG1yRFH6OU6eD_6CrntIYOoNPRKiewgDIUENBgDs">>},halted => false,host => <<"user-api.domoface.ru">>,method => <<"POST">>,owner => <0.1353.0>,params => #{<<"candidate">> => <<"{\"candidate\":\"candidate:2212263285 1 udp 33562367 3.123.78.125 50166 typ relay raddr 85.26.235.206 rport 20935 generation 0 ufrag ReEI network-cost 999\",\"sdpMid\":\"0\",\"sdpMLineIndex\":0}">>},path_info => [<<"users">>,<<"send_candidate">>],path_params => #{},port => 80,private => #{'Elixir.DomoapiUserWeb.Router' => {[],#{'Elixir.PhoenixSwagger.Plug.SwaggerUI' => []}},guardian_default_claims => #{<<"aud">> => <<"domoapi_user">>,<<"exp">> => 1576488971,<<"iat">> => 1574069771,<<"iss">> => <<"domoapi_user">>,<<"jti">> => <<"72238802-60dd-4940-95a4-a9545360feb0">>,<<"nbf">> => 1574069770,<<"sub">> => <<"776fc3e4-203c-437f-ab27-99918180718f">>,<<"typ">> => <<"access">>},guardian_default_resource => #{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => #{'__cardinality__' => many,'__field__' => devices,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 15,hour => 12,microsecond => {0,0},minute => 39,month => 11,second => 36,year => 2019},password => <<"$2b$12$XlddKF/xtUSibCfUPGIFder8BVD04Qh9qhAIdee/iSdJE48pNnIKe">>,phone_number => <<"89991945767">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<"Azat verni 2 rubl">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 13,year => 2019}},guardian_default_token => <<"eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJkb21vYXBpX3VzZXIiLCJleHAiOjE1NzY0ODg5NzEsImlhdCI6MTU3NDA2OTc3MSwiaXNzIjoiZG9tb2FwaV91c2VyIiwianRpIjoiNzIyMzg4MDItNjBkZC00OTQwLTk1YTQtYTk1NDUzNjBmZWIwIiwibmJmIjoxNTc0MDY5NzcwLCJzdWIiOiI3NzZmYzNlNC0yMDNjLTQzN2YtYWIyNy05OTkxODE4MDcxOGYiLCJ0eXAiOiJhY2Nlc3MifQ.VwEvPyuO69InSVoysWUqSuFEnnOc3y8ATLFbc339210XU4ZO0Yi49WOq3lniuHjNv1q92w0bfqcIJeoPBP9HkQ">>,guardian_error_handler => 'Elixir.DomoapiUserWeb.FallbackController',guardian_module => 'Elixir.DomoapiUser.Guardian',phoenix_action => send_candidate,phoenix_controller => 'Elixir.DomoapiUserWeb.SessionController',phoenix_endpoint => 'Elixir.DomoapiUserWeb.Endpoint',phoenix_format => <<"json">>,phoenix_layout => {'Elixir.DomoapiUserWeb.LayoutView',app},phoenix_pipelines => [api,authorized],phoenix_router => 'Elixir.DomoapiUserWeb.Router',phoenix_view => 'Elixir.DomoapiUserWeb.SessionView',plug_session => #{<<"guardian_default_token">> => <<"eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJkb21vYXBpX3VzZXIiLCJleHAiOjE1NzY0ODg5NzEsImlhdCI6MTU3NDA2OTc3MSwiaXNzIjoiZG9tb2FwaV91c2VyIiwianRpIjoiNzIyMzg4MDItNjBkZC00OTQwLTk1YTQtYTk1NDUzNjBmZWIwIiwibmJmIjoxNTc0MDY5NzcwLCJzdWIiOiI3NzZmYzNlNC0yMDNjLTQzN2YtYWIyNy05OTkxODE4MDcxOGYiLCJ0eXAiOiJhY2Nlc3MifQ.VwEvPyuO69InSVoysWUqSuFEnnOc3y8ATLFbc339210XU4ZO0Yi49WOq3lniuHjNv1q92w0bfqcIJeoPBP9HkQ">>},plug_session_fetch => done},query_params => #{},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{<<"_domoapi_user_key">> => <<"SFMyNTY.g3QAAAABbQAAABZndWFyZGlhbl9kZWZhdWx0X3Rva2VubQAAAYZleUpoYkdjaU9pSklVelV4TWlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaGRXUWlPaUprYjIxdllYQnBYM1Z6WlhJaUxDSmxlSEFpT2pFMU56WTBPRGc1TnpFc0ltbGhkQ0k2TVRVM05EQTJPVGMzTVN3aWFYTnpJam9pWkc5dGIyRndhVjkxYzJWeUlpd2lhblJwSWpvaU56SXlNemc0TURJdE5qQmtaQzAwT1RRd0xUazFZVFF0WVRrMU5EVXpOakJtWldJd0lpd2libUptSWpveE5UYzBNRFk1Tnpjd0xDSnpkV0lpT2lJM056Wm1Zek5sTkMweU1ETmpMVFF6TjJZdFlXSXlOeTA1T1RreE9ERTRNRGN4T0dZaUxDSjBlWEFpT2lKaFkyTmxjM01pZlEuVndFdlB5dU82OUluU1ZveXNXVXFTdUZFbm5PYzN5OEFUTEZiYzMzOTIxMFhVNFpPMFlpNDlXT3EzbG5pdUhqTnYxcTkydzBiZnFjSUplb1BCUDlIa1E.aUREG1yRFH6OU6eD_6CrntIYOoNPRKiewgDIUENBgDs">>},req_headers => [{<<"accept-charset">>,<<"UTF-8">>},{<<"accept-encoding">>,<<"gzip">>},{<<"connection">>,<<"upgrade">>},{<<"content-length">>,<<"230">>},{<<"content-type">>,<<"application/x-www-form-urlencoded; charset=UTF-8">>},{<<"cookie">>,<<"_domoapi_user_key=SFMyNTY.g3QAAAABbQAAABZndWFyZGlhbl9kZWZhdWx0X3Rva2VubQAAAYZleUpoYkdjaU9pSklVelV4TWlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaGRXUWlPaUprYjIxdllYQnBYM1Z6WlhJaUxDSmxlSEFpT2pFMU56WTBPRGc1TnpFc0ltbGhkQ0k2TVRVM05EQTJPVGMzTVN3aWFYTnpJam9pWkc5dGIyRndhVjkxYzJWeUlpd2lhblJwSWpvaU56SXlNemc0TURJdE5qQmtaQzAwT1RRd0xUazFZVFF0WVRrMU5EVXpOakJtWldJd0lpd2libUptSWpveE5UYzBNRFk1Tnpjd0xDSnpkV0lpT2lJM056Wm1Zek5sTkMweU1ETmpMVFF6TjJZdFlXSXlOeTA1T1RreE9ERTRNRGN4T0dZaUxDSjBlWEFpT2lKaFkyTmxjM01pZlEuVndFdlB5dU82OUluU1ZveXNXVXFTdUZFbm5PYzN5OEFUTEZiYzMzOTIxMFhVNFpPMFlpNDlXT3EzbG5pdUhqTnYxcTkydzBiZnFjSUplb1BCUDlIa1E.aUREG1yRFH6OU6eD_6CrntIYOoNPRKiewgDIUENBgDs">>},{<<"host">>,<<"user-api.domoface.ru">>},{<<"user-agent">>,<<"Dalvik/2.1.0 (Linux; U; Android 9; LLD-L31 Build/HONORLLD-L31)">>},{<<"x-forwarded-for">>,<<"85.26.235.206">>},{<<"x-forwarded-host">>,<<"user-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"85.26.235.206">>}],request_path => <<"/users/send_candidate">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>},{<<"x-request-id">>,<<"FdhObIQYtA6xIFYAAAVB">>}],scheme => http,script_name => [],secret_key_base => <<"luzga7DdpB46XmM4h5AYlvAs77NA6uHsptQ4VKt3K4/Qg9aUt+UiPiXsbgXHDiul">>,state => unset,status => nil},nil],[{file,"lib/domoapi_user_web/controllers/fallback_controller.ex"},{line,10}]},{'Elixir.DomoapiUserWeb.SessionController',action,2,[{file,"lib/domoapi_user_web/controllers/session_controller.ex"},{line,1}]},{'Elixir.DomoapiUserWeb.SessionController',phoenix_controller_pipeline,2,[{file,"lib/domoapi_user_web/controllers/session_controller.ex"},{line,1}]},{'Elixir.DomoapiUserWeb.Endpoint',instrument,4,[{file,"lib/domoapi_user_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',1,[{file,"lib/phoenix/router.ex"},{line,275}]},{'Elixir.DomoapiUserWeb.Endpoint',plug_builder_call,2,[{file,"lib/domoapi_user_web/endpoint.ex"},{line,1}]},{'Elixir.DomoapiUserWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.DomoapiUserWeb.Endpoint',call,2,[{file,"lib/domoapi_user_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,33}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.DomoapiUserWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 230,cert => undefined,has_body => true,headers => #{<<"accept-charset">> => <<"UTF-8">>,<<"accept-encoding">> => <<"gzip">>,<<"connection">> => <<"upgrade">>,<<"content-length">> => <<"230">>,<<"content-type">> => <<"application/x-www-form-urlencoded; charset=UTF-8">>,<<"cookie">> => <<"_domoapi_user_key=SFMyNTY.g3QAAAABbQAAABZndWFyZGlhbl9kZWZhdWx0X3Rva2VubQAAAYZleUpoYkdjaU9pSklVelV4TWlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaGRXUWlPaUprYjIxdllYQnBYM1Z6WlhJaUxDSmxlSEFpT2pFMU56WTBPRGc1TnpFc0ltbGhkQ0k2TVRVM05EQTJPVGMzTVN3aWFYTnpJam9pWkc5dGIyRndhVjkxYzJWeUlpd2lhblJwSWpvaU56SXlNemc0TURJdE5qQmtaQzAwT1RRd0xUazFZVFF0WVRrMU5EVXpOakJtWldJd0lpd2libUptSWpveE5UYzBNRFk1Tnpjd0xDSnpkV0lpT2lJM056Wm1Zek5sTkMweU1ETmpMVFF6TjJZdFlXSXlOeTA1T1RreE9ERTRNRGN4T0dZaUxDSjBlWEFpT2lKaFkyTmxjM01pZlEuVndFdlB5dU82OUluU1ZveXNXVXFTdUZFbm5PYzN5OEFUTEZiYzMzOTIxMFhVNFpPMFlpNDlXT3EzbG5pdUhqTnYxcTkydzBiZnFjSUplb1BCUDlIa1E.aUREG1yRFH6OU6eD_6CrntIYOoNPRKiewgDIUENBgDs">>,<<"host">> => <<"user-api.domoface.ru">>,<<"user-agent">> => <<"Dalvik/2.1.0 (Linux; U; Android 9; LLD-L31 Build/HONORLLD-L31)">>,<<"x-forwarded-for">> => <<"85.26.235.206">>,<<"x-forwarded-host">> => <<"user-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"85.26.235.206">>},host => <<"user-api.domoface.ru">>,host_info => undefined,method => <<"POST">>,path => <<"/users/send_candidate">>,path_info => undefined,peer => {{127,0,0,1},59614},pid => <0.1352.0>,port => 80,qs => <<>>,ref => 'Elixir.DomoapiUserWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},9080},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"user-api.domoface.ru">>,method => <<"POST">>,owner => <0.1353.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"users">>,<<"send_candidate">>],path_params => #{},port => 80,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept-charset">>,<<"UTF-8">>},{<<"accept-encoding">>,<<"gzip">>},{<<"connection">>,<<"upgrade">>},{<<"content-length">>,<<"230">>},{<<"content-type">>,<<"application/x-www-form-urlencoded; charset=UTF-8">>},{<<"cookie">>,<<"_domoapi_user_key=SFMyNTY.g3QAAAABbQAAABZndWFyZGlhbl9kZWZhdWx0X3Rva2VubQAAAYZleUpoYkdjaU9pSklVelV4TWlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaGRXUWlPaUprYjIxdllYQnBYM1Z6WlhJaUxDSmxlSEFpT2pFMU56WTBPRGc1TnpFc0ltbGhkQ0k2TVRVM05EQTJPVGMzTVN3aWFYTnpJam9pWkc5dGIyRndhVjkxYzJWeUlpd2lhblJwSWpvaU56SXlNemc0TURJdE5qQmtaQzAwT1RRd0xUazFZVFF0WVRrMU5EVXpOakJtWldJd0lpd2libUptSWpveE5UYzBNRFk1Tnpjd0xDSnpkV0lpT2lJM056Wm1Zek5sTkMweU1ETmpMVFF6TjJZdFlXSXlOeTA1T1RreE9ERTRNRGN4T0dZaUxDSjBlWEFpT2lKaFkyTmxjM01pZlEuVndFdlB5dU82OUluU1ZveXNXVXFTdUZFbm5PYzN5OEFUTEZiYzMzOTIxMFhVNFpPMFlpNDlXT3EzbG5pdUhqTnYxcTkydzBiZnFjSUplb1BCUDlIa1E.aUREG1yRFH6OU6eD_6CrntIYOoNPRKiewgDIUENBgDs">>},{<<"host">>,<<"user-api.domoface.ru">>},{<<"user-agent">>,<<"Dalvik/2.1.0 (Linux; U; Android 9; LLD-L31 Build/HONORLLD-L31)">>},{<<"x-forwarded-for">>,<<"85.26.235.206">>},{<<"x-forwarded-host">>,<<"user-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"85.26.235.206">>}],request_path => <<"/users/send_candidate">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}} and stacktrace [{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]
2019-11-18 16:24:57 =CRASH REPORT====
  crasher:
    initial call: cowboy_stream_h:request_process/3
    pid: <0.1351.0>
    registered_name: []
    exception exit: {{{{#{'__exception__' => true,'__struct__' => 'Elixir.FunctionClauseError',args => nil,arity => 2,clauses => nil,function => call,kind => nil,module => 'Elixir.DomoapiUserWeb.FallbackController'},[{'Elixir.DomoapiUserWeb.FallbackController',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 14,cert => undefined,has_body => true,has_read_body => true,headers => #{<<"accept-charset">> => <<"UTF-8">>,<<"accept-encoding">> => <<"gzip">>,<<"connection">> => <<"upgrade">>,<<"content-length">> => <<"14">>,<<"content-type">> => <<"application/x-www-form-urlencoded; charset=UTF-8">>,<<"cookie">> => <<"_domoapi_user_key=SFMyNTY.g3QAAAABbQAAABZndWFyZGlhbl9kZWZhdWx0X3Rva2VubQAAAYZleUpoYkdjaU9pSklVelV4TWlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaGRXUWlPaUprYjIxdllYQnBYM1Z6WlhJaUxDSmxlSEFpT2pFMU56WTBPRGc1TnpFc0ltbGhkQ0k2TVRVM05EQTJPVGMzTVN3aWFYTnpJam9pWkc5dGIyRndhVjkxYzJWeUlpd2lhblJwSWpvaU56SXlNemc0TURJdE5qQmtaQzAwT1RRd0xUazFZVFF0WVRrMU5EVXpOakJtWldJd0lpd2libUptSWpveE5UYzBNRFk1Tnpjd0xDSnpkV0lpT2lJM056Wm1Zek5sTkMweU1ETmpMVFF6TjJZdFlXSXlOeTA1T1RreE9ERTRNRGN4T0dZaUxDSjBlWEFpT2lKaFkyTmxjM01pZlEuVndFdlB5dU82OUluU1ZveXNXVXFTdUZFbm5PYzN5OEFUTEZiYzMzOTIxMFhVNFpPMFlpNDlXT3EzbG5pdUhqTnYxcTkydzBiZnFjSUplb1BCUDlIa1E.aUREG1yRFH6OU6eD_6CrntIYOoNPRKiewgDIUENBgDs">>,<<"host">> => <<"user-api.domoface.ru">>,<<"user-agent">> => <<"Dalvik/2.1.0 (Linux; U; Android 9; LLD-L31 Build/HONORLLD-L31)">>,<<"x-forwarded-for">> => <<"85.26.235.206">>,<<"x-forwarded-host">> => <<"user-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"85.26.235.206">>},host => <<"user-api.domoface.ru">>,host_info => undefined,method => <<"POST">>,path => <<"/users/send_candidate">>,path_info => undefined,peer => {{127,0,0,1},59612},pid => <0.1350.0>,port => 80,qs => <<>>,ref => 'Elixir.DomoapiUserWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},9080},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [#Fun<Elixir.Plug.Session.0.35161479>,#Fun<Elixir.Plug.Telemetry.0.66442134>,#Fun<Elixir.Phoenix.LiveReloader.0.121962774>],body_params => #{<<"candidate">> => <<"null">>},cookies => #{<<"_domoapi_user_key">> => <<"SFMyNTY.g3QAAAABbQAAABZndWFyZGlhbl9kZWZhdWx0X3Rva2VubQAAAYZleUpoYkdjaU9pSklVelV4TWlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaGRXUWlPaUprYjIxdllYQnBYM1Z6WlhJaUxDSmxlSEFpT2pFMU56WTBPRGc1TnpFc0ltbGhkQ0k2TVRVM05EQTJPVGMzTVN3aWFYTnpJam9pWkc5dGIyRndhVjkxYzJWeUlpd2lhblJwSWpvaU56SXlNemc0TURJdE5qQmtaQzAwT1RRd0xUazFZVFF0WVRrMU5EVXpOakJtWldJd0lpd2libUptSWpveE5UYzBNRFk1Tnpjd0xDSnpkV0lpT2lJM056Wm1Zek5sTkMweU1ETmpMVFF6TjJZdFlXSXlOeTA1T1RreE9ERTRNRGN4T0dZaUxDSjBlWEFpT2lKaFkyTmxjM01pZlEuVndFdlB5dU82OUluU1ZveXNXVXFTdUZFbm5PYzN5OEFUTEZiYzMzOTIxMFhVNFpPMFlpNDlXT3EzbG5pdUhqTnYxcTkydzBiZnFjSUplb1BCUDlIa1E.aUREG1yRFH6OU6eD_6CrntIYOoNPRKiewgDIUENBgDs">>},halted => false,host => <<"user-api.domoface.ru">>,method => <<"POST">>,owner => <0.1351.0>,params => #{<<"candidate">> => <<"null">>},path_info => [<<"users">>,<<"send_candidate">>],path_params => #{},port => 80,private => #{'Elixir.DomoapiUserWeb.Router' => {[],#{'Elixir.PhoenixSwagger.Plug.SwaggerUI' => []}},guardian_default_claims => #{<<"aud">> => <<"domoapi_user">>,<<"exp">> => 1576488971,<<"iat">> => 1574069771,<<"iss">> => <<"domoapi_user">>,<<"jti">> => <<"72238802-60dd-4940-95a4-a9545360feb0">>,<<"nbf">> => 1574069770,<<"sub">> => <<"776fc3e4-203c-437f-ab27-99918180718f">>,<<"typ">> => <<"access">>},guardian_default_resource => #{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => #{'__cardinality__' => many,'__field__' => devices,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 15,hour => 12,microsecond => {0,0},minute => 39,month => 11,second => 36,year => 2019},password => <<"$2b$12$XlddKF/xtUSibCfUPGIFder8BVD04Qh9qhAIdee/iSdJE48pNnIKe">>,phone_number => <<"89991945767">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<"Azat verni 2 rubl">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 13,year => 2019}},guardian_default_token => <<"eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJkb21vYXBpX3VzZXIiLCJleHAiOjE1NzY0ODg5NzEsImlhdCI6MTU3NDA2OTc3MSwiaXNzIjoiZG9tb2FwaV91c2VyIiwianRpIjoiNzIyMzg4MDItNjBkZC00OTQwLTk1YTQtYTk1NDUzNjBmZWIwIiwibmJmIjoxNTc0MDY5NzcwLCJzdWIiOiI3NzZmYzNlNC0yMDNjLTQzN2YtYWIyNy05OTkxODE4MDcxOGYiLCJ0eXAiOiJhY2Nlc3MifQ.VwEvPyuO69InSVoysWUqSuFEnnOc3y8ATLFbc339210XU4ZO0Yi49WOq3lniuHjNv1q92w0bfqcIJeoPBP9HkQ">>,guardian_error_handler => 'Elixir.DomoapiUserWeb.FallbackController',guardian_module => 'Elixir.DomoapiUser.Guardian',phoenix_action => send_candidate,phoenix_controller => 'Elixir.DomoapiUserWeb.SessionController',phoenix_endpoint => 'Elixir.DomoapiUserWeb.Endpoint',phoenix_format => <<"json">>,phoenix_layout => {'Elixir.DomoapiUserWeb.LayoutView',app},phoenix_pipelines => [api,authorized],phoenix_router => 'Elixir.DomoapiUserWeb.Router',phoenix_view => 'Elixir.DomoapiUserWeb.SessionView',plug_session => #{<<"guardian_default_token">> => <<"eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJkb21vYXBpX3VzZXIiLCJleHAiOjE1NzY0ODg5NzEsImlhdCI6MTU3NDA2OTc3MSwiaXNzIjoiZG9tb2FwaV91c2VyIiwianRpIjoiNzIyMzg4MDItNjBkZC00OTQwLTk1YTQtYTk1NDUzNjBmZWIwIiwibmJmIjoxNTc0MDY5NzcwLCJzdWIiOiI3NzZmYzNlNC0yMDNjLTQzN2YtYWIyNy05OTkxODE4MDcxOGYiLCJ0eXAiOiJhY2Nlc3MifQ.VwEvPyuO69InSVoysWUqSuFEnnOc3y8ATLFbc339210XU4ZO0Yi49WOq3lniuHjNv1q92w0bfqcIJeoPBP9HkQ">>},plug_session_fetch => done},query_params => #{},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{<<"_domoapi_user_key">> => <<"SFMyNTY.g3QAAAABbQAAABZndWFyZGlhbl9kZWZhdWx0X3Rva2VubQAAAYZleUpoYkdjaU9pSklVelV4TWlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaGRXUWlPaUprYjIxdllYQnBYM1Z6WlhJaUxDSmxlSEFpT2pFMU56WTBPRGc1TnpFc0ltbGhkQ0k2TVRVM05EQTJPVGMzTVN3aWFYTnpJam9pWkc5dGIyRndhVjkxYzJWeUlpd2lhblJwSWpvaU56SXlNemc0TURJdE5qQmtaQzAwT1RRd0xUazFZVFF0WVRrMU5EVXpOakJtWldJd0lpd2libUptSWpveE5UYzBNRFk1Tnpjd0xDSnpkV0lpT2lJM056Wm1Zek5sTkMweU1ETmpMVFF6TjJZdFlXSXlOeTA1T1RreE9ERTRNRGN4T0dZaUxDSjBlWEFpT2lKaFkyTmxjM01pZlEuVndFdlB5dU82OUluU1ZveXNXVXFTdUZFbm5PYzN5OEFUTEZiYzMzOTIxMFhVNFpPMFlpNDlXT3EzbG5pdUhqTnYxcTkydzBiZnFjSUplb1BCUDlIa1E.aUREG1yRFH6OU6eD_6CrntIYOoNPRKiewgDIUENBgDs">>},req_headers => [{<<"accept-charset">>,<<"UTF-8">>},{<<"accept-encoding">>,<<"gzip">>},{<<"connection">>,<<"upgrade">>},{<<"content-length">>,<<"14">>},{<<"content-type">>,<<"application/x-www-form-urlencoded; charset=UTF-8">>},{<<"cookie">>,<<"_domoapi_user_key=SFMyNTY.g3QAAAABbQAAABZndWFyZGlhbl9kZWZhdWx0X3Rva2VubQAAAYZleUpoYkdjaU9pSklVelV4TWlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaGRXUWlPaUprYjIxdllYQnBYM1Z6WlhJaUxDSmxlSEFpT2pFMU56WTBPRGc1TnpFc0ltbGhkQ0k2TVRVM05EQTJPVGMzTVN3aWFYTnpJam9pWkc5dGIyRndhVjkxYzJWeUlpd2lhblJwSWpvaU56SXlNemc0TURJdE5qQmtaQzAwT1RRd0xUazFZVFF0WVRrMU5EVXpOakJtWldJd0lpd2libUptSWpveE5UYzBNRFk1Tnpjd0xDSnpkV0lpT2lJM056Wm1Zek5sTkMweU1ETmpMVFF6TjJZdFlXSXlOeTA1T1RreE9ERTRNRGN4T0dZaUxDSjBlWEFpT2lKaFkyTmxjM01pZlEuVndFdlB5dU82OUluU1ZveXNXVXFTdUZFbm5PYzN5OEFUTEZiYzMzOTIxMFhVNFpPMFlpNDlXT3EzbG5pdUhqTnYxcTkydzBiZnFjSUplb1BCUDlIa1E.aUREG1yRFH6OU6eD_6CrntIYOoNPRKiewgDIUENBgDs">>},{<<"host">>,<<"user-api.domoface.ru">>},{<<"user-agent">>,<<"Dalvik/2.1.0 (Linux; U; Android 9; LLD-L31 Build/HONORLLD-L31)">>},{<<"x-forwarded-for">>,<<"85.26.235.206">>},{<<"x-forwarded-host">>,<<"user-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"85.26.235.206">>}],request_path => <<"/users/send_candidate">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>},{<<"x-request-id">>,<<"FdhObIQYswlsoy8AAAsj">>}],scheme => http,script_name => [],secret_key_base => <<"luzga7DdpB46XmM4h5AYlvAs77NA6uHsptQ4VKt3K4/Qg9aUt+UiPiXsbgXHDiul">>,state => unset,status => nil},nil],[{file,"lib/domoapi_user_web/controllers/fallback_controller.ex"},{line,10}]},{'Elixir.DomoapiUserWeb.SessionController',action,2,[{file,"lib/domoapi_user_web/controllers/session_controller.ex"},{line,1}]},{'Elixir.DomoapiUserWeb.SessionController',phoenix_controller_pipeline,2,[{file,"lib/domoapi_user_web/controllers/session_controller.ex"},{line,1}]},{'Elixir.DomoapiUserWeb.Endpoint',instrument,4,[{file,"lib/domoapi_user_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',1,[{file,"lib/phoenix/router.ex"},{line,275}]},{'Elixir.DomoapiUserWeb.Endpoint',plug_builder_call,2,[{file,"lib/domoapi_user_web/endpoint.ex"},{line,1}]},{'Elixir.DomoapiUserWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.DomoapiUserWeb.Endpoint',call,2,[{file,"lib/domoapi_user_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,33}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.DomoapiUserWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 14,cert => undefined,has_body => true,headers => #{<<"accept-charset">> => <<"UTF-8">>,<<"accept-encoding">> => <<"gzip">>,<<"connection">> => <<"upgrade">>,<<"content-length">> => <<"14">>,<<"content-type">> => <<"application/x-www-form-urlencoded; charset=UTF-8">>,<<"cookie">> => <<"_domoapi_user_key=SFMyNTY.g3QAAAABbQAAABZndWFyZGlhbl9kZWZhdWx0X3Rva2VubQAAAYZleUpoYkdjaU9pSklVelV4TWlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaGRXUWlPaUprYjIxdllYQnBYM1Z6WlhJaUxDSmxlSEFpT2pFMU56WTBPRGc1TnpFc0ltbGhkQ0k2TVRVM05EQTJPVGMzTVN3aWFYTnpJam9pWkc5dGIyRndhVjkxYzJWeUlpd2lhblJwSWpvaU56SXlNemc0TURJdE5qQmtaQzAwT1RRd0xUazFZVFF0WVRrMU5EVXpOakJtWldJd0lpd2libUptSWpveE5UYzBNRFk1Tnpjd0xDSnpkV0lpT2lJM056Wm1Zek5sTkMweU1ETmpMVFF6TjJZdFlXSXlOeTA1T1RreE9ERTRNRGN4T0dZaUxDSjBlWEFpT2lKaFkyTmxjM01pZlEuVndFdlB5dU82OUluU1ZveXNXVXFTdUZFbm5PYzN5OEFUTEZiYzMzOTIxMFhVNFpPMFlpNDlXT3EzbG5pdUhqTnYxcTkydzBiZnFjSUplb1BCUDlIa1E.aUREG1yRFH6OU6eD_6CrntIYOoNPRKiewgDIUENBgDs">>,<<"host">> => <<"user-api.domoface.ru">>,<<"user-agent">> => <<"Dalvik/2.1.0 (Linux; U; Android 9; LLD-L31 Build/HONORLLD-L31)">>,<<"x-forwarded-for">> => <<"85.26.235.206">>,<<"x-forwarded-host">> => <<"user-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"85.26.235.206">>},host => <<"user-api.domoface.ru">>,host_info => undefined,method => <<"POST">>,path => <<"/users/send_candidate">>,path_info => undefined,peer => {{127,0,0,1},59612},pid => <0.1350.0>,port => 80,qs => <<>>,ref => 'Elixir.DomoapiUserWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},9080},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"user-api.domoface.ru">>,method => <<"POST">>,owner => <0.1351.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"users">>,<<"send_candidate">>],path_params => #{},port => 80,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept-charset">>,<<"UTF-8">>},{<<"accept-encoding">>,<<"gzip">>},{<<"connection">>,<<"upgrade">>},{<<"content-length">>,<<"14">>},{<<"content-type">>,<<"application/x-www-form-urlencoded; charset=UTF-8">>},{<<"cookie">>,<<"_domoapi_user_key=SFMyNTY.g3QAAAABbQAAABZndWFyZGlhbl9kZWZhdWx0X3Rva2VubQAAAYZleUpoYkdjaU9pSklVelV4TWlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaGRXUWlPaUprYjIxdllYQnBYM1Z6WlhJaUxDSmxlSEFpT2pFMU56WTBPRGc1TnpFc0ltbGhkQ0k2TVRVM05EQTJPVGMzTVN3aWFYTnpJam9pWkc5dGIyRndhVjkxYzJWeUlpd2lhblJwSWpvaU56SXlNemc0TURJdE5qQmtaQzAwT1RRd0xUazFZVFF0WVRrMU5EVXpOakJtWldJd0lpd2libUptSWpveE5UYzBNRFk1Tnpjd0xDSnpkV0lpT2lJM056Wm1Zek5sTkMweU1ETmpMVFF6TjJZdFlXSXlOeTA1T1RreE9ERTRNRGN4T0dZaUxDSjBlWEFpT2lKaFkyTmxjM01pZlEuVndFdlB5dU82OUluU1ZveXNXVXFTdUZFbm5PYzN5OEFUTEZiYzMzOTIxMFhVNFpPMFlpNDlXT3EzbG5pdUhqTnYxcTkydzBiZnFjSUplb1BCUDlIa1E.aUREG1yRFH6OU6eD_6CrntIYOoNPRKiewgDIUENBgDs">>},{<<"host">>,<<"user-api.domoface.ru">>},{<<"user-agent">>,<<"Dalvik/2.1.0 (Linux; U; Android 9; LLD-L31 Build/HONORLLD-L31)">>},{<<"x-forwarded-for">>,<<"85.26.235.206">>},{<<"x-forwarded-host">>,<<"user-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"85.26.235.206">>}],request_path => <<"/users/send_candidate">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}
    ancestors: [<0.1350.0>,<0.527.0>,<0.526.0>,'Elixir.DomoapiUserWeb.Endpoint','Elixir.DomoapiUser.Supervisor',<0.505.0>]
    message_queue_len: 0
    messages: []
    links: [<0.1350.0>]
    dictionary: [{logger_metadata,{true,[{request_id,<<"FdhObIQYswlsoy8AAAsj">>}]}}]
    trap_exit: false
    status: running
    heap_size: 6772
    stack_size: 27
    reductions: 170100
  neighbours:
2019-11-18 16:24:57 =ERROR REPORT====
Ranch listener 'Elixir.DomoapiUserWeb.Endpoint.HTTP', connection process <0.1350.0>, stream 1 had its request process <0.1351.0> exit with reason {{#{'__exception__' => true,'__struct__' => 'Elixir.FunctionClauseError',args => nil,arity => 2,clauses => nil,function => call,kind => nil,module => 'Elixir.DomoapiUserWeb.FallbackController'},[{'Elixir.DomoapiUserWeb.FallbackController',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 14,cert => undefined,has_body => true,has_read_body => true,headers => #{<<"accept-charset">> => <<"UTF-8">>,<<"accept-encoding">> => <<"gzip">>,<<"connection">> => <<"upgrade">>,<<"content-length">> => <<"14">>,<<"content-type">> => <<"application/x-www-form-urlencoded; charset=UTF-8">>,<<"cookie">> => <<"_domoapi_user_key=SFMyNTY.g3QAAAABbQAAABZndWFyZGlhbl9kZWZhdWx0X3Rva2VubQAAAYZleUpoYkdjaU9pSklVelV4TWlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaGRXUWlPaUprYjIxdllYQnBYM1Z6WlhJaUxDSmxlSEFpT2pFMU56WTBPRGc1TnpFc0ltbGhkQ0k2TVRVM05EQTJPVGMzTVN3aWFYTnpJam9pWkc5dGIyRndhVjkxYzJWeUlpd2lhblJwSWpvaU56SXlNemc0TURJdE5qQmtaQzAwT1RRd0xUazFZVFF0WVRrMU5EVXpOakJtWldJd0lpd2libUptSWpveE5UYzBNRFk1Tnpjd0xDSnpkV0lpT2lJM056Wm1Zek5sTkMweU1ETmpMVFF6TjJZdFlXSXlOeTA1T1RreE9ERTRNRGN4T0dZaUxDSjBlWEFpT2lKaFkyTmxjM01pZlEuVndFdlB5dU82OUluU1ZveXNXVXFTdUZFbm5PYzN5OEFUTEZiYzMzOTIxMFhVNFpPMFlpNDlXT3EzbG5pdUhqTnYxcTkydzBiZnFjSUplb1BCUDlIa1E.aUREG1yRFH6OU6eD_6CrntIYOoNPRKiewgDIUENBgDs">>,<<"host">> => <<"user-api.domoface.ru">>,<<"user-agent">> => <<"Dalvik/2.1.0 (Linux; U; Android 9; LLD-L31 Build/HONORLLD-L31)">>,<<"x-forwarded-for">> => <<"85.26.235.206">>,<<"x-forwarded-host">> => <<"user-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"85.26.235.206">>},host => <<"user-api.domoface.ru">>,host_info => undefined,method => <<"POST">>,path => <<"/users/send_candidate">>,path_info => undefined,peer => {{127,0,0,1},59612},pid => <0.1350.0>,port => 80,qs => <<>>,ref => 'Elixir.DomoapiUserWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},9080},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [#Fun<Elixir.Plug.Session.0.35161479>,#Fun<Elixir.Plug.Telemetry.0.66442134>,#Fun<Elixir.Phoenix.LiveReloader.0.121962774>],body_params => #{<<"candidate">> => <<"null">>},cookies => #{<<"_domoapi_user_key">> => <<"SFMyNTY.g3QAAAABbQAAABZndWFyZGlhbl9kZWZhdWx0X3Rva2VubQAAAYZleUpoYkdjaU9pSklVelV4TWlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaGRXUWlPaUprYjIxdllYQnBYM1Z6WlhJaUxDSmxlSEFpT2pFMU56WTBPRGc1TnpFc0ltbGhkQ0k2TVRVM05EQTJPVGMzTVN3aWFYTnpJam9pWkc5dGIyRndhVjkxYzJWeUlpd2lhblJwSWpvaU56SXlNemc0TURJdE5qQmtaQzAwT1RRd0xUazFZVFF0WVRrMU5EVXpOakJtWldJd0lpd2libUptSWpveE5UYzBNRFk1Tnpjd0xDSnpkV0lpT2lJM056Wm1Zek5sTkMweU1ETmpMVFF6TjJZdFlXSXlOeTA1T1RreE9ERTRNRGN4T0dZaUxDSjBlWEFpT2lKaFkyTmxjM01pZlEuVndFdlB5dU82OUluU1ZveXNXVXFTdUZFbm5PYzN5OEFUTEZiYzMzOTIxMFhVNFpPMFlpNDlXT3EzbG5pdUhqTnYxcTkydzBiZnFjSUplb1BCUDlIa1E.aUREG1yRFH6OU6eD_6CrntIYOoNPRKiewgDIUENBgDs">>},halted => false,host => <<"user-api.domoface.ru">>,method => <<"POST">>,owner => <0.1351.0>,params => #{<<"candidate">> => <<"null">>},path_info => [<<"users">>,<<"send_candidate">>],path_params => #{},port => 80,private => #{'Elixir.DomoapiUserWeb.Router' => {[],#{'Elixir.PhoenixSwagger.Plug.SwaggerUI' => []}},guardian_default_claims => #{<<"aud">> => <<"domoapi_user">>,<<"exp">> => 1576488971,<<"iat">> => 1574069771,<<"iss">> => <<"domoapi_user">>,<<"jti">> => <<"72238802-60dd-4940-95a4-a9545360feb0">>,<<"nbf">> => 1574069770,<<"sub">> => <<"776fc3e4-203c-437f-ab27-99918180718f">>,<<"typ">> => <<"access">>},guardian_default_resource => #{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => #{'__cardinality__' => many,'__field__' => devices,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 15,hour => 12,microsecond => {0,0},minute => 39,month => 11,second => 36,year => 2019},password => <<"$2b$12$XlddKF/xtUSibCfUPGIFder8BVD04Qh9qhAIdee/iSdJE48pNnIKe">>,phone_number => <<"89991945767">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<"Azat verni 2 rubl">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 13,year => 2019}},guardian_default_token => <<"eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJkb21vYXBpX3VzZXIiLCJleHAiOjE1NzY0ODg5NzEsImlhdCI6MTU3NDA2OTc3MSwiaXNzIjoiZG9tb2FwaV91c2VyIiwianRpIjoiNzIyMzg4MDItNjBkZC00OTQwLTk1YTQtYTk1NDUzNjBmZWIwIiwibmJmIjoxNTc0MDY5NzcwLCJzdWIiOiI3NzZmYzNlNC0yMDNjLTQzN2YtYWIyNy05OTkxODE4MDcxOGYiLCJ0eXAiOiJhY2Nlc3MifQ.VwEvPyuO69InSVoysWUqSuFEnnOc3y8ATLFbc339210XU4ZO0Yi49WOq3lniuHjNv1q92w0bfqcIJeoPBP9HkQ">>,guardian_error_handler => 'Elixir.DomoapiUserWeb.FallbackController',guardian_module => 'Elixir.DomoapiUser.Guardian',phoenix_action => send_candidate,phoenix_controller => 'Elixir.DomoapiUserWeb.SessionController',phoenix_endpoint => 'Elixir.DomoapiUserWeb.Endpoint',phoenix_format => <<"json">>,phoenix_layout => {'Elixir.DomoapiUserWeb.LayoutView',app},phoenix_pipelines => [api,authorized],phoenix_router => 'Elixir.DomoapiUserWeb.Router',phoenix_view => 'Elixir.DomoapiUserWeb.SessionView',plug_session => #{<<"guardian_default_token">> => <<"eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJkb21vYXBpX3VzZXIiLCJleHAiOjE1NzY0ODg5NzEsImlhdCI6MTU3NDA2OTc3MSwiaXNzIjoiZG9tb2FwaV91c2VyIiwianRpIjoiNzIyMzg4MDItNjBkZC00OTQwLTk1YTQtYTk1NDUzNjBmZWIwIiwibmJmIjoxNTc0MDY5NzcwLCJzdWIiOiI3NzZmYzNlNC0yMDNjLTQzN2YtYWIyNy05OTkxODE4MDcxOGYiLCJ0eXAiOiJhY2Nlc3MifQ.VwEvPyuO69InSVoysWUqSuFEnnOc3y8ATLFbc339210XU4ZO0Yi49WOq3lniuHjNv1q92w0bfqcIJeoPBP9HkQ">>},plug_session_fetch => done},query_params => #{},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{<<"_domoapi_user_key">> => <<"SFMyNTY.g3QAAAABbQAAABZndWFyZGlhbl9kZWZhdWx0X3Rva2VubQAAAYZleUpoYkdjaU9pSklVelV4TWlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaGRXUWlPaUprYjIxdllYQnBYM1Z6WlhJaUxDSmxlSEFpT2pFMU56WTBPRGc1TnpFc0ltbGhkQ0k2TVRVM05EQTJPVGMzTVN3aWFYTnpJam9pWkc5dGIyRndhVjkxYzJWeUlpd2lhblJwSWpvaU56SXlNemc0TURJdE5qQmtaQzAwT1RRd0xUazFZVFF0WVRrMU5EVXpOakJtWldJd0lpd2libUptSWpveE5UYzBNRFk1Tnpjd0xDSnpkV0lpT2lJM056Wm1Zek5sTkMweU1ETmpMVFF6TjJZdFlXSXlOeTA1T1RreE9ERTRNRGN4T0dZaUxDSjBlWEFpT2lKaFkyTmxjM01pZlEuVndFdlB5dU82OUluU1ZveXNXVXFTdUZFbm5PYzN5OEFUTEZiYzMzOTIxMFhVNFpPMFlpNDlXT3EzbG5pdUhqTnYxcTkydzBiZnFjSUplb1BCUDlIa1E.aUREG1yRFH6OU6eD_6CrntIYOoNPRKiewgDIUENBgDs">>},req_headers => [{<<"accept-charset">>,<<"UTF-8">>},{<<"accept-encoding">>,<<"gzip">>},{<<"connection">>,<<"upgrade">>},{<<"content-length">>,<<"14">>},{<<"content-type">>,<<"application/x-www-form-urlencoded; charset=UTF-8">>},{<<"cookie">>,<<"_domoapi_user_key=SFMyNTY.g3QAAAABbQAAABZndWFyZGlhbl9kZWZhdWx0X3Rva2VubQAAAYZleUpoYkdjaU9pSklVelV4TWlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaGRXUWlPaUprYjIxdllYQnBYM1Z6WlhJaUxDSmxlSEFpT2pFMU56WTBPRGc1TnpFc0ltbGhkQ0k2TVRVM05EQTJPVGMzTVN3aWFYTnpJam9pWkc5dGIyRndhVjkxYzJWeUlpd2lhblJwSWpvaU56SXlNemc0TURJdE5qQmtaQzAwT1RRd0xUazFZVFF0WVRrMU5EVXpOakJtWldJd0lpd2libUptSWpveE5UYzBNRFk1Tnpjd0xDSnpkV0lpT2lJM056Wm1Zek5sTkMweU1ETmpMVFF6TjJZdFlXSXlOeTA1T1RreE9ERTRNRGN4T0dZaUxDSjBlWEFpT2lKaFkyTmxjM01pZlEuVndFdlB5dU82OUluU1ZveXNXVXFTdUZFbm5PYzN5OEFUTEZiYzMzOTIxMFhVNFpPMFlpNDlXT3EzbG5pdUhqTnYxcTkydzBiZnFjSUplb1BCUDlIa1E.aUREG1yRFH6OU6eD_6CrntIYOoNPRKiewgDIUENBgDs">>},{<<"host">>,<<"user-api.domoface.ru">>},{<<"user-agent">>,<<"Dalvik/2.1.0 (Linux; U; Android 9; LLD-L31 Build/HONORLLD-L31)">>},{<<"x-forwarded-for">>,<<"85.26.235.206">>},{<<"x-forwarded-host">>,<<"user-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"85.26.235.206">>}],request_path => <<"/users/send_candidate">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>},{<<"x-request-id">>,<<"FdhObIQYswlsoy8AAAsj">>}],scheme => http,script_name => [],secret_key_base => <<"luzga7DdpB46XmM4h5AYlvAs77NA6uHsptQ4VKt3K4/Qg9aUt+UiPiXsbgXHDiul">>,state => unset,status => nil},nil],[{file,"lib/domoapi_user_web/controllers/fallback_controller.ex"},{line,10}]},{'Elixir.DomoapiUserWeb.SessionController',action,2,[{file,"lib/domoapi_user_web/controllers/session_controller.ex"},{line,1}]},{'Elixir.DomoapiUserWeb.SessionController',phoenix_controller_pipeline,2,[{file,"lib/domoapi_user_web/controllers/session_controller.ex"},{line,1}]},{'Elixir.DomoapiUserWeb.Endpoint',instrument,4,[{file,"lib/domoapi_user_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',1,[{file,"lib/phoenix/router.ex"},{line,275}]},{'Elixir.DomoapiUserWeb.Endpoint',plug_builder_call,2,[{file,"lib/domoapi_user_web/endpoint.ex"},{line,1}]},{'Elixir.DomoapiUserWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.DomoapiUserWeb.Endpoint',call,2,[{file,"lib/domoapi_user_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,33}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.DomoapiUserWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 14,cert => undefined,has_body => true,headers => #{<<"accept-charset">> => <<"UTF-8">>,<<"accept-encoding">> => <<"gzip">>,<<"connection">> => <<"upgrade">>,<<"content-length">> => <<"14">>,<<"content-type">> => <<"application/x-www-form-urlencoded; charset=UTF-8">>,<<"cookie">> => <<"_domoapi_user_key=SFMyNTY.g3QAAAABbQAAABZndWFyZGlhbl9kZWZhdWx0X3Rva2VubQAAAYZleUpoYkdjaU9pSklVelV4TWlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaGRXUWlPaUprYjIxdllYQnBYM1Z6WlhJaUxDSmxlSEFpT2pFMU56WTBPRGc1TnpFc0ltbGhkQ0k2TVRVM05EQTJPVGMzTVN3aWFYTnpJam9pWkc5dGIyRndhVjkxYzJWeUlpd2lhblJwSWpvaU56SXlNemc0TURJdE5qQmtaQzAwT1RRd0xUazFZVFF0WVRrMU5EVXpOakJtWldJd0lpd2libUptSWpveE5UYzBNRFk1Tnpjd0xDSnpkV0lpT2lJM056Wm1Zek5sTkMweU1ETmpMVFF6TjJZdFlXSXlOeTA1T1RreE9ERTRNRGN4T0dZaUxDSjBlWEFpT2lKaFkyTmxjM01pZlEuVndFdlB5dU82OUluU1ZveXNXVXFTdUZFbm5PYzN5OEFUTEZiYzMzOTIxMFhVNFpPMFlpNDlXT3EzbG5pdUhqTnYxcTkydzBiZnFjSUplb1BCUDlIa1E.aUREG1yRFH6OU6eD_6CrntIYOoNPRKiewgDIUENBgDs">>,<<"host">> => <<"user-api.domoface.ru">>,<<"user-agent">> => <<"Dalvik/2.1.0 (Linux; U; Android 9; LLD-L31 Build/HONORLLD-L31)">>,<<"x-forwarded-for">> => <<"85.26.235.206">>,<<"x-forwarded-host">> => <<"user-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"85.26.235.206">>},host => <<"user-api.domoface.ru">>,host_info => undefined,method => <<"POST">>,path => <<"/users/send_candidate">>,path_info => undefined,peer => {{127,0,0,1},59612},pid => <0.1350.0>,port => 80,qs => <<>>,ref => 'Elixir.DomoapiUserWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},9080},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"user-api.domoface.ru">>,method => <<"POST">>,owner => <0.1351.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"users">>,<<"send_candidate">>],path_params => #{},port => 80,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept-charset">>,<<"UTF-8">>},{<<"accept-encoding">>,<<"gzip">>},{<<"connection">>,<<"upgrade">>},{<<"content-length">>,<<"14">>},{<<"content-type">>,<<"application/x-www-form-urlencoded; charset=UTF-8">>},{<<"cookie">>,<<"_domoapi_user_key=SFMyNTY.g3QAAAABbQAAABZndWFyZGlhbl9kZWZhdWx0X3Rva2VubQAAAYZleUpoYkdjaU9pSklVelV4TWlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaGRXUWlPaUprYjIxdllYQnBYM1Z6WlhJaUxDSmxlSEFpT2pFMU56WTBPRGc1TnpFc0ltbGhkQ0k2TVRVM05EQTJPVGMzTVN3aWFYTnpJam9pWkc5dGIyRndhVjkxYzJWeUlpd2lhblJwSWpvaU56SXlNemc0TURJdE5qQmtaQzAwT1RRd0xUazFZVFF0WVRrMU5EVXpOakJtWldJd0lpd2libUptSWpveE5UYzBNRFk1Tnpjd0xDSnpkV0lpT2lJM056Wm1Zek5sTkMweU1ETmpMVFF6TjJZdFlXSXlOeTA1T1RreE9ERTRNRGN4T0dZaUxDSjBlWEFpT2lKaFkyTmxjM01pZlEuVndFdlB5dU82OUluU1ZveXNXVXFTdUZFbm5PYzN5OEFUTEZiYzMzOTIxMFhVNFpPMFlpNDlXT3EzbG5pdUhqTnYxcTkydzBiZnFjSUplb1BCUDlIa1E.aUREG1yRFH6OU6eD_6CrntIYOoNPRKiewgDIUENBgDs">>},{<<"host">>,<<"user-api.domoface.ru">>},{<<"user-agent">>,<<"Dalvik/2.1.0 (Linux; U; Android 9; LLD-L31 Build/HONORLLD-L31)">>},{<<"x-forwarded-for">>,<<"85.26.235.206">>},{<<"x-forwarded-host">>,<<"user-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"85.26.235.206">>}],request_path => <<"/users/send_candidate">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}} and stacktrace [{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]
2019-11-18 16:26:46 =CRASH REPORT====
  crasher:
    initial call: cowboy_stream_h:request_process/3
    pid: <0.1397.0>
    registered_name: []
    exception exit: {{{{#{'__exception__' => true,'__struct__' => 'Elixir.FunctionClauseError',args => nil,arity => 2,clauses => nil,function => call,kind => nil,module => 'Elixir.DomoapiUserWeb.FallbackController'},[{'Elixir.DomoapiUserWeb.FallbackController',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 199,cert => undefined,has_body => true,has_read_body => true,headers => #{<<"accept-charset">> => <<"UTF-8">>,<<"accept-encoding">> => <<"gzip">>,<<"connection">> => <<"upgrade">>,<<"content-length">> => <<"199">>,<<"content-type">> => <<"application/x-www-form-urlencoded; charset=UTF-8">>,<<"cookie">> => <<"_domoapi_user_key=SFMyNTY.g3QAAAABbQAAABZndWFyZGlhbl9kZWZhdWx0X3Rva2VubQAAAYZleUpoYkdjaU9pSklVelV4TWlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaGRXUWlPaUprYjIxdllYQnBYM1Z6WlhJaUxDSmxlSEFpT2pFMU56WTBPRGc1TnpFc0ltbGhkQ0k2TVRVM05EQTJPVGMzTVN3aWFYTnpJam9pWkc5dGIyRndhVjkxYzJWeUlpd2lhblJwSWpvaU56SXlNemc0TURJdE5qQmtaQzAwT1RRd0xUazFZVFF0WVRrMU5EVXpOakJtWldJd0lpd2libUptSWpveE5UYzBNRFk1Tnpjd0xDSnpkV0lpT2lJM056Wm1Zek5sTkMweU1ETmpMVFF6TjJZdFlXSXlOeTA1T1RreE9ERTRNRGN4T0dZaUxDSjBlWEFpT2lKaFkyTmxjM01pZlEuVndFdlB5dU82OUluU1ZveXNXVXFTdUZFbm5PYzN5OEFUTEZiYzMzOTIxMFhVNFpPMFlpNDlXT3EzbG5pdUhqTnYxcTkydzBiZnFjSUplb1BCUDlIa1E.aUREG1yRFH6OU6eD_6CrntIYOoNPRKiewgDIUENBgDs">>,<<"host">> => <<"user-api.domoface.ru">>,<<"user-agent">> => <<"Dalvik/2.1.0 (Linux; U; Android 9; LLD-L31 Build/HONORLLD-L31)">>,<<"x-forwarded-for">> => <<"85.26.235.206">>,<<"x-forwarded-host">> => <<"user-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"85.26.235.206">>},host => <<"user-api.domoface.ru">>,host_info => undefined,method => <<"POST">>,path => <<"/users/send_candidate">>,path_info => undefined,peer => {{127,0,0,1},59626},pid => <0.1396.0>,port => 80,qs => <<>>,ref => 'Elixir.DomoapiUserWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},9080},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [#Fun<Elixir.Plug.Session.0.35161479>,#Fun<Elixir.Plug.Telemetry.0.66442134>,#Fun<Elixir.Phoenix.LiveReloader.0.121962774>],body_params => #{<<"candidate">> => <<"{\"candidate\":\"candidate:3948167701 1 udp 2113937151 10.218.57.13 58982 typ host generation 0 ufrag Lzjg network-cost 999\",\"sdpMid\":\"0\",\"sdpMLineIndex\":0}">>},cookies => #{<<"_domoapi_user_key">> => <<"SFMyNTY.g3QAAAABbQAAABZndWFyZGlhbl9kZWZhdWx0X3Rva2VubQAAAYZleUpoYkdjaU9pSklVelV4TWlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaGRXUWlPaUprYjIxdllYQnBYM1Z6WlhJaUxDSmxlSEFpT2pFMU56WTBPRGc1TnpFc0ltbGhkQ0k2TVRVM05EQTJPVGMzTVN3aWFYTnpJam9pWkc5dGIyRndhVjkxYzJWeUlpd2lhblJwSWpvaU56SXlNemc0TURJdE5qQmtaQzAwT1RRd0xUazFZVFF0WVRrMU5EVXpOakJtWldJd0lpd2libUptSWpveE5UYzBNRFk1Tnpjd0xDSnpkV0lpT2lJM056Wm1Zek5sTkMweU1ETmpMVFF6TjJZdFlXSXlOeTA1T1RreE9ERTRNRGN4T0dZaUxDSjBlWEFpT2lKaFkyTmxjM01pZlEuVndFdlB5dU82OUluU1ZveXNXVXFTdUZFbm5PYzN5OEFUTEZiYzMzOTIxMFhVNFpPMFlpNDlXT3EzbG5pdUhqTnYxcTkydzBiZnFjSUplb1BCUDlIa1E.aUREG1yRFH6OU6eD_6CrntIYOoNPRKiewgDIUENBgDs">>},halted => false,host => <<"user-api.domoface.ru">>,method => <<"POST">>,owner => <0.1397.0>,params => #{<<"candidate">> => <<"{\"candidate\":\"candidate:3948167701 1 udp 2113937151 10.218.57.13 58982 typ host generation 0 ufrag Lzjg network-cost 999\",\"sdpMid\":\"0\",\"sdpMLineIndex\":0}">>},path_info => [<<"users">>,<<"send_candidate">>],path_params => #{},port => 80,private => #{'Elixir.DomoapiUserWeb.Router' => {[],#{'Elixir.PhoenixSwagger.Plug.SwaggerUI' => []}},guardian_default_claims => #{<<"aud">> => <<"domoapi_user">>,<<"exp">> => 1576488971,<<"iat">> => 1574069771,<<"iss">> => <<"domoapi_user">>,<<"jti">> => <<"72238802-60dd-4940-95a4-a9545360feb0">>,<<"nbf">> => 1574069770,<<"sub">> => <<"776fc3e4-203c-437f-ab27-99918180718f">>,<<"typ">> => <<"access">>},guardian_default_resource => #{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => #{'__cardinality__' => many,'__field__' => devices,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 15,hour => 12,microsecond => {0,0},minute => 39,month => 11,second => 36,year => 2019},password => <<"$2b$12$XlddKF/xtUSibCfUPGIFder8BVD04Qh9qhAIdee/iSdJE48pNnIKe">>,phone_number => <<"89991945767">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<"Azat verni 2 rubl">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 13,year => 2019}},guardian_default_token => <<"eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJkb21vYXBpX3VzZXIiLCJleHAiOjE1NzY0ODg5NzEsImlhdCI6MTU3NDA2OTc3MSwiaXNzIjoiZG9tb2FwaV91c2VyIiwianRpIjoiNzIyMzg4MDItNjBkZC00OTQwLTk1YTQtYTk1NDUzNjBmZWIwIiwibmJmIjoxNTc0MDY5NzcwLCJzdWIiOiI3NzZmYzNlNC0yMDNjLTQzN2YtYWIyNy05OTkxODE4MDcxOGYiLCJ0eXAiOiJhY2Nlc3MifQ.VwEvPyuO69InSVoysWUqSuFEnnOc3y8ATLFbc339210XU4ZO0Yi49WOq3lniuHjNv1q92w0bfqcIJeoPBP9HkQ">>,guardian_error_handler => 'Elixir.DomoapiUserWeb.FallbackController',guardian_module => 'Elixir.DomoapiUser.Guardian',phoenix_action => send_candidate,phoenix_controller => 'Elixir.DomoapiUserWeb.SessionController',phoenix_endpoint => 'Elixir.DomoapiUserWeb.Endpoint',phoenix_format => <<"json">>,phoenix_layout => {'Elixir.DomoapiUserWeb.LayoutView',app},phoenix_pipelines => [api,authorized],phoenix_router => 'Elixir.DomoapiUserWeb.Router',phoenix_view => 'Elixir.DomoapiUserWeb.SessionView',plug_session => #{<<"guardian_default_token">> => <<"eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJkb21vYXBpX3VzZXIiLCJleHAiOjE1NzY0ODg5NzEsImlhdCI6MTU3NDA2OTc3MSwiaXNzIjoiZG9tb2FwaV91c2VyIiwianRpIjoiNzIyMzg4MDItNjBkZC00OTQwLTk1YTQtYTk1NDUzNjBmZWIwIiwibmJmIjoxNTc0MDY5NzcwLCJzdWIiOiI3NzZmYzNlNC0yMDNjLTQzN2YtYWIyNy05OTkxODE4MDcxOGYiLCJ0eXAiOiJhY2Nlc3MifQ.VwEvPyuO69InSVoysWUqSuFEnnOc3y8ATLFbc339210XU4ZO0Yi49WOq3lniuHjNv1q92w0bfqcIJeoPBP9HkQ">>},plug_session_fetch => done},query_params => #{},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{<<"_domoapi_user_key">> => <<"SFMyNTY.g3QAAAABbQAAABZndWFyZGlhbl9kZWZhdWx0X3Rva2VubQAAAYZleUpoYkdjaU9pSklVelV4TWlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaGRXUWlPaUprYjIxdllYQnBYM1Z6WlhJaUxDSmxlSEFpT2pFMU56WTBPRGc1TnpFc0ltbGhkQ0k2TVRVM05EQTJPVGMzTVN3aWFYTnpJam9pWkc5dGIyRndhVjkxYzJWeUlpd2lhblJwSWpvaU56SXlNemc0TURJdE5qQmtaQzAwT1RRd0xUazFZVFF0WVRrMU5EVXpOakJtWldJd0lpd2libUptSWpveE5UYzBNRFk1Tnpjd0xDSnpkV0lpT2lJM056Wm1Zek5sTkMweU1ETmpMVFF6TjJZdFlXSXlOeTA1T1RreE9ERTRNRGN4T0dZaUxDSjBlWEFpT2lKaFkyTmxjM01pZlEuVndFdlB5dU82OUluU1ZveXNXVXFTdUZFbm5PYzN5OEFUTEZiYzMzOTIxMFhVNFpPMFlpNDlXT3EzbG5pdUhqTnYxcTkydzBiZnFjSUplb1BCUDlIa1E.aUREG1yRFH6OU6eD_6CrntIYOoNPRKiewgDIUENBgDs">>},req_headers => [{<<"accept-charset">>,<<"UTF-8">>},{<<"accept-encoding">>,<<"gzip">>},{<<"connection">>,<<"upgrade">>},{<<"content-length">>,<<"199">>},{<<"content-type">>,<<"application/x-www-form-urlencoded; charset=UTF-8">>},{<<"cookie">>,<<"_domoapi_user_key=SFMyNTY.g3QAAAABbQAAABZndWFyZGlhbl9kZWZhdWx0X3Rva2VubQAAAYZleUpoYkdjaU9pSklVelV4TWlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaGRXUWlPaUprYjIxdllYQnBYM1Z6WlhJaUxDSmxlSEFpT2pFMU56WTBPRGc1TnpFc0ltbGhkQ0k2TVRVM05EQTJPVGMzTVN3aWFYTnpJam9pWkc5dGIyRndhVjkxYzJWeUlpd2lhblJwSWpvaU56SXlNemc0TURJdE5qQmtaQzAwT1RRd0xUazFZVFF0WVRrMU5EVXpOakJtWldJd0lpd2libUptSWpveE5UYzBNRFk1Tnpjd0xDSnpkV0lpT2lJM056Wm1Zek5sTkMweU1ETmpMVFF6TjJZdFlXSXlOeTA1T1RreE9ERTRNRGN4T0dZaUxDSjBlWEFpT2lKaFkyTmxjM01pZlEuVndFdlB5dU82OUluU1ZveXNXVXFTdUZFbm5PYzN5OEFUTEZiYzMzOTIxMFhVNFpPMFlpNDlXT3EzbG5pdUhqTnYxcTkydzBiZnFjSUplb1BCUDlIa1E.aUREG1yRFH6OU6eD_6CrntIYOoNPRKiewgDIUENBgDs">>},{<<"host">>,<<"user-api.domoface.ru">>},{<<"user-agent">>,<<"Dalvik/2.1.0 (Linux; U; Android 9; LLD-L31 Build/HONORLLD-L31)">>},{<<"x-forwarded-for">>,<<"85.26.235.206">>},{<<"x-forwarded-host">>,<<"user-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"85.26.235.206">>}],request_path => <<"/users/send_candidate">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>},{<<"x-request-id">>,<<"FdhOhb4XICYHqN8AAANi">>}],scheme => http,script_name => [],secret_key_base => <<"luzga7DdpB46XmM4h5AYlvAs77NA6uHsptQ4VKt3K4/Qg9aUt+UiPiXsbgXHDiul">>,state => unset,status => nil},nil],[{file,"lib/domoapi_user_web/controllers/fallback_controller.ex"},{line,10}]},{'Elixir.DomoapiUserWeb.SessionController',action,2,[{file,"lib/domoapi_user_web/controllers/session_controller.ex"},{line,1}]},{'Elixir.DomoapiUserWeb.SessionController',phoenix_controller_pipeline,2,[{file,"lib/domoapi_user_web/controllers/session_controller.ex"},{line,1}]},{'Elixir.DomoapiUserWeb.Endpoint',instrument,4,[{file,"lib/domoapi_user_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',1,[{file,"lib/phoenix/router.ex"},{line,275}]},{'Elixir.DomoapiUserWeb.Endpoint',plug_builder_call,2,[{file,"lib/domoapi_user_web/endpoint.ex"},{line,1}]},{'Elixir.DomoapiUserWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.DomoapiUserWeb.Endpoint',call,2,[{file,"lib/domoapi_user_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,33}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.DomoapiUserWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 199,cert => undefined,has_body => true,headers => #{<<"accept-charset">> => <<"UTF-8">>,<<"accept-encoding">> => <<"gzip">>,<<"connection">> => <<"upgrade">>,<<"content-length">> => <<"199">>,<<"content-type">> => <<"application/x-www-form-urlencoded; charset=UTF-8">>,<<"cookie">> => <<"_domoapi_user_key=SFMyNTY.g3QAAAABbQAAABZndWFyZGlhbl9kZWZhdWx0X3Rva2VubQAAAYZleUpoYkdjaU9pSklVelV4TWlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaGRXUWlPaUprYjIxdllYQnBYM1Z6WlhJaUxDSmxlSEFpT2pFMU56WTBPRGc1TnpFc0ltbGhkQ0k2TVRVM05EQTJPVGMzTVN3aWFYTnpJam9pWkc5dGIyRndhVjkxYzJWeUlpd2lhblJwSWpvaU56SXlNemc0TURJdE5qQmtaQzAwT1RRd0xUazFZVFF0WVRrMU5EVXpOakJtWldJd0lpd2libUptSWpveE5UYzBNRFk1Tnpjd0xDSnpkV0lpT2lJM056Wm1Zek5sTkMweU1ETmpMVFF6TjJZdFlXSXlOeTA1T1RreE9ERTRNRGN4T0dZaUxDSjBlWEFpT2lKaFkyTmxjM01pZlEuVndFdlB5dU82OUluU1ZveXNXVXFTdUZFbm5PYzN5OEFUTEZiYzMzOTIxMFhVNFpPMFlpNDlXT3EzbG5pdUhqTnYxcTkydzBiZnFjSUplb1BCUDlIa1E.aUREG1yRFH6OU6eD_6CrntIYOoNPRKiewgDIUENBgDs">>,<<"host">> => <<"user-api.domoface.ru">>,<<"user-agent">> => <<"Dalvik/2.1.0 (Linux; U; Android 9; LLD-L31 Build/HONORLLD-L31)">>,<<"x-forwarded-for">> => <<"85.26.235.206">>,<<"x-forwarded-host">> => <<"user-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"85.26.235.206">>},host => <<"user-api.domoface.ru">>,host_info => undefined,method => <<"POST">>,path => <<"/users/send_candidate">>,path_info => undefined,peer => {{127,0,0,1},59626},pid => <0.1396.0>,port => 80,qs => <<>>,ref => 'Elixir.DomoapiUserWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},9080},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"user-api.domoface.ru">>,method => <<"POST">>,owner => <0.1397.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"users">>,<<"send_candidate">>],path_params => #{},port => 80,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept-charset">>,<<"UTF-8">>},{<<"accept-encoding">>,<<"gzip">>},{<<"connection">>,<<"upgrade">>},{<<"content-length">>,<<"199">>},{<<"content-type">>,<<"application/x-www-form-urlencoded; charset=UTF-8">>},{<<"cookie">>,<<"_domoapi_user_key=SFMyNTY.g3QAAAABbQAAABZndWFyZGlhbl9kZWZhdWx0X3Rva2VubQAAAYZleUpoYkdjaU9pSklVelV4TWlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaGRXUWlPaUprYjIxdllYQnBYM1Z6WlhJaUxDSmxlSEFpT2pFMU56WTBPRGc1TnpFc0ltbGhkQ0k2TVRVM05EQTJPVGMzTVN3aWFYTnpJam9pWkc5dGIyRndhVjkxYzJWeUlpd2lhblJwSWpvaU56SXlNemc0TURJdE5qQmtaQzAwT1RRd0xUazFZVFF0WVRrMU5EVXpOakJtWldJd0lpd2libUptSWpveE5UYzBNRFk1Tnpjd0xDSnpkV0lpT2lJM056Wm1Zek5sTkMweU1ETmpMVFF6TjJZdFlXSXlOeTA1T1RreE9ERTRNRGN4T0dZaUxDSjBlWEFpT2lKaFkyTmxjM01pZlEuVndFdlB5dU82OUluU1ZveXNXVXFTdUZFbm5PYzN5OEFUTEZiYzMzOTIxMFhVNFpPMFlpNDlXT3EzbG5pdUhqTnYxcTkydzBiZnFjSUplb1BCUDlIa1E.aUREG1yRFH6OU6eD_6CrntIYOoNPRKiewgDIUENBgDs">>},{<<"host">>,<<"user-api.domoface.ru">>},{<<"user-agent">>,<<"Dalvik/2.1.0 (Linux; U; Android 9; LLD-L31 Build/HONORLLD-L31)">>},{<<"x-forwarded-for">>,<<"85.26.235.206">>},{<<"x-forwarded-host">>,<<"user-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"85.26.235.206">>}],request_path => <<"/users/send_candidate">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}
    ancestors: [<0.1396.0>,<0.527.0>,<0.526.0>,'Elixir.DomoapiUserWeb.Endpoint','Elixir.DomoapiUser.Supervisor',<0.505.0>]
    message_queue_len: 0
    messages: []
    links: [<0.1396.0>]
    dictionary: [{logger_metadata,{true,[{request_id,<<"FdhOhb4XICYHqN8AAANi">>}]}}]
    trap_exit: false
    status: running
    heap_size: 4185
    stack_size: 27
    reductions: 175551
  neighbours:
2019-11-18 16:26:46 =ERROR REPORT====
Ranch listener 'Elixir.DomoapiUserWeb.Endpoint.HTTP', connection process <0.1396.0>, stream 1 had its request process <0.1397.0> exit with reason {{#{'__exception__' => true,'__struct__' => 'Elixir.FunctionClauseError',args => nil,arity => 2,clauses => nil,function => call,kind => nil,module => 'Elixir.DomoapiUserWeb.FallbackController'},[{'Elixir.DomoapiUserWeb.FallbackController',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 199,cert => undefined,has_body => true,has_read_body => true,headers => #{<<"accept-charset">> => <<"UTF-8">>,<<"accept-encoding">> => <<"gzip">>,<<"connection">> => <<"upgrade">>,<<"content-length">> => <<"199">>,<<"content-type">> => <<"application/x-www-form-urlencoded; charset=UTF-8">>,<<"cookie">> => <<"_domoapi_user_key=SFMyNTY.g3QAAAABbQAAABZndWFyZGlhbl9kZWZhdWx0X3Rva2VubQAAAYZleUpoYkdjaU9pSklVelV4TWlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaGRXUWlPaUprYjIxdllYQnBYM1Z6WlhJaUxDSmxlSEFpT2pFMU56WTBPRGc1TnpFc0ltbGhkQ0k2TVRVM05EQTJPVGMzTVN3aWFYTnpJam9pWkc5dGIyRndhVjkxYzJWeUlpd2lhblJwSWpvaU56SXlNemc0TURJdE5qQmtaQzAwT1RRd0xUazFZVFF0WVRrMU5EVXpOakJtWldJd0lpd2libUptSWpveE5UYzBNRFk1Tnpjd0xDSnpkV0lpT2lJM056Wm1Zek5sTkMweU1ETmpMVFF6TjJZdFlXSXlOeTA1T1RreE9ERTRNRGN4T0dZaUxDSjBlWEFpT2lKaFkyTmxjM01pZlEuVndFdlB5dU82OUluU1ZveXNXVXFTdUZFbm5PYzN5OEFUTEZiYzMzOTIxMFhVNFpPMFlpNDlXT3EzbG5pdUhqTnYxcTkydzBiZnFjSUplb1BCUDlIa1E.aUREG1yRFH6OU6eD_6CrntIYOoNPRKiewgDIUENBgDs">>,<<"host">> => <<"user-api.domoface.ru">>,<<"user-agent">> => <<"Dalvik/2.1.0 (Linux; U; Android 9; LLD-L31 Build/HONORLLD-L31)">>,<<"x-forwarded-for">> => <<"85.26.235.206">>,<<"x-forwarded-host">> => <<"user-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"85.26.235.206">>},host => <<"user-api.domoface.ru">>,host_info => undefined,method => <<"POST">>,path => <<"/users/send_candidate">>,path_info => undefined,peer => {{127,0,0,1},59626},pid => <0.1396.0>,port => 80,qs => <<>>,ref => 'Elixir.DomoapiUserWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},9080},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [#Fun<Elixir.Plug.Session.0.35161479>,#Fun<Elixir.Plug.Telemetry.0.66442134>,#Fun<Elixir.Phoenix.LiveReloader.0.121962774>],body_params => #{<<"candidate">> => <<"{\"candidate\":\"candidate:3948167701 1 udp 2113937151 10.218.57.13 58982 typ host generation 0 ufrag Lzjg network-cost 999\",\"sdpMid\":\"0\",\"sdpMLineIndex\":0}">>},cookies => #{<<"_domoapi_user_key">> => <<"SFMyNTY.g3QAAAABbQAAABZndWFyZGlhbl9kZWZhdWx0X3Rva2VubQAAAYZleUpoYkdjaU9pSklVelV4TWlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaGRXUWlPaUprYjIxdllYQnBYM1Z6WlhJaUxDSmxlSEFpT2pFMU56WTBPRGc1TnpFc0ltbGhkQ0k2TVRVM05EQTJPVGMzTVN3aWFYTnpJam9pWkc5dGIyRndhVjkxYzJWeUlpd2lhblJwSWpvaU56SXlNemc0TURJdE5qQmtaQzAwT1RRd0xUazFZVFF0WVRrMU5EVXpOakJtWldJd0lpd2libUptSWpveE5UYzBNRFk1Tnpjd0xDSnpkV0lpT2lJM056Wm1Zek5sTkMweU1ETmpMVFF6TjJZdFlXSXlOeTA1T1RreE9ERTRNRGN4T0dZaUxDSjBlWEFpT2lKaFkyTmxjM01pZlEuVndFdlB5dU82OUluU1ZveXNXVXFTdUZFbm5PYzN5OEFUTEZiYzMzOTIxMFhVNFpPMFlpNDlXT3EzbG5pdUhqTnYxcTkydzBiZnFjSUplb1BCUDlIa1E.aUREG1yRFH6OU6eD_6CrntIYOoNPRKiewgDIUENBgDs">>},halted => false,host => <<"user-api.domoface.ru">>,method => <<"POST">>,owner => <0.1397.0>,params => #{<<"candidate">> => <<"{\"candidate\":\"candidate:3948167701 1 udp 2113937151 10.218.57.13 58982 typ host generation 0 ufrag Lzjg network-cost 999\",\"sdpMid\":\"0\",\"sdpMLineIndex\":0}">>},path_info => [<<"users">>,<<"send_candidate">>],path_params => #{},port => 80,private => #{'Elixir.DomoapiUserWeb.Router' => {[],#{'Elixir.PhoenixSwagger.Plug.SwaggerUI' => []}},guardian_default_claims => #{<<"aud">> => <<"domoapi_user">>,<<"exp">> => 1576488971,<<"iat">> => 1574069771,<<"iss">> => <<"domoapi_user">>,<<"jti">> => <<"72238802-60dd-4940-95a4-a9545360feb0">>,<<"nbf">> => 1574069770,<<"sub">> => <<"776fc3e4-203c-437f-ab27-99918180718f">>,<<"typ">> => <<"access">>},guardian_default_resource => #{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => #{'__cardinality__' => many,'__field__' => devices,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 15,hour => 12,microsecond => {0,0},minute => 39,month => 11,second => 36,year => 2019},password => <<"$2b$12$XlddKF/xtUSibCfUPGIFder8BVD04Qh9qhAIdee/iSdJE48pNnIKe">>,phone_number => <<"89991945767">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<"Azat verni 2 rubl">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 13,year => 2019}},guardian_default_token => <<"eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJkb21vYXBpX3VzZXIiLCJleHAiOjE1NzY0ODg5NzEsImlhdCI6MTU3NDA2OTc3MSwiaXNzIjoiZG9tb2FwaV91c2VyIiwianRpIjoiNzIyMzg4MDItNjBkZC00OTQwLTk1YTQtYTk1NDUzNjBmZWIwIiwibmJmIjoxNTc0MDY5NzcwLCJzdWIiOiI3NzZmYzNlNC0yMDNjLTQzN2YtYWIyNy05OTkxODE4MDcxOGYiLCJ0eXAiOiJhY2Nlc3MifQ.VwEvPyuO69InSVoysWUqSuFEnnOc3y8ATLFbc339210XU4ZO0Yi49WOq3lniuHjNv1q92w0bfqcIJeoPBP9HkQ">>,guardian_error_handler => 'Elixir.DomoapiUserWeb.FallbackController',guardian_module => 'Elixir.DomoapiUser.Guardian',phoenix_action => send_candidate,phoenix_controller => 'Elixir.DomoapiUserWeb.SessionController',phoenix_endpoint => 'Elixir.DomoapiUserWeb.Endpoint',phoenix_format => <<"json">>,phoenix_layout => {'Elixir.DomoapiUserWeb.LayoutView',app},phoenix_pipelines => [api,authorized],phoenix_router => 'Elixir.DomoapiUserWeb.Router',phoenix_view => 'Elixir.DomoapiUserWeb.SessionView',plug_session => #{<<"guardian_default_token">> => <<"eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJkb21vYXBpX3VzZXIiLCJleHAiOjE1NzY0ODg5NzEsImlhdCI6MTU3NDA2OTc3MSwiaXNzIjoiZG9tb2FwaV91c2VyIiwianRpIjoiNzIyMzg4MDItNjBkZC00OTQwLTk1YTQtYTk1NDUzNjBmZWIwIiwibmJmIjoxNTc0MDY5NzcwLCJzdWIiOiI3NzZmYzNlNC0yMDNjLTQzN2YtYWIyNy05OTkxODE4MDcxOGYiLCJ0eXAiOiJhY2Nlc3MifQ.VwEvPyuO69InSVoysWUqSuFEnnOc3y8ATLFbc339210XU4ZO0Yi49WOq3lniuHjNv1q92w0bfqcIJeoPBP9HkQ">>},plug_session_fetch => done},query_params => #{},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{<<"_domoapi_user_key">> => <<"SFMyNTY.g3QAAAABbQAAABZndWFyZGlhbl9kZWZhdWx0X3Rva2VubQAAAYZleUpoYkdjaU9pSklVelV4TWlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaGRXUWlPaUprYjIxdllYQnBYM1Z6WlhJaUxDSmxlSEFpT2pFMU56WTBPRGc1TnpFc0ltbGhkQ0k2TVRVM05EQTJPVGMzTVN3aWFYTnpJam9pWkc5dGIyRndhVjkxYzJWeUlpd2lhblJwSWpvaU56SXlNemc0TURJdE5qQmtaQzAwT1RRd0xUazFZVFF0WVRrMU5EVXpOakJtWldJd0lpd2libUptSWpveE5UYzBNRFk1Tnpjd0xDSnpkV0lpT2lJM056Wm1Zek5sTkMweU1ETmpMVFF6TjJZdFlXSXlOeTA1T1RreE9ERTRNRGN4T0dZaUxDSjBlWEFpT2lKaFkyTmxjM01pZlEuVndFdlB5dU82OUluU1ZveXNXVXFTdUZFbm5PYzN5OEFUTEZiYzMzOTIxMFhVNFpPMFlpNDlXT3EzbG5pdUhqTnYxcTkydzBiZnFjSUplb1BCUDlIa1E.aUREG1yRFH6OU6eD_6CrntIYOoNPRKiewgDIUENBgDs">>},req_headers => [{<<"accept-charset">>,<<"UTF-8">>},{<<"accept-encoding">>,<<"gzip">>},{<<"connection">>,<<"upgrade">>},{<<"content-length">>,<<"199">>},{<<"content-type">>,<<"application/x-www-form-urlencoded; charset=UTF-8">>},{<<"cookie">>,<<"_domoapi_user_key=SFMyNTY.g3QAAAABbQAAABZndWFyZGlhbl9kZWZhdWx0X3Rva2VubQAAAYZleUpoYkdjaU9pSklVelV4TWlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaGRXUWlPaUprYjIxdllYQnBYM1Z6WlhJaUxDSmxlSEFpT2pFMU56WTBPRGc1TnpFc0ltbGhkQ0k2TVRVM05EQTJPVGMzTVN3aWFYTnpJam9pWkc5dGIyRndhVjkxYzJWeUlpd2lhblJwSWpvaU56SXlNemc0TURJdE5qQmtaQzAwT1RRd0xUazFZVFF0WVRrMU5EVXpOakJtWldJd0lpd2libUptSWpveE5UYzBNRFk1Tnpjd0xDSnpkV0lpT2lJM056Wm1Zek5sTkMweU1ETmpMVFF6TjJZdFlXSXlOeTA1T1RreE9ERTRNRGN4T0dZaUxDSjBlWEFpT2lKaFkyTmxjM01pZlEuVndFdlB5dU82OUluU1ZveXNXVXFTdUZFbm5PYzN5OEFUTEZiYzMzOTIxMFhVNFpPMFlpNDlXT3EzbG5pdUhqTnYxcTkydzBiZnFjSUplb1BCUDlIa1E.aUREG1yRFH6OU6eD_6CrntIYOoNPRKiewgDIUENBgDs">>},{<<"host">>,<<"user-api.domoface.ru">>},{<<"user-agent">>,<<"Dalvik/2.1.0 (Linux; U; Android 9; LLD-L31 Build/HONORLLD-L31)">>},{<<"x-forwarded-for">>,<<"85.26.235.206">>},{<<"x-forwarded-host">>,<<"user-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"85.26.235.206">>}],request_path => <<"/users/send_candidate">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>},{<<"x-request-id">>,<<"FdhOhb4XICYHqN8AAANi">>}],scheme => http,script_name => [],secret_key_base => <<"luzga7DdpB46XmM4h5AYlvAs77NA6uHsptQ4VKt3K4/Qg9aUt+UiPiXsbgXHDiul">>,state => unset,status => nil},nil],[{file,"lib/domoapi_user_web/controllers/fallback_controller.ex"},{line,10}]},{'Elixir.DomoapiUserWeb.SessionController',action,2,[{file,"lib/domoapi_user_web/controllers/session_controller.ex"},{line,1}]},{'Elixir.DomoapiUserWeb.SessionController',phoenix_controller_pipeline,2,[{file,"lib/domoapi_user_web/controllers/session_controller.ex"},{line,1}]},{'Elixir.DomoapiUserWeb.Endpoint',instrument,4,[{file,"lib/domoapi_user_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',1,[{file,"lib/phoenix/router.ex"},{line,275}]},{'Elixir.DomoapiUserWeb.Endpoint',plug_builder_call,2,[{file,"lib/domoapi_user_web/endpoint.ex"},{line,1}]},{'Elixir.DomoapiUserWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.DomoapiUserWeb.Endpoint',call,2,[{file,"lib/domoapi_user_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,33}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.DomoapiUserWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 199,cert => undefined,has_body => true,headers => #{<<"accept-charset">> => <<"UTF-8">>,<<"accept-encoding">> => <<"gzip">>,<<"connection">> => <<"upgrade">>,<<"content-length">> => <<"199">>,<<"content-type">> => <<"application/x-www-form-urlencoded; charset=UTF-8">>,<<"cookie">> => <<"_domoapi_user_key=SFMyNTY.g3QAAAABbQAAABZndWFyZGlhbl9kZWZhdWx0X3Rva2VubQAAAYZleUpoYkdjaU9pSklVelV4TWlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaGRXUWlPaUprYjIxdllYQnBYM1Z6WlhJaUxDSmxlSEFpT2pFMU56WTBPRGc1TnpFc0ltbGhkQ0k2TVRVM05EQTJPVGMzTVN3aWFYTnpJam9pWkc5dGIyRndhVjkxYzJWeUlpd2lhblJwSWpvaU56SXlNemc0TURJdE5qQmtaQzAwT1RRd0xUazFZVFF0WVRrMU5EVXpOakJtWldJd0lpd2libUptSWpveE5UYzBNRFk1Tnpjd0xDSnpkV0lpT2lJM056Wm1Zek5sTkMweU1ETmpMVFF6TjJZdFlXSXlOeTA1T1RreE9ERTRNRGN4T0dZaUxDSjBlWEFpT2lKaFkyTmxjM01pZlEuVndFdlB5dU82OUluU1ZveXNXVXFTdUZFbm5PYzN5OEFUTEZiYzMzOTIxMFhVNFpPMFlpNDlXT3EzbG5pdUhqTnYxcTkydzBiZnFjSUplb1BCUDlIa1E.aUREG1yRFH6OU6eD_6CrntIYOoNPRKiewgDIUENBgDs">>,<<"host">> => <<"user-api.domoface.ru">>,<<"user-agent">> => <<"Dalvik/2.1.0 (Linux; U; Android 9; LLD-L31 Build/HONORLLD-L31)">>,<<"x-forwarded-for">> => <<"85.26.235.206">>,<<"x-forwarded-host">> => <<"user-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"85.26.235.206">>},host => <<"user-api.domoface.ru">>,host_info => undefined,method => <<"POST">>,path => <<"/users/send_candidate">>,path_info => undefined,peer => {{127,0,0,1},59626},pid => <0.1396.0>,port => 80,qs => <<>>,ref => 'Elixir.DomoapiUserWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},9080},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"user-api.domoface.ru">>,method => <<"POST">>,owner => <0.1397.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"users">>,<<"send_candidate">>],path_params => #{},port => 80,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept-charset">>,<<"UTF-8">>},{<<"accept-encoding">>,<<"gzip">>},{<<"connection">>,<<"upgrade">>},{<<"content-length">>,<<"199">>},{<<"content-type">>,<<"application/x-www-form-urlencoded; charset=UTF-8">>},{<<"cookie">>,<<"_domoapi_user_key=SFMyNTY.g3QAAAABbQAAABZndWFyZGlhbl9kZWZhdWx0X3Rva2VubQAAAYZleUpoYkdjaU9pSklVelV4TWlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaGRXUWlPaUprYjIxdllYQnBYM1Z6WlhJaUxDSmxlSEFpT2pFMU56WTBPRGc1TnpFc0ltbGhkQ0k2TVRVM05EQTJPVGMzTVN3aWFYTnpJam9pWkc5dGIyRndhVjkxYzJWeUlpd2lhblJwSWpvaU56SXlNemc0TURJdE5qQmtaQzAwT1RRd0xUazFZVFF0WVRrMU5EVXpOakJtWldJd0lpd2libUptSWpveE5UYzBNRFk1Tnpjd0xDSnpkV0lpT2lJM056Wm1Zek5sTkMweU1ETmpMVFF6TjJZdFlXSXlOeTA1T1RreE9ERTRNRGN4T0dZaUxDSjBlWEFpT2lKaFkyTmxjM01pZlEuVndFdlB5dU82OUluU1ZveXNXVXFTdUZFbm5PYzN5OEFUTEZiYzMzOTIxMFhVNFpPMFlpNDlXT3EzbG5pdUhqTnYxcTkydzBiZnFjSUplb1BCUDlIa1E.aUREG1yRFH6OU6eD_6CrntIYOoNPRKiewgDIUENBgDs">>},{<<"host">>,<<"user-api.domoface.ru">>},{<<"user-agent">>,<<"Dalvik/2.1.0 (Linux; U; Android 9; LLD-L31 Build/HONORLLD-L31)">>},{<<"x-forwarded-for">>,<<"85.26.235.206">>},{<<"x-forwarded-host">>,<<"user-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"85.26.235.206">>}],request_path => <<"/users/send_candidate">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}} and stacktrace [{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]
2019-11-18 16:26:46 =CRASH REPORT====
  crasher:
    initial call: cowboy_stream_h:request_process/3
    pid: <0.1405.0>
    registered_name: []
    exception exit: {{{{#{'__exception__' => true,'__struct__' => 'Elixir.FunctionClauseError',args => nil,arity => 2,clauses => nil,function => call,kind => nil,module => 'Elixir.DomoapiUserWeb.FallbackController'},[{'Elixir.DomoapiUserWeb.FallbackController',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 14,cert => undefined,has_body => true,has_read_body => true,headers => #{<<"accept-charset">> => <<"UTF-8">>,<<"accept-encoding">> => <<"gzip">>,<<"connection">> => <<"upgrade">>,<<"content-length">> => <<"14">>,<<"content-type">> => <<"application/x-www-form-urlencoded; charset=UTF-8">>,<<"cookie">> => <<"_domoapi_user_key=SFMyNTY.g3QAAAABbQAAABZndWFyZGlhbl9kZWZhdWx0X3Rva2VubQAAAYZleUpoYkdjaU9pSklVelV4TWlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaGRXUWlPaUprYjIxdllYQnBYM1Z6WlhJaUxDSmxlSEFpT2pFMU56WTBPRGc1TnpFc0ltbGhkQ0k2TVRVM05EQTJPVGMzTVN3aWFYTnpJam9pWkc5dGIyRndhVjkxYzJWeUlpd2lhblJwSWpvaU56SXlNemc0TURJdE5qQmtaQzAwT1RRd0xUazFZVFF0WVRrMU5EVXpOakJtWldJd0lpd2libUptSWpveE5UYzBNRFk1Tnpjd0xDSnpkV0lpT2lJM056Wm1Zek5sTkMweU1ETmpMVFF6TjJZdFlXSXlOeTA1T1RreE9ERTRNRGN4T0dZaUxDSjBlWEFpT2lKaFkyTmxjM01pZlEuVndFdlB5dU82OUluU1ZveXNXVXFTdUZFbm5PYzN5OEFUTEZiYzMzOTIxMFhVNFpPMFlpNDlXT3EzbG5pdUhqTnYxcTkydzBiZnFjSUplb1BCUDlIa1E.aUREG1yRFH6OU6eD_6CrntIYOoNPRKiewgDIUENBgDs">>,<<"host">> => <<"user-api.domoface.ru">>,<<"user-agent">> => <<"Dalvik/2.1.0 (Linux; U; Android 9; LLD-L31 Build/HONORLLD-L31)">>,<<"x-forwarded-for">> => <<"85.26.235.206">>,<<"x-forwarded-host">> => <<"user-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"85.26.235.206">>},host => <<"user-api.domoface.ru">>,host_info => undefined,method => <<"POST">>,path => <<"/users/send_candidate">>,path_info => undefined,peer => {{127,0,0,1},59630},pid => <0.1404.0>,port => 80,qs => <<>>,ref => 'Elixir.DomoapiUserWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},9080},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [#Fun<Elixir.Plug.Session.0.35161479>,#Fun<Elixir.Plug.Telemetry.0.66442134>,#Fun<Elixir.Phoenix.LiveReloader.0.121962774>],body_params => #{<<"candidate">> => <<"null">>},cookies => #{<<"_domoapi_user_key">> => <<"SFMyNTY.g3QAAAABbQAAABZndWFyZGlhbl9kZWZhdWx0X3Rva2VubQAAAYZleUpoYkdjaU9pSklVelV4TWlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaGRXUWlPaUprYjIxdllYQnBYM1Z6WlhJaUxDSmxlSEFpT2pFMU56WTBPRGc1TnpFc0ltbGhkQ0k2TVRVM05EQTJPVGMzTVN3aWFYTnpJam9pWkc5dGIyRndhVjkxYzJWeUlpd2lhblJwSWpvaU56SXlNemc0TURJdE5qQmtaQzAwT1RRd0xUazFZVFF0WVRrMU5EVXpOakJtWldJd0lpd2libUptSWpveE5UYzBNRFk1Tnpjd0xDSnpkV0lpT2lJM056Wm1Zek5sTkMweU1ETmpMVFF6TjJZdFlXSXlOeTA1T1RreE9ERTRNRGN4T0dZaUxDSjBlWEFpT2lKaFkyTmxjM01pZlEuVndFdlB5dU82OUluU1ZveXNXVXFTdUZFbm5PYzN5OEFUTEZiYzMzOTIxMFhVNFpPMFlpNDlXT3EzbG5pdUhqTnYxcTkydzBiZnFjSUplb1BCUDlIa1E.aUREG1yRFH6OU6eD_6CrntIYOoNPRKiewgDIUENBgDs">>},halted => false,host => <<"user-api.domoface.ru">>,method => <<"POST">>,owner => <0.1405.0>,params => #{<<"candidate">> => <<"null">>},path_info => [<<"users">>,<<"send_candidate">>],path_params => #{},port => 80,private => #{'Elixir.DomoapiUserWeb.Router' => {[],#{'Elixir.PhoenixSwagger.Plug.SwaggerUI' => []}},guardian_default_claims => #{<<"aud">> => <<"domoapi_user">>,<<"exp">> => 1576488971,<<"iat">> => 1574069771,<<"iss">> => <<"domoapi_user">>,<<"jti">> => <<"72238802-60dd-4940-95a4-a9545360feb0">>,<<"nbf">> => 1574069770,<<"sub">> => <<"776fc3e4-203c-437f-ab27-99918180718f">>,<<"typ">> => <<"access">>},guardian_default_resource => #{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => #{'__cardinality__' => many,'__field__' => devices,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 15,hour => 12,microsecond => {0,0},minute => 39,month => 11,second => 36,year => 2019},password => <<"$2b$12$XlddKF/xtUSibCfUPGIFder8BVD04Qh9qhAIdee/iSdJE48pNnIKe">>,phone_number => <<"89991945767">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<"Azat verni 2 rubl">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 13,year => 2019}},guardian_default_token => <<"eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJkb21vYXBpX3VzZXIiLCJleHAiOjE1NzY0ODg5NzEsImlhdCI6MTU3NDA2OTc3MSwiaXNzIjoiZG9tb2FwaV91c2VyIiwianRpIjoiNzIyMzg4MDItNjBkZC00OTQwLTk1YTQtYTk1NDUzNjBmZWIwIiwibmJmIjoxNTc0MDY5NzcwLCJzdWIiOiI3NzZmYzNlNC0yMDNjLTQzN2YtYWIyNy05OTkxODE4MDcxOGYiLCJ0eXAiOiJhY2Nlc3MifQ.VwEvPyuO69InSVoysWUqSuFEnnOc3y8ATLFbc339210XU4ZO0Yi49WOq3lniuHjNv1q92w0bfqcIJeoPBP9HkQ">>,guardian_error_handler => 'Elixir.DomoapiUserWeb.FallbackController',guardian_module => 'Elixir.DomoapiUser.Guardian',phoenix_action => send_candidate,phoenix_controller => 'Elixir.DomoapiUserWeb.SessionController',phoenix_endpoint => 'Elixir.DomoapiUserWeb.Endpoint',phoenix_format => <<"json">>,phoenix_layout => {'Elixir.DomoapiUserWeb.LayoutView',app},phoenix_pipelines => [api,authorized],phoenix_router => 'Elixir.DomoapiUserWeb.Router',phoenix_view => 'Elixir.DomoapiUserWeb.SessionView',plug_session => #{<<"guardian_default_token">> => <<"eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJkb21vYXBpX3VzZXIiLCJleHAiOjE1NzY0ODg5NzEsImlhdCI6MTU3NDA2OTc3MSwiaXNzIjoiZG9tb2FwaV91c2VyIiwianRpIjoiNzIyMzg4MDItNjBkZC00OTQwLTk1YTQtYTk1NDUzNjBmZWIwIiwibmJmIjoxNTc0MDY5NzcwLCJzdWIiOiI3NzZmYzNlNC0yMDNjLTQzN2YtYWIyNy05OTkxODE4MDcxOGYiLCJ0eXAiOiJhY2Nlc3MifQ.VwEvPyuO69InSVoysWUqSuFEnnOc3y8ATLFbc339210XU4ZO0Yi49WOq3lniuHjNv1q92w0bfqcIJeoPBP9HkQ">>},plug_session_fetch => done},query_params => #{},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{<<"_domoapi_user_key">> => <<"SFMyNTY.g3QAAAABbQAAABZndWFyZGlhbl9kZWZhdWx0X3Rva2VubQAAAYZleUpoYkdjaU9pSklVelV4TWlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaGRXUWlPaUprYjIxdllYQnBYM1Z6WlhJaUxDSmxlSEFpT2pFMU56WTBPRGc1TnpFc0ltbGhkQ0k2TVRVM05EQTJPVGMzTVN3aWFYTnpJam9pWkc5dGIyRndhVjkxYzJWeUlpd2lhblJwSWpvaU56SXlNemc0TURJdE5qQmtaQzAwT1RRd0xUazFZVFF0WVRrMU5EVXpOakJtWldJd0lpd2libUptSWpveE5UYzBNRFk1Tnpjd0xDSnpkV0lpT2lJM056Wm1Zek5sTkMweU1ETmpMVFF6TjJZdFlXSXlOeTA1T1RreE9ERTRNRGN4T0dZaUxDSjBlWEFpT2lKaFkyTmxjM01pZlEuVndFdlB5dU82OUluU1ZveXNXVXFTdUZFbm5PYzN5OEFUTEZiYzMzOTIxMFhVNFpPMFlpNDlXT3EzbG5pdUhqTnYxcTkydzBiZnFjSUplb1BCUDlIa1E.aUREG1yRFH6OU6eD_6CrntIYOoNPRKiewgDIUENBgDs">>},req_headers => [{<<"accept-charset">>,<<"UTF-8">>},{<<"accept-encoding">>,<<"gzip">>},{<<"connection">>,<<"upgrade">>},{<<"content-length">>,<<"14">>},{<<"content-type">>,<<"application/x-www-form-urlencoded; charset=UTF-8">>},{<<"cookie">>,<<"_domoapi_user_key=SFMyNTY.g3QAAAABbQAAABZndWFyZGlhbl9kZWZhdWx0X3Rva2VubQAAAYZleUpoYkdjaU9pSklVelV4TWlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaGRXUWlPaUprYjIxdllYQnBYM1Z6WlhJaUxDSmxlSEFpT2pFMU56WTBPRGc1TnpFc0ltbGhkQ0k2TVRVM05EQTJPVGMzTVN3aWFYTnpJam9pWkc5dGIyRndhVjkxYzJWeUlpd2lhblJwSWpvaU56SXlNemc0TURJdE5qQmtaQzAwT1RRd0xUazFZVFF0WVRrMU5EVXpOakJtWldJd0lpd2libUptSWpveE5UYzBNRFk1Tnpjd0xDSnpkV0lpT2lJM056Wm1Zek5sTkMweU1ETmpMVFF6TjJZdFlXSXlOeTA1T1RreE9ERTRNRGN4T0dZaUxDSjBlWEFpT2lKaFkyTmxjM01pZlEuVndFdlB5dU82OUluU1ZveXNXVXFTdUZFbm5PYzN5OEFUTEZiYzMzOTIxMFhVNFpPMFlpNDlXT3EzbG5pdUhqTnYxcTkydzBiZnFjSUplb1BCUDlIa1E.aUREG1yRFH6OU6eD_6CrntIYOoNPRKiewgDIUENBgDs">>},{<<"host">>,<<"user-api.domoface.ru">>},{<<"user-agent">>,<<"Dalvik/2.1.0 (Linux; U; Android 9; LLD-L31 Build/HONORLLD-L31)">>},{<<"x-forwarded-for">>,<<"85.26.235.206">>},{<<"x-forwarded-host">>,<<"user-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"85.26.235.206">>}],request_path => <<"/users/send_candidate">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>},{<<"x-request-id">>,<<"FdhOhcwktn3FDCwAAAZB">>}],scheme => http,script_name => [],secret_key_base => <<"luzga7DdpB46XmM4h5AYlvAs77NA6uHsptQ4VKt3K4/Qg9aUt+UiPiXsbgXHDiul">>,state => unset,status => nil},nil],[{file,"lib/domoapi_user_web/controllers/fallback_controller.ex"},{line,10}]},{'Elixir.DomoapiUserWeb.SessionController',action,2,[{file,"lib/domoapi_user_web/controllers/session_controller.ex"},{line,1}]},{'Elixir.DomoapiUserWeb.SessionController',phoenix_controller_pipeline,2,[{file,"lib/domoapi_user_web/controllers/session_controller.ex"},{line,1}]},{'Elixir.DomoapiUserWeb.Endpoint',instrument,4,[{file,"lib/domoapi_user_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',1,[{file,"lib/phoenix/router.ex"},{line,275}]},{'Elixir.DomoapiUserWeb.Endpoint',plug_builder_call,2,[{file,"lib/domoapi_user_web/endpoint.ex"},{line,1}]},{'Elixir.DomoapiUserWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.DomoapiUserWeb.Endpoint',call,2,[{file,"lib/domoapi_user_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,33}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.DomoapiUserWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 14,cert => undefined,has_body => true,headers => #{<<"accept-charset">> => <<"UTF-8">>,<<"accept-encoding">> => <<"gzip">>,<<"connection">> => <<"upgrade">>,<<"content-length">> => <<"14">>,<<"content-type">> => <<"application/x-www-form-urlencoded; charset=UTF-8">>,<<"cookie">> => <<"_domoapi_user_key=SFMyNTY.g3QAAAABbQAAABZndWFyZGlhbl9kZWZhdWx0X3Rva2VubQAAAYZleUpoYkdjaU9pSklVelV4TWlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaGRXUWlPaUprYjIxdllYQnBYM1Z6WlhJaUxDSmxlSEFpT2pFMU56WTBPRGc1TnpFc0ltbGhkQ0k2TVRVM05EQTJPVGMzTVN3aWFYTnpJam9pWkc5dGIyRndhVjkxYzJWeUlpd2lhblJwSWpvaU56SXlNemc0TURJdE5qQmtaQzAwT1RRd0xUazFZVFF0WVRrMU5EVXpOakJtWldJd0lpd2libUptSWpveE5UYzBNRFk1Tnpjd0xDSnpkV0lpT2lJM056Wm1Zek5sTkMweU1ETmpMVFF6TjJZdFlXSXlOeTA1T1RreE9ERTRNRGN4T0dZaUxDSjBlWEFpT2lKaFkyTmxjM01pZlEuVndFdlB5dU82OUluU1ZveXNXVXFTdUZFbm5PYzN5OEFUTEZiYzMzOTIxMFhVNFpPMFlpNDlXT3EzbG5pdUhqTnYxcTkydzBiZnFjSUplb1BCUDlIa1E.aUREG1yRFH6OU6eD_6CrntIYOoNPRKiewgDIUENBgDs">>,<<"host">> => <<"user-api.domoface.ru">>,<<"user-agent">> => <<"Dalvik/2.1.0 (Linux; U; Android 9; LLD-L31 Build/HONORLLD-L31)">>,<<"x-forwarded-for">> => <<"85.26.235.206">>,<<"x-forwarded-host">> => <<"user-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"85.26.235.206">>},host => <<"user-api.domoface.ru">>,host_info => undefined,method => <<"POST">>,path => <<"/users/send_candidate">>,path_info => undefined,peer => {{127,0,0,1},59630},pid => <0.1404.0>,port => 80,qs => <<>>,ref => 'Elixir.DomoapiUserWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},9080},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"user-api.domoface.ru">>,method => <<"POST">>,owner => <0.1405.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"users">>,<<"send_candidate">>],path_params => #{},port => 80,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept-charset">>,<<"UTF-8">>},{<<"accept-encoding">>,<<"gzip">>},{<<"connection">>,<<"upgrade">>},{<<"content-length">>,<<"14">>},{<<"content-type">>,<<"application/x-www-form-urlencoded; charset=UTF-8">>},{<<"cookie">>,<<"_domoapi_user_key=SFMyNTY.g3QAAAABbQAAABZndWFyZGlhbl9kZWZhdWx0X3Rva2VubQAAAYZleUpoYkdjaU9pSklVelV4TWlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaGRXUWlPaUprYjIxdllYQnBYM1Z6WlhJaUxDSmxlSEFpT2pFMU56WTBPRGc1TnpFc0ltbGhkQ0k2TVRVM05EQTJPVGMzTVN3aWFYTnpJam9pWkc5dGIyRndhVjkxYzJWeUlpd2lhblJwSWpvaU56SXlNemc0TURJdE5qQmtaQzAwT1RRd0xUazFZVFF0WVRrMU5EVXpOakJtWldJd0lpd2libUptSWpveE5UYzBNRFk1Tnpjd0xDSnpkV0lpT2lJM056Wm1Zek5sTkMweU1ETmpMVFF6TjJZdFlXSXlOeTA1T1RreE9ERTRNRGN4T0dZaUxDSjBlWEFpT2lKaFkyTmxjM01pZlEuVndFdlB5dU82OUluU1ZveXNXVXFTdUZFbm5PYzN5OEFUTEZiYzMzOTIxMFhVNFpPMFlpNDlXT3EzbG5pdUhqTnYxcTkydzBiZnFjSUplb1BCUDlIa1E.aUREG1yRFH6OU6eD_6CrntIYOoNPRKiewgDIUENBgDs">>},{<<"host">>,<<"user-api.domoface.ru">>},{<<"user-agent">>,<<"Dalvik/2.1.0 (Linux; U; Android 9; LLD-L31 Build/HONORLLD-L31)">>},{<<"x-forwarded-for">>,<<"85.26.235.206">>},{<<"x-forwarded-host">>,<<"user-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"85.26.235.206">>}],request_path => <<"/users/send_candidate">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}
    ancestors: [<0.1404.0>,<0.527.0>,<0.526.0>,'Elixir.DomoapiUserWeb.Endpoint','Elixir.DomoapiUser.Supervisor',<0.505.0>]
    message_queue_len: 0
    messages: []
    links: [<0.1404.0>]
    dictionary: [{logger_metadata,{true,[{request_id,<<"FdhOhcwktn3FDCwAAAZB">>}]}}]
    trap_exit: false
    status: running
    heap_size: 6772
    stack_size: 27
    reductions: 169177
  neighbours:
2019-11-18 16:26:46 =ERROR REPORT====
Ranch listener 'Elixir.DomoapiUserWeb.Endpoint.HTTP', connection process <0.1404.0>, stream 1 had its request process <0.1405.0> exit with reason {{#{'__exception__' => true,'__struct__' => 'Elixir.FunctionClauseError',args => nil,arity => 2,clauses => nil,function => call,kind => nil,module => 'Elixir.DomoapiUserWeb.FallbackController'},[{'Elixir.DomoapiUserWeb.FallbackController',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 14,cert => undefined,has_body => true,has_read_body => true,headers => #{<<"accept-charset">> => <<"UTF-8">>,<<"accept-encoding">> => <<"gzip">>,<<"connection">> => <<"upgrade">>,<<"content-length">> => <<"14">>,<<"content-type">> => <<"application/x-www-form-urlencoded; charset=UTF-8">>,<<"cookie">> => <<"_domoapi_user_key=SFMyNTY.g3QAAAABbQAAABZndWFyZGlhbl9kZWZhdWx0X3Rva2VubQAAAYZleUpoYkdjaU9pSklVelV4TWlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaGRXUWlPaUprYjIxdllYQnBYM1Z6WlhJaUxDSmxlSEFpT2pFMU56WTBPRGc1TnpFc0ltbGhkQ0k2TVRVM05EQTJPVGMzTVN3aWFYTnpJam9pWkc5dGIyRndhVjkxYzJWeUlpd2lhblJwSWpvaU56SXlNemc0TURJdE5qQmtaQzAwT1RRd0xUazFZVFF0WVRrMU5EVXpOakJtWldJd0lpd2libUptSWpveE5UYzBNRFk1Tnpjd0xDSnpkV0lpT2lJM056Wm1Zek5sTkMweU1ETmpMVFF6TjJZdFlXSXlOeTA1T1RreE9ERTRNRGN4T0dZaUxDSjBlWEFpT2lKaFkyTmxjM01pZlEuVndFdlB5dU82OUluU1ZveXNXVXFTdUZFbm5PYzN5OEFUTEZiYzMzOTIxMFhVNFpPMFlpNDlXT3EzbG5pdUhqTnYxcTkydzBiZnFjSUplb1BCUDlIa1E.aUREG1yRFH6OU6eD_6CrntIYOoNPRKiewgDIUENBgDs">>,<<"host">> => <<"user-api.domoface.ru">>,<<"user-agent">> => <<"Dalvik/2.1.0 (Linux; U; Android 9; LLD-L31 Build/HONORLLD-L31)">>,<<"x-forwarded-for">> => <<"85.26.235.206">>,<<"x-forwarded-host">> => <<"user-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"85.26.235.206">>},host => <<"user-api.domoface.ru">>,host_info => undefined,method => <<"POST">>,path => <<"/users/send_candidate">>,path_info => undefined,peer => {{127,0,0,1},59630},pid => <0.1404.0>,port => 80,qs => <<>>,ref => 'Elixir.DomoapiUserWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},9080},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [#Fun<Elixir.Plug.Session.0.35161479>,#Fun<Elixir.Plug.Telemetry.0.66442134>,#Fun<Elixir.Phoenix.LiveReloader.0.121962774>],body_params => #{<<"candidate">> => <<"null">>},cookies => #{<<"_domoapi_user_key">> => <<"SFMyNTY.g3QAAAABbQAAABZndWFyZGlhbl9kZWZhdWx0X3Rva2VubQAAAYZleUpoYkdjaU9pSklVelV4TWlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaGRXUWlPaUprYjIxdllYQnBYM1Z6WlhJaUxDSmxlSEFpT2pFMU56WTBPRGc1TnpFc0ltbGhkQ0k2TVRVM05EQTJPVGMzTVN3aWFYTnpJam9pWkc5dGIyRndhVjkxYzJWeUlpd2lhblJwSWpvaU56SXlNemc0TURJdE5qQmtaQzAwT1RRd0xUazFZVFF0WVRrMU5EVXpOakJtWldJd0lpd2libUptSWpveE5UYzBNRFk1Tnpjd0xDSnpkV0lpT2lJM056Wm1Zek5sTkMweU1ETmpMVFF6TjJZdFlXSXlOeTA1T1RreE9ERTRNRGN4T0dZaUxDSjBlWEFpT2lKaFkyTmxjM01pZlEuVndFdlB5dU82OUluU1ZveXNXVXFTdUZFbm5PYzN5OEFUTEZiYzMzOTIxMFhVNFpPMFlpNDlXT3EzbG5pdUhqTnYxcTkydzBiZnFjSUplb1BCUDlIa1E.aUREG1yRFH6OU6eD_6CrntIYOoNPRKiewgDIUENBgDs">>},halted => false,host => <<"user-api.domoface.ru">>,method => <<"POST">>,owner => <0.1405.0>,params => #{<<"candidate">> => <<"null">>},path_info => [<<"users">>,<<"send_candidate">>],path_params => #{},port => 80,private => #{'Elixir.DomoapiUserWeb.Router' => {[],#{'Elixir.PhoenixSwagger.Plug.SwaggerUI' => []}},guardian_default_claims => #{<<"aud">> => <<"domoapi_user">>,<<"exp">> => 1576488971,<<"iat">> => 1574069771,<<"iss">> => <<"domoapi_user">>,<<"jti">> => <<"72238802-60dd-4940-95a4-a9545360feb0">>,<<"nbf">> => 1574069770,<<"sub">> => <<"776fc3e4-203c-437f-ab27-99918180718f">>,<<"typ">> => <<"access">>},guardian_default_resource => #{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => #{'__cardinality__' => many,'__field__' => devices,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 15,hour => 12,microsecond => {0,0},minute => 39,month => 11,second => 36,year => 2019},password => <<"$2b$12$XlddKF/xtUSibCfUPGIFder8BVD04Qh9qhAIdee/iSdJE48pNnIKe">>,phone_number => <<"89991945767">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<"Azat verni 2 rubl">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 13,year => 2019}},guardian_default_token => <<"eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJkb21vYXBpX3VzZXIiLCJleHAiOjE1NzY0ODg5NzEsImlhdCI6MTU3NDA2OTc3MSwiaXNzIjoiZG9tb2FwaV91c2VyIiwianRpIjoiNzIyMzg4MDItNjBkZC00OTQwLTk1YTQtYTk1NDUzNjBmZWIwIiwibmJmIjoxNTc0MDY5NzcwLCJzdWIiOiI3NzZmYzNlNC0yMDNjLTQzN2YtYWIyNy05OTkxODE4MDcxOGYiLCJ0eXAiOiJhY2Nlc3MifQ.VwEvPyuO69InSVoysWUqSuFEnnOc3y8ATLFbc339210XU4ZO0Yi49WOq3lniuHjNv1q92w0bfqcIJeoPBP9HkQ">>,guardian_error_handler => 'Elixir.DomoapiUserWeb.FallbackController',guardian_module => 'Elixir.DomoapiUser.Guardian',phoenix_action => send_candidate,phoenix_controller => 'Elixir.DomoapiUserWeb.SessionController',phoenix_endpoint => 'Elixir.DomoapiUserWeb.Endpoint',phoenix_format => <<"json">>,phoenix_layout => {'Elixir.DomoapiUserWeb.LayoutView',app},phoenix_pipelines => [api,authorized],phoenix_router => 'Elixir.DomoapiUserWeb.Router',phoenix_view => 'Elixir.DomoapiUserWeb.SessionView',plug_session => #{<<"guardian_default_token">> => <<"eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJkb21vYXBpX3VzZXIiLCJleHAiOjE1NzY0ODg5NzEsImlhdCI6MTU3NDA2OTc3MSwiaXNzIjoiZG9tb2FwaV91c2VyIiwianRpIjoiNzIyMzg4MDItNjBkZC00OTQwLTk1YTQtYTk1NDUzNjBmZWIwIiwibmJmIjoxNTc0MDY5NzcwLCJzdWIiOiI3NzZmYzNlNC0yMDNjLTQzN2YtYWIyNy05OTkxODE4MDcxOGYiLCJ0eXAiOiJhY2Nlc3MifQ.VwEvPyuO69InSVoysWUqSuFEnnOc3y8ATLFbc339210XU4ZO0Yi49WOq3lniuHjNv1q92w0bfqcIJeoPBP9HkQ">>},plug_session_fetch => done},query_params => #{},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{<<"_domoapi_user_key">> => <<"SFMyNTY.g3QAAAABbQAAABZndWFyZGlhbl9kZWZhdWx0X3Rva2VubQAAAYZleUpoYkdjaU9pSklVelV4TWlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaGRXUWlPaUprYjIxdllYQnBYM1Z6WlhJaUxDSmxlSEFpT2pFMU56WTBPRGc1TnpFc0ltbGhkQ0k2TVRVM05EQTJPVGMzTVN3aWFYTnpJam9pWkc5dGIyRndhVjkxYzJWeUlpd2lhblJwSWpvaU56SXlNemc0TURJdE5qQmtaQzAwT1RRd0xUazFZVFF0WVRrMU5EVXpOakJtWldJd0lpd2libUptSWpveE5UYzBNRFk1Tnpjd0xDSnpkV0lpT2lJM056Wm1Zek5sTkMweU1ETmpMVFF6TjJZdFlXSXlOeTA1T1RreE9ERTRNRGN4T0dZaUxDSjBlWEFpT2lKaFkyTmxjM01pZlEuVndFdlB5dU82OUluU1ZveXNXVXFTdUZFbm5PYzN5OEFUTEZiYzMzOTIxMFhVNFpPMFlpNDlXT3EzbG5pdUhqTnYxcTkydzBiZnFjSUplb1BCUDlIa1E.aUREG1yRFH6OU6eD_6CrntIYOoNPRKiewgDIUENBgDs">>},req_headers => [{<<"accept-charset">>,<<"UTF-8">>},{<<"accept-encoding">>,<<"gzip">>},{<<"connection">>,<<"upgrade">>},{<<"content-length">>,<<"14">>},{<<"content-type">>,<<"application/x-www-form-urlencoded; charset=UTF-8">>},{<<"cookie">>,<<"_domoapi_user_key=SFMyNTY.g3QAAAABbQAAABZndWFyZGlhbl9kZWZhdWx0X3Rva2VubQAAAYZleUpoYkdjaU9pSklVelV4TWlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaGRXUWlPaUprYjIxdllYQnBYM1Z6WlhJaUxDSmxlSEFpT2pFMU56WTBPRGc1TnpFc0ltbGhkQ0k2TVRVM05EQTJPVGMzTVN3aWFYTnpJam9pWkc5dGIyRndhVjkxYzJWeUlpd2lhblJwSWpvaU56SXlNemc0TURJdE5qQmtaQzAwT1RRd0xUazFZVFF0WVRrMU5EVXpOakJtWldJd0lpd2libUptSWpveE5UYzBNRFk1Tnpjd0xDSnpkV0lpT2lJM056Wm1Zek5sTkMweU1ETmpMVFF6TjJZdFlXSXlOeTA1T1RreE9ERTRNRGN4T0dZaUxDSjBlWEFpT2lKaFkyTmxjM01pZlEuVndFdlB5dU82OUluU1ZveXNXVXFTdUZFbm5PYzN5OEFUTEZiYzMzOTIxMFhVNFpPMFlpNDlXT3EzbG5pdUhqTnYxcTkydzBiZnFjSUplb1BCUDlIa1E.aUREG1yRFH6OU6eD_6CrntIYOoNPRKiewgDIUENBgDs">>},{<<"host">>,<<"user-api.domoface.ru">>},{<<"user-agent">>,<<"Dalvik/2.1.0 (Linux; U; Android 9; LLD-L31 Build/HONORLLD-L31)">>},{<<"x-forwarded-for">>,<<"85.26.235.206">>},{<<"x-forwarded-host">>,<<"user-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"85.26.235.206">>}],request_path => <<"/users/send_candidate">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>},{<<"x-request-id">>,<<"FdhOhcwktn3FDCwAAAZB">>}],scheme => http,script_name => [],secret_key_base => <<"luzga7DdpB46XmM4h5AYlvAs77NA6uHsptQ4VKt3K4/Qg9aUt+UiPiXsbgXHDiul">>,state => unset,status => nil},nil],[{file,"lib/domoapi_user_web/controllers/fallback_controller.ex"},{line,10}]},{'Elixir.DomoapiUserWeb.SessionController',action,2,[{file,"lib/domoapi_user_web/controllers/session_controller.ex"},{line,1}]},{'Elixir.DomoapiUserWeb.SessionController',phoenix_controller_pipeline,2,[{file,"lib/domoapi_user_web/controllers/session_controller.ex"},{line,1}]},{'Elixir.DomoapiUserWeb.Endpoint',instrument,4,[{file,"lib/domoapi_user_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',1,[{file,"lib/phoenix/router.ex"},{line,275}]},{'Elixir.DomoapiUserWeb.Endpoint',plug_builder_call,2,[{file,"lib/domoapi_user_web/endpoint.ex"},{line,1}]},{'Elixir.DomoapiUserWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.DomoapiUserWeb.Endpoint',call,2,[{file,"lib/domoapi_user_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,33}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.DomoapiUserWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 14,cert => undefined,has_body => true,headers => #{<<"accept-charset">> => <<"UTF-8">>,<<"accept-encoding">> => <<"gzip">>,<<"connection">> => <<"upgrade">>,<<"content-length">> => <<"14">>,<<"content-type">> => <<"application/x-www-form-urlencoded; charset=UTF-8">>,<<"cookie">> => <<"_domoapi_user_key=SFMyNTY.g3QAAAABbQAAABZndWFyZGlhbl9kZWZhdWx0X3Rva2VubQAAAYZleUpoYkdjaU9pSklVelV4TWlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaGRXUWlPaUprYjIxdllYQnBYM1Z6WlhJaUxDSmxlSEFpT2pFMU56WTBPRGc1TnpFc0ltbGhkQ0k2TVRVM05EQTJPVGMzTVN3aWFYTnpJam9pWkc5dGIyRndhVjkxYzJWeUlpd2lhblJwSWpvaU56SXlNemc0TURJdE5qQmtaQzAwT1RRd0xUazFZVFF0WVRrMU5EVXpOakJtWldJd0lpd2libUptSWpveE5UYzBNRFk1Tnpjd0xDSnpkV0lpT2lJM056Wm1Zek5sTkMweU1ETmpMVFF6TjJZdFlXSXlOeTA1T1RreE9ERTRNRGN4T0dZaUxDSjBlWEFpT2lKaFkyTmxjM01pZlEuVndFdlB5dU82OUluU1ZveXNXVXFTdUZFbm5PYzN5OEFUTEZiYzMzOTIxMFhVNFpPMFlpNDlXT3EzbG5pdUhqTnYxcTkydzBiZnFjSUplb1BCUDlIa1E.aUREG1yRFH6OU6eD_6CrntIYOoNPRKiewgDIUENBgDs">>,<<"host">> => <<"user-api.domoface.ru">>,<<"user-agent">> => <<"Dalvik/2.1.0 (Linux; U; Android 9; LLD-L31 Build/HONORLLD-L31)">>,<<"x-forwarded-for">> => <<"85.26.235.206">>,<<"x-forwarded-host">> => <<"user-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"85.26.235.206">>},host => <<"user-api.domoface.ru">>,host_info => undefined,method => <<"POST">>,path => <<"/users/send_candidate">>,path_info => undefined,peer => {{127,0,0,1},59630},pid => <0.1404.0>,port => 80,qs => <<>>,ref => 'Elixir.DomoapiUserWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},9080},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"user-api.domoface.ru">>,method => <<"POST">>,owner => <0.1405.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"users">>,<<"send_candidate">>],path_params => #{},port => 80,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept-charset">>,<<"UTF-8">>},{<<"accept-encoding">>,<<"gzip">>},{<<"connection">>,<<"upgrade">>},{<<"content-length">>,<<"14">>},{<<"content-type">>,<<"application/x-www-form-urlencoded; charset=UTF-8">>},{<<"cookie">>,<<"_domoapi_user_key=SFMyNTY.g3QAAAABbQAAABZndWFyZGlhbl9kZWZhdWx0X3Rva2VubQAAAYZleUpoYkdjaU9pSklVelV4TWlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaGRXUWlPaUprYjIxdllYQnBYM1Z6WlhJaUxDSmxlSEFpT2pFMU56WTBPRGc1TnpFc0ltbGhkQ0k2TVRVM05EQTJPVGMzTVN3aWFYTnpJam9pWkc5dGIyRndhVjkxYzJWeUlpd2lhblJwSWpvaU56SXlNemc0TURJdE5qQmtaQzAwT1RRd0xUazFZVFF0WVRrMU5EVXpOakJtWldJd0lpd2libUptSWpveE5UYzBNRFk1Tnpjd0xDSnpkV0lpT2lJM056Wm1Zek5sTkMweU1ETmpMVFF6TjJZdFlXSXlOeTA1T1RreE9ERTRNRGN4T0dZaUxDSjBlWEFpT2lKaFkyTmxjM01pZlEuVndFdlB5dU82OUluU1ZveXNXVXFTdUZFbm5PYzN5OEFUTEZiYzMzOTIxMFhVNFpPMFlpNDlXT3EzbG5pdUhqTnYxcTkydzBiZnFjSUplb1BCUDlIa1E.aUREG1yRFH6OU6eD_6CrntIYOoNPRKiewgDIUENBgDs">>},{<<"host">>,<<"user-api.domoface.ru">>},{<<"user-agent">>,<<"Dalvik/2.1.0 (Linux; U; Android 9; LLD-L31 Build/HONORLLD-L31)">>},{<<"x-forwarded-for">>,<<"85.26.235.206">>},{<<"x-forwarded-host">>,<<"user-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"85.26.235.206">>}],request_path => <<"/users/send_candidate">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}} and stacktrace [{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]
2019-11-18 16:26:46 =CRASH REPORT====
  crasher:
    initial call: cowboy_stream_h:request_process/3
    pid: <0.1409.0>
    registered_name: []
    exception exit: {{{{#{'__exception__' => true,'__struct__' => 'Elixir.FunctionClauseError',args => nil,arity => 2,clauses => nil,function => call,kind => nil,module => 'Elixir.DomoapiUserWeb.FallbackController'},[{'Elixir.DomoapiUserWeb.FallbackController',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 230,cert => undefined,has_body => true,has_read_body => true,headers => #{<<"accept-charset">> => <<"UTF-8">>,<<"accept-encoding">> => <<"gzip">>,<<"connection">> => <<"upgrade">>,<<"content-length">> => <<"230">>,<<"content-type">> => <<"application/x-www-form-urlencoded; charset=UTF-8">>,<<"cookie">> => <<"_domoapi_user_key=SFMyNTY.g3QAAAABbQAAABZndWFyZGlhbl9kZWZhdWx0X3Rva2VubQAAAYZleUpoYkdjaU9pSklVelV4TWlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaGRXUWlPaUprYjIxdllYQnBYM1Z6WlhJaUxDSmxlSEFpT2pFMU56WTBPRGc1TnpFc0ltbGhkQ0k2TVRVM05EQTJPVGMzTVN3aWFYTnpJam9pWkc5dGIyRndhVjkxYzJWeUlpd2lhblJwSWpvaU56SXlNemc0TURJdE5qQmtaQzAwT1RRd0xUazFZVFF0WVRrMU5EVXpOakJtWldJd0lpd2libUptSWpveE5UYzBNRFk1Tnpjd0xDSnpkV0lpT2lJM056Wm1Zek5sTkMweU1ETmpMVFF6TjJZdFlXSXlOeTA1T1RreE9ERTRNRGN4T0dZaUxDSjBlWEFpT2lKaFkyTmxjM01pZlEuVndFdlB5dU82OUluU1ZveXNXVXFTdUZFbm5PYzN5OEFUTEZiYzMzOTIxMFhVNFpPMFlpNDlXT3EzbG5pdUhqTnYxcTkydzBiZnFjSUplb1BCUDlIa1E.aUREG1yRFH6OU6eD_6CrntIYOoNPRKiewgDIUENBgDs">>,<<"host">> => <<"user-api.domoface.ru">>,<<"user-agent">> => <<"Dalvik/2.1.0 (Linux; U; Android 9; LLD-L31 Build/HONORLLD-L31)">>,<<"x-forwarded-for">> => <<"85.26.235.206">>,<<"x-forwarded-host">> => <<"user-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"85.26.235.206">>},host => <<"user-api.domoface.ru">>,host_info => undefined,method => <<"POST">>,path => <<"/users/send_candidate">>,path_info => undefined,peer => {{127,0,0,1},59632},pid => <0.1408.0>,port => 80,qs => <<>>,ref => 'Elixir.DomoapiUserWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},9080},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [#Fun<Elixir.Plug.Session.0.35161479>,#Fun<Elixir.Plug.Telemetry.0.66442134>,#Fun<Elixir.Phoenix.LiveReloader.0.121962774>],body_params => #{<<"candidate">> => <<"{\"candidate\":\"candidate:2212263285 1 udp 33562367 3.123.78.125 65155 typ relay raddr 85.26.235.206 rport 65421 generation 0 ufrag Lzjg network-cost 999\",\"sdpMid\":\"0\",\"sdpMLineIndex\":0}">>},cookies => #{<<"_domoapi_user_key">> => <<"SFMyNTY.g3QAAAABbQAAABZndWFyZGlhbl9kZWZhdWx0X3Rva2VubQAAAYZleUpoYkdjaU9pSklVelV4TWlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaGRXUWlPaUprYjIxdllYQnBYM1Z6WlhJaUxDSmxlSEFpT2pFMU56WTBPRGc1TnpFc0ltbGhkQ0k2TVRVM05EQTJPVGMzTVN3aWFYTnpJam9pWkc5dGIyRndhVjkxYzJWeUlpd2lhblJwSWpvaU56SXlNemc0TURJdE5qQmtaQzAwT1RRd0xUazFZVFF0WVRrMU5EVXpOakJtWldJd0lpd2libUptSWpveE5UYzBNRFk1Tnpjd0xDSnpkV0lpT2lJM056Wm1Zek5sTkMweU1ETmpMVFF6TjJZdFlXSXlOeTA1T1RreE9ERTRNRGN4T0dZaUxDSjBlWEFpT2lKaFkyTmxjM01pZlEuVndFdlB5dU82OUluU1ZveXNXVXFTdUZFbm5PYzN5OEFUTEZiYzMzOTIxMFhVNFpPMFlpNDlXT3EzbG5pdUhqTnYxcTkydzBiZnFjSUplb1BCUDlIa1E.aUREG1yRFH6OU6eD_6CrntIYOoNPRKiewgDIUENBgDs">>},halted => false,host => <<"user-api.domoface.ru">>,method => <<"POST">>,owner => <0.1409.0>,params => #{<<"candidate">> => <<"{\"candidate\":\"candidate:2212263285 1 udp 33562367 3.123.78.125 65155 typ relay raddr 85.26.235.206 rport 65421 generation 0 ufrag Lzjg network-cost 999\",\"sdpMid\":\"0\",\"sdpMLineIndex\":0}">>},path_info => [<<"users">>,<<"send_candidate">>],path_params => #{},port => 80,private => #{'Elixir.DomoapiUserWeb.Router' => {[],#{'Elixir.PhoenixSwagger.Plug.SwaggerUI' => []}},guardian_default_claims => #{<<"aud">> => <<"domoapi_user">>,<<"exp">> => 1576488971,<<"iat">> => 1574069771,<<"iss">> => <<"domoapi_user">>,<<"jti">> => <<"72238802-60dd-4940-95a4-a9545360feb0">>,<<"nbf">> => 1574069770,<<"sub">> => <<"776fc3e4-203c-437f-ab27-99918180718f">>,<<"typ">> => <<"access">>},guardian_default_resource => #{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => #{'__cardinality__' => many,'__field__' => devices,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 15,hour => 12,microsecond => {0,0},minute => 39,month => 11,second => 36,year => 2019},password => <<"$2b$12$XlddKF/xtUSibCfUPGIFder8BVD04Qh9qhAIdee/iSdJE48pNnIKe">>,phone_number => <<"89991945767">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<"Azat verni 2 rubl">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 13,year => 2019}},guardian_default_token => <<"eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJkb21vYXBpX3VzZXIiLCJleHAiOjE1NzY0ODg5NzEsImlhdCI6MTU3NDA2OTc3MSwiaXNzIjoiZG9tb2FwaV91c2VyIiwianRpIjoiNzIyMzg4MDItNjBkZC00OTQwLTk1YTQtYTk1NDUzNjBmZWIwIiwibmJmIjoxNTc0MDY5NzcwLCJzdWIiOiI3NzZmYzNlNC0yMDNjLTQzN2YtYWIyNy05OTkxODE4MDcxOGYiLCJ0eXAiOiJhY2Nlc3MifQ.VwEvPyuO69InSVoysWUqSuFEnnOc3y8ATLFbc339210XU4ZO0Yi49WOq3lniuHjNv1q92w0bfqcIJeoPBP9HkQ">>,guardian_error_handler => 'Elixir.DomoapiUserWeb.FallbackController',guardian_module => 'Elixir.DomoapiUser.Guardian',phoenix_action => send_candidate,phoenix_controller => 'Elixir.DomoapiUserWeb.SessionController',phoenix_endpoint => 'Elixir.DomoapiUserWeb.Endpoint',phoenix_format => <<"json">>,phoenix_layout => {'Elixir.DomoapiUserWeb.LayoutView',app},phoenix_pipelines => [api,authorized],phoenix_router => 'Elixir.DomoapiUserWeb.Router',phoenix_view => 'Elixir.DomoapiUserWeb.SessionView',plug_session => #{<<"guardian_default_token">> => <<"eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJkb21vYXBpX3VzZXIiLCJleHAiOjE1NzY0ODg5NzEsImlhdCI6MTU3NDA2OTc3MSwiaXNzIjoiZG9tb2FwaV91c2VyIiwianRpIjoiNzIyMzg4MDItNjBkZC00OTQwLTk1YTQtYTk1NDUzNjBmZWIwIiwibmJmIjoxNTc0MDY5NzcwLCJzdWIiOiI3NzZmYzNlNC0yMDNjLTQzN2YtYWIyNy05OTkxODE4MDcxOGYiLCJ0eXAiOiJhY2Nlc3MifQ.VwEvPyuO69InSVoysWUqSuFEnnOc3y8ATLFbc339210XU4ZO0Yi49WOq3lniuHjNv1q92w0bfqcIJeoPBP9HkQ">>},plug_session_fetch => done},query_params => #{},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{<<"_domoapi_user_key">> => <<"SFMyNTY.g3QAAAABbQAAABZndWFyZGlhbl9kZWZhdWx0X3Rva2VubQAAAYZleUpoYkdjaU9pSklVelV4TWlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaGRXUWlPaUprYjIxdllYQnBYM1Z6WlhJaUxDSmxlSEFpT2pFMU56WTBPRGc1TnpFc0ltbGhkQ0k2TVRVM05EQTJPVGMzTVN3aWFYTnpJam9pWkc5dGIyRndhVjkxYzJWeUlpd2lhblJwSWpvaU56SXlNemc0TURJdE5qQmtaQzAwT1RRd0xUazFZVFF0WVRrMU5EVXpOakJtWldJd0lpd2libUptSWpveE5UYzBNRFk1Tnpjd0xDSnpkV0lpT2lJM056Wm1Zek5sTkMweU1ETmpMVFF6TjJZdFlXSXlOeTA1T1RreE9ERTRNRGN4T0dZaUxDSjBlWEFpT2lKaFkyTmxjM01pZlEuVndFdlB5dU82OUluU1ZveXNXVXFTdUZFbm5PYzN5OEFUTEZiYzMzOTIxMFhVNFpPMFlpNDlXT3EzbG5pdUhqTnYxcTkydzBiZnFjSUplb1BCUDlIa1E.aUREG1yRFH6OU6eD_6CrntIYOoNPRKiewgDIUENBgDs">>},req_headers => [{<<"accept-charset">>,<<"UTF-8">>},{<<"accept-encoding">>,<<"gzip">>},{<<"connection">>,<<"upgrade">>},{<<"content-length">>,<<"230">>},{<<"content-type">>,<<"application/x-www-form-urlencoded; charset=UTF-8">>},{<<"cookie">>,<<"_domoapi_user_key=SFMyNTY.g3QAAAABbQAAABZndWFyZGlhbl9kZWZhdWx0X3Rva2VubQAAAYZleUpoYkdjaU9pSklVelV4TWlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaGRXUWlPaUprYjIxdllYQnBYM1Z6WlhJaUxDSmxlSEFpT2pFMU56WTBPRGc1TnpFc0ltbGhkQ0k2TVRVM05EQTJPVGMzTVN3aWFYTnpJam9pWkc5dGIyRndhVjkxYzJWeUlpd2lhblJwSWpvaU56SXlNemc0TURJdE5qQmtaQzAwT1RRd0xUazFZVFF0WVRrMU5EVXpOakJtWldJd0lpd2libUptSWpveE5UYzBNRFk1Tnpjd0xDSnpkV0lpT2lJM056Wm1Zek5sTkMweU1ETmpMVFF6TjJZdFlXSXlOeTA1T1RreE9ERTRNRGN4T0dZaUxDSjBlWEFpT2lKaFkyTmxjM01pZlEuVndFdlB5dU82OUluU1ZveXNXVXFTdUZFbm5PYzN5OEFUTEZiYzMzOTIxMFhVNFpPMFlpNDlXT3EzbG5pdUhqTnYxcTkydzBiZnFjSUplb1BCUDlIa1E.aUREG1yRFH6OU6eD_6CrntIYOoNPRKiewgDIUENBgDs">>},{<<"host">>,<<"user-api.domoface.ru">>},{<<"user-agent">>,<<"Dalvik/2.1.0 (Linux; U; Android 9; LLD-L31 Build/HONORLLD-L31)">>},{<<"x-forwarded-for">>,<<"85.26.235.206">>},{<<"x-forwarded-host">>,<<"user-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"85.26.235.206">>}],request_path => <<"/users/send_candidate">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>},{<<"x-request-id">>,<<"FdhOhc88BJwMjqgAAAOC">>}],scheme => http,script_name => [],secret_key_base => <<"luzga7DdpB46XmM4h5AYlvAs77NA6uHsptQ4VKt3K4/Qg9aUt+UiPiXsbgXHDiul">>,state => unset,status => nil},nil],[{file,"lib/domoapi_user_web/controllers/fallback_controller.ex"},{line,10}]},{'Elixir.DomoapiUserWeb.SessionController',action,2,[{file,"lib/domoapi_user_web/controllers/session_controller.ex"},{line,1}]},{'Elixir.DomoapiUserWeb.SessionController',phoenix_controller_pipeline,2,[{file,"lib/domoapi_user_web/controllers/session_controller.ex"},{line,1}]},{'Elixir.DomoapiUserWeb.Endpoint',instrument,4,[{file,"lib/domoapi_user_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',1,[{file,"lib/phoenix/router.ex"},{line,275}]},{'Elixir.DomoapiUserWeb.Endpoint',plug_builder_call,2,[{file,"lib/domoapi_user_web/endpoint.ex"},{line,1}]},{'Elixir.DomoapiUserWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.DomoapiUserWeb.Endpoint',call,2,[{file,"lib/domoapi_user_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,33}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.DomoapiUserWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 230,cert => undefined,has_body => true,headers => #{<<"accept-charset">> => <<"UTF-8">>,<<"accept-encoding">> => <<"gzip">>,<<"connection">> => <<"upgrade">>,<<"content-length">> => <<"230">>,<<"content-type">> => <<"application/x-www-form-urlencoded; charset=UTF-8">>,<<"cookie">> => <<"_domoapi_user_key=SFMyNTY.g3QAAAABbQAAABZndWFyZGlhbl9kZWZhdWx0X3Rva2VubQAAAYZleUpoYkdjaU9pSklVelV4TWlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaGRXUWlPaUprYjIxdllYQnBYM1Z6WlhJaUxDSmxlSEFpT2pFMU56WTBPRGc1TnpFc0ltbGhkQ0k2TVRVM05EQTJPVGMzTVN3aWFYTnpJam9pWkc5dGIyRndhVjkxYzJWeUlpd2lhblJwSWpvaU56SXlNemc0TURJdE5qQmtaQzAwT1RRd0xUazFZVFF0WVRrMU5EVXpOakJtWldJd0lpd2libUptSWpveE5UYzBNRFk1Tnpjd0xDSnpkV0lpT2lJM056Wm1Zek5sTkMweU1ETmpMVFF6TjJZdFlXSXlOeTA1T1RreE9ERTRNRGN4T0dZaUxDSjBlWEFpT2lKaFkyTmxjM01pZlEuVndFdlB5dU82OUluU1ZveXNXVXFTdUZFbm5PYzN5OEFUTEZiYzMzOTIxMFhVNFpPMFlpNDlXT3EzbG5pdUhqTnYxcTkydzBiZnFjSUplb1BCUDlIa1E.aUREG1yRFH6OU6eD_6CrntIYOoNPRKiewgDIUENBgDs">>,<<"host">> => <<"user-api.domoface.ru">>,<<"user-agent">> => <<"Dalvik/2.1.0 (Linux; U; Android 9; LLD-L31 Build/HONORLLD-L31)">>,<<"x-forwarded-for">> => <<"85.26.235.206">>,<<"x-forwarded-host">> => <<"user-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"85.26.235.206">>},host => <<"user-api.domoface.ru">>,host_info => undefined,method => <<"POST">>,path => <<"/users/send_candidate">>,path_info => undefined,peer => {{127,0,0,1},59632},pid => <0.1408.0>,port => 80,qs => <<>>,ref => 'Elixir.DomoapiUserWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},9080},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"user-api.domoface.ru">>,method => <<"POST">>,owner => <0.1409.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"users">>,<<"send_candidate">>],path_params => #{},port => 80,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept-charset">>,<<"UTF-8">>},{<<"accept-encoding">>,<<"gzip">>},{<<"connection">>,<<"upgrade">>},{<<"content-length">>,<<"230">>},{<<"content-type">>,<<"application/x-www-form-urlencoded; charset=UTF-8">>},{<<"cookie">>,<<"_domoapi_user_key=SFMyNTY.g3QAAAABbQAAABZndWFyZGlhbl9kZWZhdWx0X3Rva2VubQAAAYZleUpoYkdjaU9pSklVelV4TWlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaGRXUWlPaUprYjIxdllYQnBYM1Z6WlhJaUxDSmxlSEFpT2pFMU56WTBPRGc1TnpFc0ltbGhkQ0k2TVRVM05EQTJPVGMzTVN3aWFYTnpJam9pWkc5dGIyRndhVjkxYzJWeUlpd2lhblJwSWpvaU56SXlNemc0TURJdE5qQmtaQzAwT1RRd0xUazFZVFF0WVRrMU5EVXpOakJtWldJd0lpd2libUptSWpveE5UYzBNRFk1Tnpjd0xDSnpkV0lpT2lJM056Wm1Zek5sTkMweU1ETmpMVFF6TjJZdFlXSXlOeTA1T1RreE9ERTRNRGN4T0dZaUxDSjBlWEFpT2lKaFkyTmxjM01pZlEuVndFdlB5dU82OUluU1ZveXNXVXFTdUZFbm5PYzN5OEFUTEZiYzMzOTIxMFhVNFpPMFlpNDlXT3EzbG5pdUhqTnYxcTkydzBiZnFjSUplb1BCUDlIa1E.aUREG1yRFH6OU6eD_6CrntIYOoNPRKiewgDIUENBgDs">>},{<<"host">>,<<"user-api.domoface.ru">>},{<<"user-agent">>,<<"Dalvik/2.1.0 (Linux; U; Android 9; LLD-L31 Build/HONORLLD-L31)">>},{<<"x-forwarded-for">>,<<"85.26.235.206">>},{<<"x-forwarded-host">>,<<"user-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"85.26.235.206">>}],request_path => <<"/users/send_candidate">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}
    ancestors: [<0.1408.0>,<0.527.0>,<0.526.0>,'Elixir.DomoapiUserWeb.Endpoint','Elixir.DomoapiUser.Supervisor',<0.505.0>]
    message_queue_len: 0
    messages: []
    links: [<0.1408.0>]
    dictionary: [{logger_metadata,{true,[{request_id,<<"FdhOhc88BJwMjqgAAAOC">>}]}}]
    trap_exit: false
    status: running
    heap_size: 4185
    stack_size: 27
    reductions: 177260
  neighbours:
2019-11-18 16:26:46 =ERROR REPORT====
Ranch listener 'Elixir.DomoapiUserWeb.Endpoint.HTTP', connection process <0.1408.0>, stream 1 had its request process <0.1409.0> exit with reason {{#{'__exception__' => true,'__struct__' => 'Elixir.FunctionClauseError',args => nil,arity => 2,clauses => nil,function => call,kind => nil,module => 'Elixir.DomoapiUserWeb.FallbackController'},[{'Elixir.DomoapiUserWeb.FallbackController',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 230,cert => undefined,has_body => true,has_read_body => true,headers => #{<<"accept-charset">> => <<"UTF-8">>,<<"accept-encoding">> => <<"gzip">>,<<"connection">> => <<"upgrade">>,<<"content-length">> => <<"230">>,<<"content-type">> => <<"application/x-www-form-urlencoded; charset=UTF-8">>,<<"cookie">> => <<"_domoapi_user_key=SFMyNTY.g3QAAAABbQAAABZndWFyZGlhbl9kZWZhdWx0X3Rva2VubQAAAYZleUpoYkdjaU9pSklVelV4TWlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaGRXUWlPaUprYjIxdllYQnBYM1Z6WlhJaUxDSmxlSEFpT2pFMU56WTBPRGc1TnpFc0ltbGhkQ0k2TVRVM05EQTJPVGMzTVN3aWFYTnpJam9pWkc5dGIyRndhVjkxYzJWeUlpd2lhblJwSWpvaU56SXlNemc0TURJdE5qQmtaQzAwT1RRd0xUazFZVFF0WVRrMU5EVXpOakJtWldJd0lpd2libUptSWpveE5UYzBNRFk1Tnpjd0xDSnpkV0lpT2lJM056Wm1Zek5sTkMweU1ETmpMVFF6TjJZdFlXSXlOeTA1T1RreE9ERTRNRGN4T0dZaUxDSjBlWEFpT2lKaFkyTmxjM01pZlEuVndFdlB5dU82OUluU1ZveXNXVXFTdUZFbm5PYzN5OEFUTEZiYzMzOTIxMFhVNFpPMFlpNDlXT3EzbG5pdUhqTnYxcTkydzBiZnFjSUplb1BCUDlIa1E.aUREG1yRFH6OU6eD_6CrntIYOoNPRKiewgDIUENBgDs">>,<<"host">> => <<"user-api.domoface.ru">>,<<"user-agent">> => <<"Dalvik/2.1.0 (Linux; U; Android 9; LLD-L31 Build/HONORLLD-L31)">>,<<"x-forwarded-for">> => <<"85.26.235.206">>,<<"x-forwarded-host">> => <<"user-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"85.26.235.206">>},host => <<"user-api.domoface.ru">>,host_info => undefined,method => <<"POST">>,path => <<"/users/send_candidate">>,path_info => undefined,peer => {{127,0,0,1},59632},pid => <0.1408.0>,port => 80,qs => <<>>,ref => 'Elixir.DomoapiUserWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},9080},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [#Fun<Elixir.Plug.Session.0.35161479>,#Fun<Elixir.Plug.Telemetry.0.66442134>,#Fun<Elixir.Phoenix.LiveReloader.0.121962774>],body_params => #{<<"candidate">> => <<"{\"candidate\":\"candidate:2212263285 1 udp 33562367 3.123.78.125 65155 typ relay raddr 85.26.235.206 rport 65421 generation 0 ufrag Lzjg network-cost 999\",\"sdpMid\":\"0\",\"sdpMLineIndex\":0}">>},cookies => #{<<"_domoapi_user_key">> => <<"SFMyNTY.g3QAAAABbQAAABZndWFyZGlhbl9kZWZhdWx0X3Rva2VubQAAAYZleUpoYkdjaU9pSklVelV4TWlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaGRXUWlPaUprYjIxdllYQnBYM1Z6WlhJaUxDSmxlSEFpT2pFMU56WTBPRGc1TnpFc0ltbGhkQ0k2TVRVM05EQTJPVGMzTVN3aWFYTnpJam9pWkc5dGIyRndhVjkxYzJWeUlpd2lhblJwSWpvaU56SXlNemc0TURJdE5qQmtaQzAwT1RRd0xUazFZVFF0WVRrMU5EVXpOakJtWldJd0lpd2libUptSWpveE5UYzBNRFk1Tnpjd0xDSnpkV0lpT2lJM056Wm1Zek5sTkMweU1ETmpMVFF6TjJZdFlXSXlOeTA1T1RreE9ERTRNRGN4T0dZaUxDSjBlWEFpT2lKaFkyTmxjM01pZlEuVndFdlB5dU82OUluU1ZveXNXVXFTdUZFbm5PYzN5OEFUTEZiYzMzOTIxMFhVNFpPMFlpNDlXT3EzbG5pdUhqTnYxcTkydzBiZnFjSUplb1BCUDlIa1E.aUREG1yRFH6OU6eD_6CrntIYOoNPRKiewgDIUENBgDs">>},halted => false,host => <<"user-api.domoface.ru">>,method => <<"POST">>,owner => <0.1409.0>,params => #{<<"candidate">> => <<"{\"candidate\":\"candidate:2212263285 1 udp 33562367 3.123.78.125 65155 typ relay raddr 85.26.235.206 rport 65421 generation 0 ufrag Lzjg network-cost 999\",\"sdpMid\":\"0\",\"sdpMLineIndex\":0}">>},path_info => [<<"users">>,<<"send_candidate">>],path_params => #{},port => 80,private => #{'Elixir.DomoapiUserWeb.Router' => {[],#{'Elixir.PhoenixSwagger.Plug.SwaggerUI' => []}},guardian_default_claims => #{<<"aud">> => <<"domoapi_user">>,<<"exp">> => 1576488971,<<"iat">> => 1574069771,<<"iss">> => <<"domoapi_user">>,<<"jti">> => <<"72238802-60dd-4940-95a4-a9545360feb0">>,<<"nbf">> => 1574069770,<<"sub">> => <<"776fc3e4-203c-437f-ab27-99918180718f">>,<<"typ">> => <<"access">>},guardian_default_resource => #{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => #{'__cardinality__' => many,'__field__' => devices,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 15,hour => 12,microsecond => {0,0},minute => 39,month => 11,second => 36,year => 2019},password => <<"$2b$12$XlddKF/xtUSibCfUPGIFder8BVD04Qh9qhAIdee/iSdJE48pNnIKe">>,phone_number => <<"89991945767">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<"Azat verni 2 rubl">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 13,year => 2019}},guardian_default_token => <<"eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJkb21vYXBpX3VzZXIiLCJleHAiOjE1NzY0ODg5NzEsImlhdCI6MTU3NDA2OTc3MSwiaXNzIjoiZG9tb2FwaV91c2VyIiwianRpIjoiNzIyMzg4MDItNjBkZC00OTQwLTk1YTQtYTk1NDUzNjBmZWIwIiwibmJmIjoxNTc0MDY5NzcwLCJzdWIiOiI3NzZmYzNlNC0yMDNjLTQzN2YtYWIyNy05OTkxODE4MDcxOGYiLCJ0eXAiOiJhY2Nlc3MifQ.VwEvPyuO69InSVoysWUqSuFEnnOc3y8ATLFbc339210XU4ZO0Yi49WOq3lniuHjNv1q92w0bfqcIJeoPBP9HkQ">>,guardian_error_handler => 'Elixir.DomoapiUserWeb.FallbackController',guardian_module => 'Elixir.DomoapiUser.Guardian',phoenix_action => send_candidate,phoenix_controller => 'Elixir.DomoapiUserWeb.SessionController',phoenix_endpoint => 'Elixir.DomoapiUserWeb.Endpoint',phoenix_format => <<"json">>,phoenix_layout => {'Elixir.DomoapiUserWeb.LayoutView',app},phoenix_pipelines => [api,authorized],phoenix_router => 'Elixir.DomoapiUserWeb.Router',phoenix_view => 'Elixir.DomoapiUserWeb.SessionView',plug_session => #{<<"guardian_default_token">> => <<"eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJkb21vYXBpX3VzZXIiLCJleHAiOjE1NzY0ODg5NzEsImlhdCI6MTU3NDA2OTc3MSwiaXNzIjoiZG9tb2FwaV91c2VyIiwianRpIjoiNzIyMzg4MDItNjBkZC00OTQwLTk1YTQtYTk1NDUzNjBmZWIwIiwibmJmIjoxNTc0MDY5NzcwLCJzdWIiOiI3NzZmYzNlNC0yMDNjLTQzN2YtYWIyNy05OTkxODE4MDcxOGYiLCJ0eXAiOiJhY2Nlc3MifQ.VwEvPyuO69InSVoysWUqSuFEnnOc3y8ATLFbc339210XU4ZO0Yi49WOq3lniuHjNv1q92w0bfqcIJeoPBP9HkQ">>},plug_session_fetch => done},query_params => #{},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{<<"_domoapi_user_key">> => <<"SFMyNTY.g3QAAAABbQAAABZndWFyZGlhbl9kZWZhdWx0X3Rva2VubQAAAYZleUpoYkdjaU9pSklVelV4TWlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaGRXUWlPaUprYjIxdllYQnBYM1Z6WlhJaUxDSmxlSEFpT2pFMU56WTBPRGc1TnpFc0ltbGhkQ0k2TVRVM05EQTJPVGMzTVN3aWFYTnpJam9pWkc5dGIyRndhVjkxYzJWeUlpd2lhblJwSWpvaU56SXlNemc0TURJdE5qQmtaQzAwT1RRd0xUazFZVFF0WVRrMU5EVXpOakJtWldJd0lpd2libUptSWpveE5UYzBNRFk1Tnpjd0xDSnpkV0lpT2lJM056Wm1Zek5sTkMweU1ETmpMVFF6TjJZdFlXSXlOeTA1T1RreE9ERTRNRGN4T0dZaUxDSjBlWEFpT2lKaFkyTmxjM01pZlEuVndFdlB5dU82OUluU1ZveXNXVXFTdUZFbm5PYzN5OEFUTEZiYzMzOTIxMFhVNFpPMFlpNDlXT3EzbG5pdUhqTnYxcTkydzBiZnFjSUplb1BCUDlIa1E.aUREG1yRFH6OU6eD_6CrntIYOoNPRKiewgDIUENBgDs">>},req_headers => [{<<"accept-charset">>,<<"UTF-8">>},{<<"accept-encoding">>,<<"gzip">>},{<<"connection">>,<<"upgrade">>},{<<"content-length">>,<<"230">>},{<<"content-type">>,<<"application/x-www-form-urlencoded; charset=UTF-8">>},{<<"cookie">>,<<"_domoapi_user_key=SFMyNTY.g3QAAAABbQAAABZndWFyZGlhbl9kZWZhdWx0X3Rva2VubQAAAYZleUpoYkdjaU9pSklVelV4TWlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaGRXUWlPaUprYjIxdllYQnBYM1Z6WlhJaUxDSmxlSEFpT2pFMU56WTBPRGc1TnpFc0ltbGhkQ0k2TVRVM05EQTJPVGMzTVN3aWFYTnpJam9pWkc5dGIyRndhVjkxYzJWeUlpd2lhblJwSWpvaU56SXlNemc0TURJdE5qQmtaQzAwT1RRd0xUazFZVFF0WVRrMU5EVXpOakJtWldJd0lpd2libUptSWpveE5UYzBNRFk1Tnpjd0xDSnpkV0lpT2lJM056Wm1Zek5sTkMweU1ETmpMVFF6TjJZdFlXSXlOeTA1T1RreE9ERTRNRGN4T0dZaUxDSjBlWEFpT2lKaFkyTmxjM01pZlEuVndFdlB5dU82OUluU1ZveXNXVXFTdUZFbm5PYzN5OEFUTEZiYzMzOTIxMFhVNFpPMFlpNDlXT3EzbG5pdUhqTnYxcTkydzBiZnFjSUplb1BCUDlIa1E.aUREG1yRFH6OU6eD_6CrntIYOoNPRKiewgDIUENBgDs">>},{<<"host">>,<<"user-api.domoface.ru">>},{<<"user-agent">>,<<"Dalvik/2.1.0 (Linux; U; Android 9; LLD-L31 Build/HONORLLD-L31)">>},{<<"x-forwarded-for">>,<<"85.26.235.206">>},{<<"x-forwarded-host">>,<<"user-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"85.26.235.206">>}],request_path => <<"/users/send_candidate">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>},{<<"x-request-id">>,<<"FdhOhc88BJwMjqgAAAOC">>}],scheme => http,script_name => [],secret_key_base => <<"luzga7DdpB46XmM4h5AYlvAs77NA6uHsptQ4VKt3K4/Qg9aUt+UiPiXsbgXHDiul">>,state => unset,status => nil},nil],[{file,"lib/domoapi_user_web/controllers/fallback_controller.ex"},{line,10}]},{'Elixir.DomoapiUserWeb.SessionController',action,2,[{file,"lib/domoapi_user_web/controllers/session_controller.ex"},{line,1}]},{'Elixir.DomoapiUserWeb.SessionController',phoenix_controller_pipeline,2,[{file,"lib/domoapi_user_web/controllers/session_controller.ex"},{line,1}]},{'Elixir.DomoapiUserWeb.Endpoint',instrument,4,[{file,"lib/domoapi_user_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',1,[{file,"lib/phoenix/router.ex"},{line,275}]},{'Elixir.DomoapiUserWeb.Endpoint',plug_builder_call,2,[{file,"lib/domoapi_user_web/endpoint.ex"},{line,1}]},{'Elixir.DomoapiUserWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.DomoapiUserWeb.Endpoint',call,2,[{file,"lib/domoapi_user_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,33}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.DomoapiUserWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 230,cert => undefined,has_body => true,headers => #{<<"accept-charset">> => <<"UTF-8">>,<<"accept-encoding">> => <<"gzip">>,<<"connection">> => <<"upgrade">>,<<"content-length">> => <<"230">>,<<"content-type">> => <<"application/x-www-form-urlencoded; charset=UTF-8">>,<<"cookie">> => <<"_domoapi_user_key=SFMyNTY.g3QAAAABbQAAABZndWFyZGlhbl9kZWZhdWx0X3Rva2VubQAAAYZleUpoYkdjaU9pSklVelV4TWlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaGRXUWlPaUprYjIxdllYQnBYM1Z6WlhJaUxDSmxlSEFpT2pFMU56WTBPRGc1TnpFc0ltbGhkQ0k2TVRVM05EQTJPVGMzTVN3aWFYTnpJam9pWkc5dGIyRndhVjkxYzJWeUlpd2lhblJwSWpvaU56SXlNemc0TURJdE5qQmtaQzAwT1RRd0xUazFZVFF0WVRrMU5EVXpOakJtWldJd0lpd2libUptSWpveE5UYzBNRFk1Tnpjd0xDSnpkV0lpT2lJM056Wm1Zek5sTkMweU1ETmpMVFF6TjJZdFlXSXlOeTA1T1RreE9ERTRNRGN4T0dZaUxDSjBlWEFpT2lKaFkyTmxjM01pZlEuVndFdlB5dU82OUluU1ZveXNXVXFTdUZFbm5PYzN5OEFUTEZiYzMzOTIxMFhVNFpPMFlpNDlXT3EzbG5pdUhqTnYxcTkydzBiZnFjSUplb1BCUDlIa1E.aUREG1yRFH6OU6eD_6CrntIYOoNPRKiewgDIUENBgDs">>,<<"host">> => <<"user-api.domoface.ru">>,<<"user-agent">> => <<"Dalvik/2.1.0 (Linux; U; Android 9; LLD-L31 Build/HONORLLD-L31)">>,<<"x-forwarded-for">> => <<"85.26.235.206">>,<<"x-forwarded-host">> => <<"user-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"85.26.235.206">>},host => <<"user-api.domoface.ru">>,host_info => undefined,method => <<"POST">>,path => <<"/users/send_candidate">>,path_info => undefined,peer => {{127,0,0,1},59632},pid => <0.1408.0>,port => 80,qs => <<>>,ref => 'Elixir.DomoapiUserWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},9080},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"user-api.domoface.ru">>,method => <<"POST">>,owner => <0.1409.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"users">>,<<"send_candidate">>],path_params => #{},port => 80,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept-charset">>,<<"UTF-8">>},{<<"accept-encoding">>,<<"gzip">>},{<<"connection">>,<<"upgrade">>},{<<"content-length">>,<<"230">>},{<<"content-type">>,<<"application/x-www-form-urlencoded; charset=UTF-8">>},{<<"cookie">>,<<"_domoapi_user_key=SFMyNTY.g3QAAAABbQAAABZndWFyZGlhbl9kZWZhdWx0X3Rva2VubQAAAYZleUpoYkdjaU9pSklVelV4TWlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaGRXUWlPaUprYjIxdllYQnBYM1Z6WlhJaUxDSmxlSEFpT2pFMU56WTBPRGc1TnpFc0ltbGhkQ0k2TVRVM05EQTJPVGMzTVN3aWFYTnpJam9pWkc5dGIyRndhVjkxYzJWeUlpd2lhblJwSWpvaU56SXlNemc0TURJdE5qQmtaQzAwT1RRd0xUazFZVFF0WVRrMU5EVXpOakJtWldJd0lpd2libUptSWpveE5UYzBNRFk1Tnpjd0xDSnpkV0lpT2lJM056Wm1Zek5sTkMweU1ETmpMVFF6TjJZdFlXSXlOeTA1T1RreE9ERTRNRGN4T0dZaUxDSjBlWEFpT2lKaFkyTmxjM01pZlEuVndFdlB5dU82OUluU1ZveXNXVXFTdUZFbm5PYzN5OEFUTEZiYzMzOTIxMFhVNFpPMFlpNDlXT3EzbG5pdUhqTnYxcTkydzBiZnFjSUplb1BCUDlIa1E.aUREG1yRFH6OU6eD_6CrntIYOoNPRKiewgDIUENBgDs">>},{<<"host">>,<<"user-api.domoface.ru">>},{<<"user-agent">>,<<"Dalvik/2.1.0 (Linux; U; Android 9; LLD-L31 Build/HONORLLD-L31)">>},{<<"x-forwarded-for">>,<<"85.26.235.206">>},{<<"x-forwarded-host">>,<<"user-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"85.26.235.206">>}],request_path => <<"/users/send_candidate">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}} and stacktrace [{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]
2019-11-18 16:35:39 =CRASH REPORT====
  crasher:
    initial call: cowboy_stream_h:request_process/3
    pid: <0.1424.0>
    registered_name: []
    exception exit: {{{{#{'__exception__' => true,'__struct__' => 'Elixir.Phoenix.Router.NoRouteError',conn => #{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 0,cert => undefined,has_body => false,headers => #{<<"accept">> => <<"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3">>,<<"accept-encoding">> => <<"gzip, deflate, br">>,<<"accept-language">> => <<"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7">>,<<"connection">> => <<"upgrade">>,<<"host">> => <<"user-api.domoface.ru">>,<<"sec-fetch-mode">> => <<"navigate">>,<<"sec-fetch-site">> => <<"none">>,<<"sec-fetch-user">> => <<"?1">>,<<"upgrade-insecure-requests">> => <<"1">>,<<"user-agent">> => <<"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.97 Safari/537.36">>,<<"x-forwarded-for">> => <<"87.76.0.8">>,<<"x-forwarded-host">> => <<"user-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"87.76.0.8">>},host => <<"user-api.domoface.ru">>,host_info => undefined,method => <<"GET">>,path => <<"/intercoms/swagger/index.html">>,path_info => undefined,peer => {{127,0,0,1},59680},pid => <0.1423.0>,port => 80,qs => <<>>,ref => 'Elixir.DomoapiUserWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},9080},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [#Fun<Elixir.Plug.Telemetry.0.66442134>,#Fun<Elixir.Phoenix.LiveReloader.0.121962774>],body_params => #{},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"user-api.domoface.ru">>,method => <<"GET">>,owner => <0.1424.0>,params => #{},path_info => [<<"intercoms">>,<<"swagger">>,<<"index.html">>],path_params => #{},port => 80,private => #{'Elixir.DomoapiUserWeb.Router' => {[],#{'Elixir.PhoenixSwagger.Plug.SwaggerUI' => []}},phoenix_endpoint => 'Elixir.DomoapiUserWeb.Endpoint',phoenix_router => 'Elixir.DomoapiUserWeb.Router',plug_session_fetch => #Fun<Elixir.Plug.Session.1.35161479>},query_params => #{},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3">>},{<<"accept-encoding">>,<<"gzip, deflate, br">>},{<<"accept-language">>,<<"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7">>},{<<"connection">>,<<"upgrade">>},{<<"host">>,<<"user-api.domoface.ru">>},{<<"sec-fetch-mode">>,<<"navigate">>},{<<"sec-fetch-site">>,<<"none">>},{<<"sec-fetch-user">>,<<"?1">>},{<<"upgrade-insecure-requests">>,<<"1">>},{<<"user-agent">>,<<"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.97 Safari/537.36">>},{<<"x-forwarded-for">>,<<"87.76.0.8">>},{<<"x-forwarded-host">>,<<"user-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"87.76.0.8">>}],request_path => <<"/intercoms/swagger/index.html">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>},{<<"x-request-id">>,<<"FdhPAdNYQ-JjyaYAAAfi">>}],scheme => http,script_name => [],secret_key_base => <<"luzga7DdpB46XmM4h5AYlvAs77NA6uHsptQ4VKt3K4/Qg9aUt+UiPiXsbgXHDiul">>,state => unset,status => nil},message => <<"no route found for GET /intercoms/swagger/index.html (DomoapiUserWeb.Router)">>,plug_status => 404,router => 'Elixir.DomoapiUserWeb.Router'},[{'Elixir.DomoapiUserWeb.Router','__match_route__',4,[{file,"lib/domoapi_user_web/router.ex"},{line,1}]},{'Elixir.DomoapiUserWeb.Router',call,2,[{file,"lib/phoenix/router.ex"},{line,304}]},{'Elixir.DomoapiUserWeb.Endpoint',plug_builder_call,2,[{file,"lib/domoapi_user_web/endpoint.ex"},{line,1}]},{'Elixir.DomoapiUserWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.DomoapiUserWeb.Endpoint',call,2,[{file,"lib/domoapi_user_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,33}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.DomoapiUserWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 0,cert => undefined,has_body => false,headers => #{<<"accept">> => <<"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3">>,<<"accept-encoding">> => <<"gzip, deflate, br">>,<<"accept-language">> => <<"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7">>,<<"connection">> => <<"upgrade">>,<<"host">> => <<"user-api.domoface.ru">>,<<"sec-fetch-mode">> => <<"navigate">>,<<"sec-fetch-site">> => <<"none">>,<<"sec-fetch-user">> => <<"?1">>,<<"upgrade-insecure-requests">> => <<"1">>,<<"user-agent">> => <<"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.97 Safari/537.36">>,<<"x-forwarded-for">> => <<"87.76.0.8">>,<<"x-forwarded-host">> => <<"user-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"87.76.0.8">>},host => <<"user-api.domoface.ru">>,host_info => undefined,method => <<"GET">>,path => <<"/intercoms/swagger/index.html">>,path_info => undefined,peer => {{127,0,0,1},59680},pid => <0.1423.0>,port => 80,qs => <<>>,ref => 'Elixir.DomoapiUserWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},9080},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"user-api.domoface.ru">>,method => <<"GET">>,owner => <0.1424.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"intercoms">>,<<"swagger">>,<<"index.html">>],path_params => #{},port => 80,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3">>},{<<"accept-encoding">>,<<"gzip, deflate, br">>},{<<"accept-language">>,<<"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7">>},{<<"connection">>,<<"upgrade">>},{<<"host">>,<<"user-api.domoface.ru">>},{<<"sec-fetch-mode">>,<<"navigate">>},{<<"sec-fetch-site">>,<<"none">>},{<<"sec-fetch-user">>,<<"?1">>},{<<"upgrade-insecure-requests">>,<<"1">>},{<<"user-agent">>,<<"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.97 Safari/537.36">>},{<<"x-forwarded-for">>,<<"87.76.0.8">>},{<<"x-forwarded-host">>,<<"user-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"87.76.0.8">>}],request_path => <<"/intercoms/swagger/index.html">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}
    ancestors: [<0.1423.0>,<0.527.0>,<0.526.0>,'Elixir.DomoapiUserWeb.Endpoint','Elixir.DomoapiUser.Supervisor',<0.505.0>]
    message_queue_len: 0
    messages: []
    links: [<0.1423.0>]
    dictionary: [{logger_metadata,{true,[{request_id,<<"FdhPAdNYQ-JjyaYAAAfi">>}]}}]
    trap_exit: false
    status: running
    heap_size: 17731
    stack_size: 27
    reductions: 86023
  neighbours:
2019-11-18 16:35:39 =ERROR REPORT====
Ranch listener 'Elixir.DomoapiUserWeb.Endpoint.HTTP', connection process <0.1423.0>, stream 1 had its request process <0.1424.0> exit with reason {{#{'__exception__' => true,'__struct__' => 'Elixir.Phoenix.Router.NoRouteError',conn => #{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 0,cert => undefined,has_body => false,headers => #{<<"accept">> => <<"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3">>,<<"accept-encoding">> => <<"gzip, deflate, br">>,<<"accept-language">> => <<"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7">>,<<"connection">> => <<"upgrade">>,<<"host">> => <<"user-api.domoface.ru">>,<<"sec-fetch-mode">> => <<"navigate">>,<<"sec-fetch-site">> => <<"none">>,<<"sec-fetch-user">> => <<"?1">>,<<"upgrade-insecure-requests">> => <<"1">>,<<"user-agent">> => <<"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.97 Safari/537.36">>,<<"x-forwarded-for">> => <<"87.76.0.8">>,<<"x-forwarded-host">> => <<"user-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"87.76.0.8">>},host => <<"user-api.domoface.ru">>,host_info => undefined,method => <<"GET">>,path => <<"/intercoms/swagger/index.html">>,path_info => undefined,peer => {{127,0,0,1},59680},pid => <0.1423.0>,port => 80,qs => <<>>,ref => 'Elixir.DomoapiUserWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},9080},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [#Fun<Elixir.Plug.Telemetry.0.66442134>,#Fun<Elixir.Phoenix.LiveReloader.0.121962774>],body_params => #{},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"user-api.domoface.ru">>,method => <<"GET">>,owner => <0.1424.0>,params => #{},path_info => [<<"intercoms">>,<<"swagger">>,<<"index.html">>],path_params => #{},port => 80,private => #{'Elixir.DomoapiUserWeb.Router' => {[],#{'Elixir.PhoenixSwagger.Plug.SwaggerUI' => []}},phoenix_endpoint => 'Elixir.DomoapiUserWeb.Endpoint',phoenix_router => 'Elixir.DomoapiUserWeb.Router',plug_session_fetch => #Fun<Elixir.Plug.Session.1.35161479>},query_params => #{},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3">>},{<<"accept-encoding">>,<<"gzip, deflate, br">>},{<<"accept-language">>,<<"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7">>},{<<"connection">>,<<"upgrade">>},{<<"host">>,<<"user-api.domoface.ru">>},{<<"sec-fetch-mode">>,<<"navigate">>},{<<"sec-fetch-site">>,<<"none">>},{<<"sec-fetch-user">>,<<"?1">>},{<<"upgrade-insecure-requests">>,<<"1">>},{<<"user-agent">>,<<"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.97 Safari/537.36">>},{<<"x-forwarded-for">>,<<"87.76.0.8">>},{<<"x-forwarded-host">>,<<"user-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"87.76.0.8">>}],request_path => <<"/intercoms/swagger/index.html">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>},{<<"x-request-id">>,<<"FdhPAdNYQ-JjyaYAAAfi">>}],scheme => http,script_name => [],secret_key_base => <<"luzga7DdpB46XmM4h5AYlvAs77NA6uHsptQ4VKt3K4/Qg9aUt+UiPiXsbgXHDiul">>,state => unset,status => nil},message => <<"no route found for GET /intercoms/swagger/index.html (DomoapiUserWeb.Router)">>,plug_status => 404,router => 'Elixir.DomoapiUserWeb.Router'},[{'Elixir.DomoapiUserWeb.Router','__match_route__',4,[{file,"lib/domoapi_user_web/router.ex"},{line,1}]},{'Elixir.DomoapiUserWeb.Router',call,2,[{file,"lib/phoenix/router.ex"},{line,304}]},{'Elixir.DomoapiUserWeb.Endpoint',plug_builder_call,2,[{file,"lib/domoapi_user_web/endpoint.ex"},{line,1}]},{'Elixir.DomoapiUserWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.DomoapiUserWeb.Endpoint',call,2,[{file,"lib/domoapi_user_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,33}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.DomoapiUserWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 0,cert => undefined,has_body => false,headers => #{<<"accept">> => <<"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3">>,<<"accept-encoding">> => <<"gzip, deflate, br">>,<<"accept-language">> => <<"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7">>,<<"connection">> => <<"upgrade">>,<<"host">> => <<"user-api.domoface.ru">>,<<"sec-fetch-mode">> => <<"navigate">>,<<"sec-fetch-site">> => <<"none">>,<<"sec-fetch-user">> => <<"?1">>,<<"upgrade-insecure-requests">> => <<"1">>,<<"user-agent">> => <<"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.97 Safari/537.36">>,<<"x-forwarded-for">> => <<"87.76.0.8">>,<<"x-forwarded-host">> => <<"user-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"87.76.0.8">>},host => <<"user-api.domoface.ru">>,host_info => undefined,method => <<"GET">>,path => <<"/intercoms/swagger/index.html">>,path_info => undefined,peer => {{127,0,0,1},59680},pid => <0.1423.0>,port => 80,qs => <<>>,ref => 'Elixir.DomoapiUserWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},9080},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"user-api.domoface.ru">>,method => <<"GET">>,owner => <0.1424.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"intercoms">>,<<"swagger">>,<<"index.html">>],path_params => #{},port => 80,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3">>},{<<"accept-encoding">>,<<"gzip, deflate, br">>},{<<"accept-language">>,<<"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7">>},{<<"connection">>,<<"upgrade">>},{<<"host">>,<<"user-api.domoface.ru">>},{<<"sec-fetch-mode">>,<<"navigate">>},{<<"sec-fetch-site">>,<<"none">>},{<<"sec-fetch-user">>,<<"?1">>},{<<"upgrade-insecure-requests">>,<<"1">>},{<<"user-agent">>,<<"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.97 Safari/537.36">>},{<<"x-forwarded-for">>,<<"87.76.0.8">>},{<<"x-forwarded-host">>,<<"user-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"87.76.0.8">>}],request_path => <<"/intercoms/swagger/index.html">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}} and stacktrace [{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]
2019-11-18 16:36:32 =CRASH REPORT====
  crasher:
    initial call: cowboy_stream_h:request_process/3
    pid: <0.1460.0>
    registered_name: []
    exception exit: {{{{#{'__exception__' => true,'__struct__' => 'Elixir.Phoenix.Router.NoRouteError',conn => #{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 0,cert => undefined,has_body => false,headers => #{<<"accept">> => <<"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3">>,<<"accept-encoding">> => <<"gzip, deflate, br">>,<<"accept-language">> => <<"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7">>,<<"connection">> => <<"upgrade">>,<<"host">> => <<"user-api.domoface.ru">>,<<"sec-fetch-mode">> => <<"navigate">>,<<"sec-fetch-site">> => <<"none">>,<<"sec-fetch-user">> => <<"?1">>,<<"upgrade-insecure-requests">> => <<"1">>,<<"user-agent">> => <<"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.97 Safari/537.36">>,<<"x-forwarded-for">> => <<"87.76.0.8">>,<<"x-forwarded-host">> => <<"user-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"87.76.0.8">>},host => <<"user-api.domoface.ru">>,host_info => undefined,method => <<"GET">>,path => <<"/company/swagger/index.html">>,path_info => undefined,peer => {{127,0,0,1},59714},pid => <0.1459.0>,port => 80,qs => <<>>,ref => 'Elixir.DomoapiUserWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},9080},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [#Fun<Elixir.Plug.Telemetry.0.66442134>,#Fun<Elixir.Phoenix.LiveReloader.0.121962774>],body_params => #{},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"user-api.domoface.ru">>,method => <<"GET">>,owner => <0.1460.0>,params => #{},path_info => [<<"company">>,<<"swagger">>,<<"index.html">>],path_params => #{},port => 80,private => #{'Elixir.DomoapiUserWeb.Router' => {[],#{'Elixir.PhoenixSwagger.Plug.SwaggerUI' => []}},phoenix_endpoint => 'Elixir.DomoapiUserWeb.Endpoint',phoenix_router => 'Elixir.DomoapiUserWeb.Router',plug_session_fetch => #Fun<Elixir.Plug.Session.1.35161479>},query_params => #{},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3">>},{<<"accept-encoding">>,<<"gzip, deflate, br">>},{<<"accept-language">>,<<"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7">>},{<<"connection">>,<<"upgrade">>},{<<"host">>,<<"user-api.domoface.ru">>},{<<"sec-fetch-mode">>,<<"navigate">>},{<<"sec-fetch-site">>,<<"none">>},{<<"sec-fetch-user">>,<<"?1">>},{<<"upgrade-insecure-requests">>,<<"1">>},{<<"user-agent">>,<<"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.97 Safari/537.36">>},{<<"x-forwarded-for">>,<<"87.76.0.8">>},{<<"x-forwarded-host">>,<<"user-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"87.76.0.8">>}],request_path => <<"/company/swagger/index.html">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>},{<<"x-request-id">>,<<"FdhPDjxedy4Z55gAAA0h">>}],scheme => http,script_name => [],secret_key_base => <<"luzga7DdpB46XmM4h5AYlvAs77NA6uHsptQ4VKt3K4/Qg9aUt+UiPiXsbgXHDiul">>,state => unset,status => nil},message => <<"no route found for GET /company/swagger/index.html (DomoapiUserWeb.Router)">>,plug_status => 404,router => 'Elixir.DomoapiUserWeb.Router'},[{'Elixir.DomoapiUserWeb.Router','__match_route__',4,[{file,"lib/domoapi_user_web/router.ex"},{line,1}]},{'Elixir.DomoapiUserWeb.Router',call,2,[{file,"lib/phoenix/router.ex"},{line,304}]},{'Elixir.DomoapiUserWeb.Endpoint',plug_builder_call,2,[{file,"lib/domoapi_user_web/endpoint.ex"},{line,1}]},{'Elixir.DomoapiUserWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.DomoapiUserWeb.Endpoint',call,2,[{file,"lib/domoapi_user_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,33}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.DomoapiUserWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 0,cert => undefined,has_body => false,headers => #{<<"accept">> => <<"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3">>,<<"accept-encoding">> => <<"gzip, deflate, br">>,<<"accept-language">> => <<"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7">>,<<"connection">> => <<"upgrade">>,<<"host">> => <<"user-api.domoface.ru">>,<<"sec-fetch-mode">> => <<"navigate">>,<<"sec-fetch-site">> => <<"none">>,<<"sec-fetch-user">> => <<"?1">>,<<"upgrade-insecure-requests">> => <<"1">>,<<"user-agent">> => <<"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.97 Safari/537.36">>,<<"x-forwarded-for">> => <<"87.76.0.8">>,<<"x-forwarded-host">> => <<"user-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"87.76.0.8">>},host => <<"user-api.domoface.ru">>,host_info => undefined,method => <<"GET">>,path => <<"/company/swagger/index.html">>,path_info => undefined,peer => {{127,0,0,1},59714},pid => <0.1459.0>,port => 80,qs => <<>>,ref => 'Elixir.DomoapiUserWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},9080},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"user-api.domoface.ru">>,method => <<"GET">>,owner => <0.1460.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"company">>,<<"swagger">>,<<"index.html">>],path_params => #{},port => 80,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3">>},{<<"accept-encoding">>,<<"gzip, deflate, br">>},{<<"accept-language">>,<<"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7">>},{<<"connection">>,<<"upgrade">>},{<<"host">>,<<"user-api.domoface.ru">>},{<<"sec-fetch-mode">>,<<"navigate">>},{<<"sec-fetch-site">>,<<"none">>},{<<"sec-fetch-user">>,<<"?1">>},{<<"upgrade-insecure-requests">>,<<"1">>},{<<"user-agent">>,<<"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.97 Safari/537.36">>},{<<"x-forwarded-for">>,<<"87.76.0.8">>},{<<"x-forwarded-host">>,<<"user-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"87.76.0.8">>}],request_path => <<"/company/swagger/index.html">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}
    ancestors: [<0.1459.0>,<0.527.0>,<0.526.0>,'Elixir.DomoapiUserWeb.Endpoint','Elixir.DomoapiUser.Supervisor',<0.505.0>]
    message_queue_len: 0
    messages: []
    links: [<0.1459.0>]
    dictionary: [{logger_metadata,{true,[{request_id,<<"FdhPDjxedy4Z55gAAA0h">>}]}}]
    trap_exit: false
    status: running
    heap_size: 17731
    stack_size: 27
    reductions: 86022
  neighbours:
2019-11-18 16:36:32 =ERROR REPORT====
Ranch listener 'Elixir.DomoapiUserWeb.Endpoint.HTTP', connection process <0.1459.0>, stream 1 had its request process <0.1460.0> exit with reason {{#{'__exception__' => true,'__struct__' => 'Elixir.Phoenix.Router.NoRouteError',conn => #{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 0,cert => undefined,has_body => false,headers => #{<<"accept">> => <<"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3">>,<<"accept-encoding">> => <<"gzip, deflate, br">>,<<"accept-language">> => <<"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7">>,<<"connection">> => <<"upgrade">>,<<"host">> => <<"user-api.domoface.ru">>,<<"sec-fetch-mode">> => <<"navigate">>,<<"sec-fetch-site">> => <<"none">>,<<"sec-fetch-user">> => <<"?1">>,<<"upgrade-insecure-requests">> => <<"1">>,<<"user-agent">> => <<"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.97 Safari/537.36">>,<<"x-forwarded-for">> => <<"87.76.0.8">>,<<"x-forwarded-host">> => <<"user-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"87.76.0.8">>},host => <<"user-api.domoface.ru">>,host_info => undefined,method => <<"GET">>,path => <<"/company/swagger/index.html">>,path_info => undefined,peer => {{127,0,0,1},59714},pid => <0.1459.0>,port => 80,qs => <<>>,ref => 'Elixir.DomoapiUserWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},9080},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [#Fun<Elixir.Plug.Telemetry.0.66442134>,#Fun<Elixir.Phoenix.LiveReloader.0.121962774>],body_params => #{},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"user-api.domoface.ru">>,method => <<"GET">>,owner => <0.1460.0>,params => #{},path_info => [<<"company">>,<<"swagger">>,<<"index.html">>],path_params => #{},port => 80,private => #{'Elixir.DomoapiUserWeb.Router' => {[],#{'Elixir.PhoenixSwagger.Plug.SwaggerUI' => []}},phoenix_endpoint => 'Elixir.DomoapiUserWeb.Endpoint',phoenix_router => 'Elixir.DomoapiUserWeb.Router',plug_session_fetch => #Fun<Elixir.Plug.Session.1.35161479>},query_params => #{},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3">>},{<<"accept-encoding">>,<<"gzip, deflate, br">>},{<<"accept-language">>,<<"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7">>},{<<"connection">>,<<"upgrade">>},{<<"host">>,<<"user-api.domoface.ru">>},{<<"sec-fetch-mode">>,<<"navigate">>},{<<"sec-fetch-site">>,<<"none">>},{<<"sec-fetch-user">>,<<"?1">>},{<<"upgrade-insecure-requests">>,<<"1">>},{<<"user-agent">>,<<"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.97 Safari/537.36">>},{<<"x-forwarded-for">>,<<"87.76.0.8">>},{<<"x-forwarded-host">>,<<"user-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"87.76.0.8">>}],request_path => <<"/company/swagger/index.html">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>},{<<"x-request-id">>,<<"FdhPDjxedy4Z55gAAA0h">>}],scheme => http,script_name => [],secret_key_base => <<"luzga7DdpB46XmM4h5AYlvAs77NA6uHsptQ4VKt3K4/Qg9aUt+UiPiXsbgXHDiul">>,state => unset,status => nil},message => <<"no route found for GET /company/swagger/index.html (DomoapiUserWeb.Router)">>,plug_status => 404,router => 'Elixir.DomoapiUserWeb.Router'},[{'Elixir.DomoapiUserWeb.Router','__match_route__',4,[{file,"lib/domoapi_user_web/router.ex"},{line,1}]},{'Elixir.DomoapiUserWeb.Router',call,2,[{file,"lib/phoenix/router.ex"},{line,304}]},{'Elixir.DomoapiUserWeb.Endpoint',plug_builder_call,2,[{file,"lib/domoapi_user_web/endpoint.ex"},{line,1}]},{'Elixir.DomoapiUserWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.DomoapiUserWeb.Endpoint',call,2,[{file,"lib/domoapi_user_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,33}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.DomoapiUserWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 0,cert => undefined,has_body => false,headers => #{<<"accept">> => <<"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3">>,<<"accept-encoding">> => <<"gzip, deflate, br">>,<<"accept-language">> => <<"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7">>,<<"connection">> => <<"upgrade">>,<<"host">> => <<"user-api.domoface.ru">>,<<"sec-fetch-mode">> => <<"navigate">>,<<"sec-fetch-site">> => <<"none">>,<<"sec-fetch-user">> => <<"?1">>,<<"upgrade-insecure-requests">> => <<"1">>,<<"user-agent">> => <<"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.97 Safari/537.36">>,<<"x-forwarded-for">> => <<"87.76.0.8">>,<<"x-forwarded-host">> => <<"user-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"87.76.0.8">>},host => <<"user-api.domoface.ru">>,host_info => undefined,method => <<"GET">>,path => <<"/company/swagger/index.html">>,path_info => undefined,peer => {{127,0,0,1},59714},pid => <0.1459.0>,port => 80,qs => <<>>,ref => 'Elixir.DomoapiUserWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},9080},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"user-api.domoface.ru">>,method => <<"GET">>,owner => <0.1460.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"company">>,<<"swagger">>,<<"index.html">>],path_params => #{},port => 80,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3">>},{<<"accept-encoding">>,<<"gzip, deflate, br">>},{<<"accept-language">>,<<"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7">>},{<<"connection">>,<<"upgrade">>},{<<"host">>,<<"user-api.domoface.ru">>},{<<"sec-fetch-mode">>,<<"navigate">>},{<<"sec-fetch-site">>,<<"none">>},{<<"sec-fetch-user">>,<<"?1">>},{<<"upgrade-insecure-requests">>,<<"1">>},{<<"user-agent">>,<<"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.97 Safari/537.36">>},{<<"x-forwarded-for">>,<<"87.76.0.8">>},{<<"x-forwarded-host">>,<<"user-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"87.76.0.8">>}],request_path => <<"/company/swagger/index.html">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}} and stacktrace [{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]
2019-11-18 16:36:38 =CRASH REPORT====
  crasher:
    initial call: cowboy_stream_h:request_process/3
    pid: <0.1467.0>
    registered_name: []
    exception exit: {{{{#{'__exception__' => true,'__struct__' => 'Elixir.Phoenix.Router.NoRouteError',conn => #{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 0,cert => undefined,has_body => false,headers => #{<<"accept">> => <<"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3">>,<<"accept-encoding">> => <<"gzip, deflate, br">>,<<"accept-language">> => <<"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7">>,<<"connection">> => <<"upgrade">>,<<"host">> => <<"company-api.domoface.ru">>,<<"sec-fetch-mode">> => <<"navigate">>,<<"sec-fetch-site">> => <<"none">>,<<"sec-fetch-user">> => <<"?1">>,<<"upgrade-insecure-requests">> => <<"1">>,<<"user-agent">> => <<"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.97 Safari/537.36">>,<<"x-forwarded-for">> => <<"87.76.0.8">>,<<"x-forwarded-host">> => <<"company-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"87.76.0.8">>},host => <<"company-api.domoface.ru">>,host_info => undefined,method => <<"GET">>,path => <<"/company/swagger/index.html">>,path_info => undefined,peer => {{127,0,0,1},39120},pid => <0.1466.0>,port => 80,qs => <<>>,ref => 'Elixir.DomoapiWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},8080},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [#Fun<Elixir.Plug.Logger.1.16531471>,#Fun<Elixir.Phoenix.LiveReloader.0.121962774>],body_params => #{},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"company-api.domoface.ru">>,method => <<"GET">>,owner => <0.1467.0>,params => #{},path_info => [<<"company">>,<<"swagger">>,<<"index.html">>],path_params => #{},port => 80,private => #{'Elixir.DomoapiWeb.Router' => {[],#{'Elixir.PhoenixSwagger.Plug.SwaggerUI' => []}},phoenix_endpoint => 'Elixir.DomoapiWeb.Endpoint',phoenix_router => 'Elixir.DomoapiWeb.Router',plug_session_fetch => #Fun<Elixir.Plug.Session.1.35161479>},query_params => #{},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3">>},{<<"accept-encoding">>,<<"gzip, deflate, br">>},{<<"accept-language">>,<<"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7">>},{<<"connection">>,<<"upgrade">>},{<<"host">>,<<"company-api.domoface.ru">>},{<<"sec-fetch-mode">>,<<"navigate">>},{<<"sec-fetch-site">>,<<"none">>},{<<"sec-fetch-user">>,<<"?1">>},{<<"upgrade-insecure-requests">>,<<"1">>},{<<"user-agent">>,<<"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.97 Safari/537.36">>},{<<"x-forwarded-for">>,<<"87.76.0.8">>},{<<"x-forwarded-host">>,<<"company-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"87.76.0.8">>}],request_path => <<"/company/swagger/index.html">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>},{<<"x-request-id">>,<<"FdhPD7-VzXrhErkAAA1B">>}],scheme => http,script_name => [],secret_key_base => <<"ev62lNRCtdBr39e00iYHTrEOGGHD1c9L8fi2zWw/4vDZF0w1S3HpUxXLVMCV4atf">>,state => unset,status => nil},message => <<"no route found for GET /company/swagger/index.html (DomoapiWeb.Router)">>,plug_status => 404,router => 'Elixir.DomoapiWeb.Router'},[{'Elixir.DomoapiWeb.Router','__match_route__',4,[{file,"lib/domoapi_web/router.ex"},{line,1}]},{'Elixir.DomoapiWeb.Router',call,2,[{file,"lib/phoenix/router.ex"},{line,304}]},{'Elixir.DomoapiWeb.Endpoint',plug_builder_call,2,[{file,"lib/domoapi_web/endpoint.ex"},{line,1}]},{'Elixir.DomoapiWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.DomoapiWeb.Endpoint',call,2,[{file,"lib/domoapi_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,33}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.DomoapiWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 0,cert => undefined,has_body => false,headers => #{<<"accept">> => <<"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3">>,<<"accept-encoding">> => <<"gzip, deflate, br">>,<<"accept-language">> => <<"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7">>,<<"connection">> => <<"upgrade">>,<<"host">> => <<"company-api.domoface.ru">>,<<"sec-fetch-mode">> => <<"navigate">>,<<"sec-fetch-site">> => <<"none">>,<<"sec-fetch-user">> => <<"?1">>,<<"upgrade-insecure-requests">> => <<"1">>,<<"user-agent">> => <<"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.97 Safari/537.36">>,<<"x-forwarded-for">> => <<"87.76.0.8">>,<<"x-forwarded-host">> => <<"company-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"87.76.0.8">>},host => <<"company-api.domoface.ru">>,host_info => undefined,method => <<"GET">>,path => <<"/company/swagger/index.html">>,path_info => undefined,peer => {{127,0,0,1},39120},pid => <0.1466.0>,port => 80,qs => <<>>,ref => 'Elixir.DomoapiWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},8080},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"company-api.domoface.ru">>,method => <<"GET">>,owner => <0.1467.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"company">>,<<"swagger">>,<<"index.html">>],path_params => #{},port => 80,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3">>},{<<"accept-encoding">>,<<"gzip, deflate, br">>},{<<"accept-language">>,<<"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7">>},{<<"connection">>,<<"upgrade">>},{<<"host">>,<<"company-api.domoface.ru">>},{<<"sec-fetch-mode">>,<<"navigate">>},{<<"sec-fetch-site">>,<<"none">>},{<<"sec-fetch-user">>,<<"?1">>},{<<"upgrade-insecure-requests">>,<<"1">>},{<<"user-agent">>,<<"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.97 Safari/537.36">>},{<<"x-forwarded-for">>,<<"87.76.0.8">>},{<<"x-forwarded-host">>,<<"company-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"87.76.0.8">>}],request_path => <<"/company/swagger/index.html">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}
    ancestors: [<0.1466.0>,<0.901.0>,<0.900.0>,'Elixir.DomoapiWeb.Endpoint','Elixir.DomoapiWeb.Supervisor',<0.880.0>]
    message_queue_len: 0
    messages: []
    links: [<0.1466.0>]
    dictionary: [{logger_metadata,{true,[{request_id,<<"FdhPD7-VzXrhErkAAA1B">>}]}}]
    trap_exit: false
    status: running
    heap_size: 17731
    stack_size: 27
    reductions: 131816
  neighbours:
2019-11-18 16:36:38 =ERROR REPORT====
Ranch listener 'Elixir.DomoapiWeb.Endpoint.HTTP', connection process <0.1466.0>, stream 1 had its request process <0.1467.0> exit with reason {{#{'__exception__' => true,'__struct__' => 'Elixir.Phoenix.Router.NoRouteError',conn => #{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 0,cert => undefined,has_body => false,headers => #{<<"accept">> => <<"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3">>,<<"accept-encoding">> => <<"gzip, deflate, br">>,<<"accept-language">> => <<"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7">>,<<"connection">> => <<"upgrade">>,<<"host">> => <<"company-api.domoface.ru">>,<<"sec-fetch-mode">> => <<"navigate">>,<<"sec-fetch-site">> => <<"none">>,<<"sec-fetch-user">> => <<"?1">>,<<"upgrade-insecure-requests">> => <<"1">>,<<"user-agent">> => <<"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.97 Safari/537.36">>,<<"x-forwarded-for">> => <<"87.76.0.8">>,<<"x-forwarded-host">> => <<"company-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"87.76.0.8">>},host => <<"company-api.domoface.ru">>,host_info => undefined,method => <<"GET">>,path => <<"/company/swagger/index.html">>,path_info => undefined,peer => {{127,0,0,1},39120},pid => <0.1466.0>,port => 80,qs => <<>>,ref => 'Elixir.DomoapiWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},8080},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [#Fun<Elixir.Plug.Logger.1.16531471>,#Fun<Elixir.Phoenix.LiveReloader.0.121962774>],body_params => #{},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"company-api.domoface.ru">>,method => <<"GET">>,owner => <0.1467.0>,params => #{},path_info => [<<"company">>,<<"swagger">>,<<"index.html">>],path_params => #{},port => 80,private => #{'Elixir.DomoapiWeb.Router' => {[],#{'Elixir.PhoenixSwagger.Plug.SwaggerUI' => []}},phoenix_endpoint => 'Elixir.DomoapiWeb.Endpoint',phoenix_router => 'Elixir.DomoapiWeb.Router',plug_session_fetch => #Fun<Elixir.Plug.Session.1.35161479>},query_params => #{},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3">>},{<<"accept-encoding">>,<<"gzip, deflate, br">>},{<<"accept-language">>,<<"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7">>},{<<"connection">>,<<"upgrade">>},{<<"host">>,<<"company-api.domoface.ru">>},{<<"sec-fetch-mode">>,<<"navigate">>},{<<"sec-fetch-site">>,<<"none">>},{<<"sec-fetch-user">>,<<"?1">>},{<<"upgrade-insecure-requests">>,<<"1">>},{<<"user-agent">>,<<"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.97 Safari/537.36">>},{<<"x-forwarded-for">>,<<"87.76.0.8">>},{<<"x-forwarded-host">>,<<"company-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"87.76.0.8">>}],request_path => <<"/company/swagger/index.html">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>},{<<"x-request-id">>,<<"FdhPD7-VzXrhErkAAA1B">>}],scheme => http,script_name => [],secret_key_base => <<"ev62lNRCtdBr39e00iYHTrEOGGHD1c9L8fi2zWw/4vDZF0w1S3HpUxXLVMCV4atf">>,state => unset,status => nil},message => <<"no route found for GET /company/swagger/index.html (DomoapiWeb.Router)">>,plug_status => 404,router => 'Elixir.DomoapiWeb.Router'},[{'Elixir.DomoapiWeb.Router','__match_route__',4,[{file,"lib/domoapi_web/router.ex"},{line,1}]},{'Elixir.DomoapiWeb.Router',call,2,[{file,"lib/phoenix/router.ex"},{line,304}]},{'Elixir.DomoapiWeb.Endpoint',plug_builder_call,2,[{file,"lib/domoapi_web/endpoint.ex"},{line,1}]},{'Elixir.DomoapiWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.DomoapiWeb.Endpoint',call,2,[{file,"lib/domoapi_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,33}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.DomoapiWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 0,cert => undefined,has_body => false,headers => #{<<"accept">> => <<"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3">>,<<"accept-encoding">> => <<"gzip, deflate, br">>,<<"accept-language">> => <<"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7">>,<<"connection">> => <<"upgrade">>,<<"host">> => <<"company-api.domoface.ru">>,<<"sec-fetch-mode">> => <<"navigate">>,<<"sec-fetch-site">> => <<"none">>,<<"sec-fetch-user">> => <<"?1">>,<<"upgrade-insecure-requests">> => <<"1">>,<<"user-agent">> => <<"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.97 Safari/537.36">>,<<"x-forwarded-for">> => <<"87.76.0.8">>,<<"x-forwarded-host">> => <<"company-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"87.76.0.8">>},host => <<"company-api.domoface.ru">>,host_info => undefined,method => <<"GET">>,path => <<"/company/swagger/index.html">>,path_info => undefined,peer => {{127,0,0,1},39120},pid => <0.1466.0>,port => 80,qs => <<>>,ref => 'Elixir.DomoapiWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},8080},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"company-api.domoface.ru">>,method => <<"GET">>,owner => <0.1467.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"company">>,<<"swagger">>,<<"index.html">>],path_params => #{},port => 80,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3">>},{<<"accept-encoding">>,<<"gzip, deflate, br">>},{<<"accept-language">>,<<"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7">>},{<<"connection">>,<<"upgrade">>},{<<"host">>,<<"company-api.domoface.ru">>},{<<"sec-fetch-mode">>,<<"navigate">>},{<<"sec-fetch-site">>,<<"none">>},{<<"sec-fetch-user">>,<<"?1">>},{<<"upgrade-insecure-requests">>,<<"1">>},{<<"user-agent">>,<<"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.97 Safari/537.36">>},{<<"x-forwarded-for">>,<<"87.76.0.8">>},{<<"x-forwarded-host">>,<<"company-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"87.76.0.8">>}],request_path => <<"/company/swagger/index.html">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}} and stacktrace [{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]
2019-11-18 18:16:59 =CRASH REPORT====
  crasher:
    initial call: cowboy_stream_h:request_process/3
    pid: <0.1891.0>
    registered_name: []
    exception exit: {{{{#{'__exception__' => true,'__struct__' => 'Elixir.Phoenix.Router.NoRouteError',conn => #{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 0,cert => undefined,has_body => false,headers => #{<<"accept-encoding">> => <<"gzip">>,<<"connection">> => <<"upgrade">>,<<"host">> => <<"3.123.78.125">>,<<"user-agent">> => <<"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/74.0.3729.169 Safari/537.36">>,<<"x-forwarded-for">> => <<"178.128.203.152">>,<<"x-forwarded-host">> => <<"3.123.78.125">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"178.128.203.152">>},host => <<"3.123.78.125">>,host_info => undefined,method => <<"GET">>,path => <<"/api/v1/pods">>,path_info => undefined,peer => {{127,0,0,1},39476},pid => <0.1890.0>,port => 80,qs => <<>>,ref => 'Elixir.DomoapiWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},8080},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [#Fun<Elixir.Plug.Logger.1.16531471>,#Fun<Elixir.Phoenix.LiveReloader.0.121962774>],body_params => #{},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"3.123.78.125">>,method => <<"GET">>,owner => <0.1891.0>,params => #{},path_info => [<<"api">>,<<"v1">>,<<"pods">>],path_params => #{},port => 80,private => #{'Elixir.DomoapiWeb.Router' => {[],#{'Elixir.PhoenixSwagger.Plug.SwaggerUI' => []}},phoenix_endpoint => 'Elixir.DomoapiWeb.Endpoint',phoenix_router => 'Elixir.DomoapiWeb.Router',plug_session_fetch => #Fun<Elixir.Plug.Session.1.35161479>},query_params => #{},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept-encoding">>,<<"gzip">>},{<<"connection">>,<<"upgrade">>},{<<"host">>,<<"3.123.78.125">>},{<<"user-agent">>,<<"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/74.0.3729.169 Safari/537.36">>},{<<"x-forwarded-for">>,<<"178.128.203.152">>},{<<"x-forwarded-host">>,<<"3.123.78.125">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"178.128.203.152">>}],request_path => <<"/api/v1/pods">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>},{<<"x-request-id">>,<<"FdhUiYrqQHPiTjEAAAwh">>}],scheme => http,script_name => [],secret_key_base => <<"ev62lNRCtdBr39e00iYHTrEOGGHD1c9L8fi2zWw/4vDZF0w1S3HpUxXLVMCV4atf">>,state => unset,status => nil},message => <<"no route found for GET /api/v1/pods (DomoapiWeb.Router)">>,plug_status => 404,router => 'Elixir.DomoapiWeb.Router'},[{'Elixir.DomoapiWeb.Router','__match_route__',4,[{file,"lib/domoapi_web/router.ex"},{line,1}]},{'Elixir.DomoapiWeb.Router',call,2,[{file,"lib/phoenix/router.ex"},{line,304}]},{'Elixir.DomoapiWeb.Endpoint',plug_builder_call,2,[{file,"lib/domoapi_web/endpoint.ex"},{line,1}]},{'Elixir.DomoapiWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.DomoapiWeb.Endpoint',call,2,[{file,"lib/domoapi_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,33}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.DomoapiWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 0,cert => undefined,has_body => false,headers => #{<<"accept-encoding">> => <<"gzip">>,<<"connection">> => <<"upgrade">>,<<"host">> => <<"3.123.78.125">>,<<"user-agent">> => <<"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/74.0.3729.169 Safari/537.36">>,<<"x-forwarded-for">> => <<"178.128.203.152">>,<<"x-forwarded-host">> => <<"3.123.78.125">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"178.128.203.152">>},host => <<"3.123.78.125">>,host_info => undefined,method => <<"GET">>,path => <<"/api/v1/pods">>,path_info => undefined,peer => {{127,0,0,1},39476},pid => <0.1890.0>,port => 80,qs => <<>>,ref => 'Elixir.DomoapiWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},8080},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"3.123.78.125">>,method => <<"GET">>,owner => <0.1891.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"api">>,<<"v1">>,<<"pods">>],path_params => #{},port => 80,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept-encoding">>,<<"gzip">>},{<<"connection">>,<<"upgrade">>},{<<"host">>,<<"3.123.78.125">>},{<<"user-agent">>,<<"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/74.0.3729.169 Safari/537.36">>},{<<"x-forwarded-for">>,<<"178.128.203.152">>},{<<"x-forwarded-host">>,<<"3.123.78.125">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"178.128.203.152">>}],request_path => <<"/api/v1/pods">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}
    ancestors: [<0.1890.0>,<0.893.0>,<0.892.0>,'Elixir.DomoapiWeb.Endpoint','Elixir.DomoapiWeb.Supervisor',<0.872.0>]
    message_queue_len: 0
    messages: []
    links: [<0.1890.0>]
    dictionary: [{logger_metadata,{true,[{request_id,<<"FdhUiYrqQHPiTjEAAAwh">>}]}}]
    trap_exit: false
    status: running
    heap_size: 17731
    stack_size: 27
    reductions: 75989
  neighbours:
2019-11-18 21:38:30 =CRASH REPORT====
  crasher:
    initial call: cowboy_stream_h:request_process/3
    pid: <0.5087.0>
    registered_name: []
    exception exit: {{{{#{'__exception__' => true,'__struct__' => 'Elixir.Phoenix.Router.NoRouteError',conn => #{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 0,cert => undefined,has_body => false,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip">>,<<"connection">> => <<"upgrade">>,<<"host">> => <<"3.123.78.125">>,<<"user-agent">> => <<"kubectl/v1.12.0 (linux/amd64) kubernetes/0ed3388">>,<<"x-forwarded-for">> => <<"169.197.108.6">>,<<"x-forwarded-host">> => <<"3.123.78.125">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"169.197.108.6">>},host => <<"3.123.78.125">>,host_info => undefined,method => <<"GET">>,path => <<"/version">>,path_info => undefined,peer => {{127,0,0,1},40284},pid => <0.5086.0>,port => 80,qs => <<>>,ref => 'Elixir.DomoapiWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},8080},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [#Fun<Elixir.Plug.Logger.1.16531471>,#Fun<Elixir.Phoenix.LiveReloader.0.121962774>],body_params => #{},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"3.123.78.125">>,method => <<"GET">>,owner => <0.5087.0>,params => #{},path_info => [<<"version">>],path_params => #{},port => 80,private => #{'Elixir.DomoapiWeb.Router' => {[],#{'Elixir.PhoenixSwagger.Plug.SwaggerUI' => []}},phoenix_endpoint => 'Elixir.DomoapiWeb.Endpoint',phoenix_router => 'Elixir.DomoapiWeb.Router',plug_session_fetch => #Fun<Elixir.Plug.Session.1.35161479>},query_params => #{},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip">>},{<<"connection">>,<<"upgrade">>},{<<"host">>,<<"3.123.78.125">>},{<<"user-agent">>,<<"kubectl/v1.12.0 (linux/amd64) kubernetes/0ed3388">>},{<<"x-forwarded-for">>,<<"169.197.108.6">>},{<<"x-forwarded-host">>,<<"3.123.78.125">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"169.197.108.6">>}],request_path => <<"/version">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>},{<<"x-request-id">>,<<"FdhfiLdE8kjaY9QAADLh">>}],scheme => http,script_name => [],secret_key_base => <<"ev62lNRCtdBr39e00iYHTrEOGGHD1c9L8fi2zWw/4vDZF0w1S3HpUxXLVMCV4atf">>,state => unset,status => nil},message => <<"no route found for GET /version (DomoapiWeb.Router)">>,plug_status => 404,router => 'Elixir.DomoapiWeb.Router'},[{'Elixir.DomoapiWeb.Router','__match_route__',4,[{file,"lib/domoapi_web/router.ex"},{line,1}]},{'Elixir.DomoapiWeb.Router',call,2,[{file,"lib/phoenix/router.ex"},{line,304}]},{'Elixir.DomoapiWeb.Endpoint',plug_builder_call,2,[{file,"lib/domoapi_web/endpoint.ex"},{line,1}]},{'Elixir.DomoapiWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.DomoapiWeb.Endpoint',call,2,[{file,"lib/domoapi_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,33}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.DomoapiWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 0,cert => undefined,has_body => false,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip">>,<<"connection">> => <<"upgrade">>,<<"host">> => <<"3.123.78.125">>,<<"user-agent">> => <<"kubectl/v1.12.0 (linux/amd64) kubernetes/0ed3388">>,<<"x-forwarded-for">> => <<"169.197.108.6">>,<<"x-forwarded-host">> => <<"3.123.78.125">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"169.197.108.6">>},host => <<"3.123.78.125">>,host_info => undefined,method => <<"GET">>,path => <<"/version">>,path_info => undefined,peer => {{127,0,0,1},40284},pid => <0.5086.0>,port => 80,qs => <<>>,ref => 'Elixir.DomoapiWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},8080},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"3.123.78.125">>,method => <<"GET">>,owner => <0.5087.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"version">>],path_params => #{},port => 80,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip">>},{<<"connection">>,<<"upgrade">>},{<<"host">>,<<"3.123.78.125">>},{<<"user-agent">>,<<"kubectl/v1.12.0 (linux/amd64) kubernetes/0ed3388">>},{<<"x-forwarded-for">>,<<"169.197.108.6">>},{<<"x-forwarded-host">>,<<"3.123.78.125">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"169.197.108.6">>}],request_path => <<"/version">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}
    ancestors: [<0.5086.0>,<0.893.0>,<0.892.0>,'Elixir.DomoapiWeb.Endpoint','Elixir.DomoapiWeb.Supervisor',<0.872.0>]
    message_queue_len: 0
    messages: []
    links: [<0.5086.0>]
    dictionary: [{logger_metadata,{true,[{request_id,<<"FdhfiLdE8kjaY9QAADLh">>}]}}]
    trap_exit: false
    status: running
    heap_size: 17731
    stack_size: 27
    reductions: 132147
  neighbours:
2019-11-18 21:38:30 =ERROR REPORT====
Ranch listener 'Elixir.DomoapiWeb.Endpoint.HTTP', connection process <0.5086.0>, stream 1 had its request process <0.5087.0> exit with reason {{#{'__exception__' => true,'__struct__' => 'Elixir.Phoenix.Router.NoRouteError',conn => #{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 0,cert => undefined,has_body => false,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip">>,<<"connection">> => <<"upgrade">>,<<"host">> => <<"3.123.78.125">>,<<"user-agent">> => <<"kubectl/v1.12.0 (linux/amd64) kubernetes/0ed3388">>,<<"x-forwarded-for">> => <<"169.197.108.6">>,<<"x-forwarded-host">> => <<"3.123.78.125">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"169.197.108.6">>},host => <<"3.123.78.125">>,host_info => undefined,method => <<"GET">>,path => <<"/version">>,path_info => undefined,peer => {{127,0,0,1},40284},pid => <0.5086.0>,port => 80,qs => <<>>,ref => 'Elixir.DomoapiWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},8080},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [#Fun<Elixir.Plug.Logger.1.16531471>,#Fun<Elixir.Phoenix.LiveReloader.0.121962774>],body_params => #{},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"3.123.78.125">>,method => <<"GET">>,owner => <0.5087.0>,params => #{},path_info => [<<"version">>],path_params => #{},port => 80,private => #{'Elixir.DomoapiWeb.Router' => {[],#{'Elixir.PhoenixSwagger.Plug.SwaggerUI' => []}},phoenix_endpoint => 'Elixir.DomoapiWeb.Endpoint',phoenix_router => 'Elixir.DomoapiWeb.Router',plug_session_fetch => #Fun<Elixir.Plug.Session.1.35161479>},query_params => #{},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip">>},{<<"connection">>,<<"upgrade">>},{<<"host">>,<<"3.123.78.125">>},{<<"user-agent">>,<<"kubectl/v1.12.0 (linux/amd64) kubernetes/0ed3388">>},{<<"x-forwarded-for">>,<<"169.197.108.6">>},{<<"x-forwarded-host">>,<<"3.123.78.125">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"169.197.108.6">>}],request_path => <<"/version">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>},{<<"x-request-id">>,<<"FdhfiLdE8kjaY9QAADLh">>}],scheme => http,script_name => [],secret_key_base => <<"ev62lNRCtdBr39e00iYHTrEOGGHD1c9L8fi2zWw/4vDZF0w1S3HpUxXLVMCV4atf">>,state => unset,status => nil},message => <<"no route found for GET /version (DomoapiWeb.Router)">>,plug_status => 404,router => 'Elixir.DomoapiWeb.Router'},[{'Elixir.DomoapiWeb.Router','__match_route__',4,[{file,"lib/domoapi_web/router.ex"},{line,1}]},{'Elixir.DomoapiWeb.Router',call,2,[{file,"lib/phoenix/router.ex"},{line,304}]},{'Elixir.DomoapiWeb.Endpoint',plug_builder_call,2,[{file,"lib/domoapi_web/endpoint.ex"},{line,1}]},{'Elixir.DomoapiWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.DomoapiWeb.Endpoint',call,2,[{file,"lib/domoapi_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,33}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.DomoapiWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 0,cert => undefined,has_body => false,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip">>,<<"connection">> => <<"upgrade">>,<<"host">> => <<"3.123.78.125">>,<<"user-agent">> => <<"kubectl/v1.12.0 (linux/amd64) kubernetes/0ed3388">>,<<"x-forwarded-for">> => <<"169.197.108.6">>,<<"x-forwarded-host">> => <<"3.123.78.125">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"169.197.108.6">>},host => <<"3.123.78.125">>,host_info => undefined,method => <<"GET">>,path => <<"/version">>,path_info => undefined,peer => {{127,0,0,1},40284},pid => <0.5086.0>,port => 80,qs => <<>>,ref => 'Elixir.DomoapiWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},8080},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"3.123.78.125">>,method => <<"GET">>,owner => <0.5087.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"version">>],path_params => #{},port => 80,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip">>},{<<"connection">>,<<"upgrade">>},{<<"host">>,<<"3.123.78.125">>},{<<"user-agent">>,<<"kubectl/v1.12.0 (linux/amd64) kubernetes/0ed3388">>},{<<"x-forwarded-for">>,<<"169.197.108.6">>},{<<"x-forwarded-host">>,<<"3.123.78.125">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"169.197.108.6">>}],request_path => <<"/version">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}} and stacktrace [{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]
2019-11-18 22:44:55 =CRASH REPORT====
  crasher:
    initial call: Elixir.Archive.VideoVisor:init/1
    pid: <0.1186.0>
    registered_name: []
    exception error: bad argument: [{'Elixir.Archive.VideoVisor',create_dir,2,[{file,"lib/archive/video_visor.ex"},{line,59}]},{'Elixir.Archive.VideoVisor',init,1,[{file,"lib/archive/video_visor.ex"},{line,32}]},{gen_server,init_it,2,[{file,"gen_server.erl"},{line,374}]},{gen_server,init_it,6,[{file,"gen_server.erl"},{line,342}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]
    ancestors: ['Elixir.Archive.VideoDynamicSupervisor','Elixir.Archive.Supervisor',<0.1035.0>]
    message_queue_len: 0
    messages: []
    links: [<0.1168.0>]
    dictionary: []
    trap_exit: true
    status: running
    heap_size: 610
    stack_size: 27
    reductions: 382
  neighbours:
2019-11-18 22:48:21 =CRASH REPORT====
  crasher:
    initial call: Elixir.Archive.VideoVisor:init/1
    pid: <0.1207.0>
    registered_name: []
    exception error: bad argument: [{'Elixir.Archive.VideoVisor',create_dir,2,[{file,"lib/archive/video_visor.ex"},{line,59}]},{'Elixir.Archive.VideoVisor',init,1,[{file,"lib/archive/video_visor.ex"},{line,32}]},{gen_server,init_it,2,[{file,"gen_server.erl"},{line,374}]},{gen_server,init_it,6,[{file,"gen_server.erl"},{line,342}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]
    ancestors: ['Elixir.Archive.VideoDynamicSupervisor','Elixir.Archive.Supervisor',<0.1040.0>]
    message_queue_len: 0
    messages: []
    links: [<0.1187.0>]
    dictionary: []
    trap_exit: true
    status: running
    heap_size: 610
    stack_size: 27
    reductions: 382
  neighbours:
2019-11-18 23:03:56 =CRASH REPORT====
  crasher:
    initial call: cowboy_stream_h:request_process/3
    pid: <0.1661.0>
    registered_name: []
    exception exit: {{{{#{'__exception__' => true,'__struct__' => 'Elixir.BadFunctionError',term => #{'__exception__' => true,'__struct__' => 'Elixir.Phoenix.ActionClauseError',args => [#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 15,cert => undefined,has_body => true,has_read_body => true,headers => #{<<"accept-charset">> => <<"UTF-8">>,<<"accept-encoding">> => <<"gzip">>,<<"connection">> => <<"upgrade">>,<<"content-length">> => <<"15">>,<<"content-type">> => <<"application/x-www-form-urlencoded; charset=UTF-8">>,<<"host">> => <<"signaling-api.domoface.ru">>,<<"user-agent">> => <<"Dalvik/2.1.0 (Linux; U; Android 9; JSN-L21 Build/HONORJSN-L21)">>,<<"x-forwarded-for">> => <<"83.149.21.56">>,<<"x-forwarded-host">> => <<"signaling-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"83.149.21.56">>},host => <<"signaling-api.domoface.ru">>,host_info => undefined,method => <<"POST">>,path => <<"/signaling/client/hang">>,path_info => undefined,peer => {{127,0,0,1},43274},pid => <0.1660.0>,port => 80,qs => <<>>,ref => 'Elixir.SignallingWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},8002},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [#Fun<Elixir.Plug.Logger.1.16531471>],body_params => #{<<"client_id">> => <<"test1">>},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"signaling-api.domoface.ru">>,method => <<"POST">>,owner => <0.1661.0>,params => #{<<"client_id">> => <<"test1">>},path_info => [<<"signaling">>,<<"client">>,<<"hang">>],path_params => #{},port => 80,private => #{'Elixir.SignallingWeb.Router' => {[],#{'Elixir.PhoenixSwagger.Plug.SwaggerUI' => []}},phoenix_action => hang,phoenix_controller => 'Elixir.SignallingWeb.ClientController',phoenix_endpoint => 'Elixir.SignallingWeb.Endpoint',phoenix_format => <<"json">>,phoenix_layout => {'Elixir.SignallingWeb.LayoutView',app},phoenix_pipelines => [api],phoenix_router => 'Elixir.SignallingWeb.Router',phoenix_view => 'Elixir.SignallingWeb.ClientView',plug_session_fetch => #Fun<Elixir.Plug.Session.1.35161479>},query_params => #{},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept-charset">>,<<"UTF-8">>},{<<"accept-encoding">>,<<"gzip">>},{<<"connection">>,<<"upgrade">>},{<<"content-length">>,<<"15">>},{<<"content-type">>,<<"application/x-www-form-urlencoded; charset=UTF-8">>},{<<"host">>,<<"signaling-api.domoface.ru">>},{<<"user-agent">>,<<"Dalvik/2.1.0 (Linux; U; Android 9; JSN-L21 Build/HONORJSN-L21)">>},{<<"x-forwarded-for">>,<<"83.149.21.56">>},{<<"x-forwarded-host">>,<<"signaling-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"83.149.21.56">>}],request_path => <<"/signaling/client/hang">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>},{<<"x-request-id">>,<<"FdhkMhaK4emA-QMAAA9i">>}],scheme => http,script_name => [],secret_key_base => <<"QbYUrrjFN0Riyga9S+fzwVIOzV9huX5roR8nCd2Py1QXjvP4xxmSIuPidPSkL+aJ">>,state => unset,status => nil},#{<<"client_id">> => <<"test1">>}],arity => 2,clauses => nil,function => hang,kind => nil,module => 'Elixir.SignallingWeb.ClientController'}},[{'Elixir.FunctionClauseError','-blame/3-fun-0-',2,[{file,"lib/exception.ex"},{line,1105}]},{'Elixir.Enum','-map/2-lists^map/1-0-',2,[{file,"lib/enum.ex"},{line,1336}]},{'Elixir.FunctionClauseError',blame,3,[{file,"lib/exception.ex"},{line,1104}]},{'Elixir.Phoenix.ActionClauseError',blame,2,[{file,"lib/phoenix/exceptions.ex"},{line,59}]},{'Elixir.Plug.Debugger',render,6,[{file,"lib/plug/debugger.ex"},{line,197}]},{'Elixir.Plug.Debugger','__catch__',5,[{file,"lib/plug/debugger.ex"},{line,147}]},{'Elixir.SignallingWeb.Endpoint',call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,33}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.SignallingWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 15,cert => undefined,has_body => true,headers => #{<<"accept-charset">> => <<"UTF-8">>,<<"accept-encoding">> => <<"gzip">>,<<"connection">> => <<"upgrade">>,<<"content-length">> => <<"15">>,<<"content-type">> => <<"application/x-www-form-urlencoded; charset=UTF-8">>,<<"host">> => <<"signaling-api.domoface.ru">>,<<"user-agent">> => <<"Dalvik/2.1.0 (Linux; U; Android 9; JSN-L21 Build/HONORJSN-L21)">>,<<"x-forwarded-for">> => <<"83.149.21.56">>,<<"x-forwarded-host">> => <<"signaling-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"83.149.21.56">>},host => <<"signaling-api.domoface.ru">>,host_info => undefined,method => <<"POST">>,path => <<"/signaling/client/hang">>,path_info => undefined,peer => {{127,0,0,1},43274},pid => <0.1660.0>,port => 80,qs => <<>>,ref => 'Elixir.SignallingWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},8002},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"signaling-api.domoface.ru">>,method => <<"POST">>,owner => <0.1661.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"signaling">>,<<"client">>,<<"hang">>],path_params => #{},port => 80,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept-charset">>,<<"UTF-8">>},{<<"accept-encoding">>,<<"gzip">>},{<<"connection">>,<<"upgrade">>},{<<"content-length">>,<<"15">>},{<<"content-type">>,<<"application/x-www-form-urlencoded; charset=UTF-8">>},{<<"host">>,<<"signaling-api.domoface.ru">>},{<<"user-agent">>,<<"Dalvik/2.1.0 (Linux; U; Android 9; JSN-L21 Build/HONORJSN-L21)">>},{<<"x-forwarded-for">>,<<"83.149.21.56">>},{<<"x-forwarded-host">>,<<"signaling-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"83.149.21.56">>}],request_path => <<"/signaling/client/hang">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}
    ancestors: [<0.1660.0>,<0.1226.0>,<0.1225.0>,'Elixir.SignallingWeb.Endpoint','Elixir.Signalling.Supervisor',<0.1210.0>]
    message_queue_len: 0
    messages: []
    links: [<0.1660.0>]
    dictionary: [{logger_metadata,{true,[{request_id,<<"FdhkMhaK4emA-QMAAA9i">>}]}}]
    trap_exit: false
    status: running
    heap_size: 4185
    stack_size: 27
    reductions: 39240
  neighbours:
2019-11-18 23:03:56 =ERROR REPORT====
Ranch listener 'Elixir.SignallingWeb.Endpoint.HTTP', connection process <0.1660.0>, stream 1 had its request process <0.1661.0> exit with reason {{#{'__exception__' => true,'__struct__' => 'Elixir.BadFunctionError',term => #{'__exception__' => true,'__struct__' => 'Elixir.Phoenix.ActionClauseError',args => [#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 15,cert => undefined,has_body => true,has_read_body => true,headers => #{<<"accept-charset">> => <<"UTF-8">>,<<"accept-encoding">> => <<"gzip">>,<<"connection">> => <<"upgrade">>,<<"content-length">> => <<"15">>,<<"content-type">> => <<"application/x-www-form-urlencoded; charset=UTF-8">>,<<"host">> => <<"signaling-api.domoface.ru">>,<<"user-agent">> => <<"Dalvik/2.1.0 (Linux; U; Android 9; JSN-L21 Build/HONORJSN-L21)">>,<<"x-forwarded-for">> => <<"83.149.21.56">>,<<"x-forwarded-host">> => <<"signaling-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"83.149.21.56">>},host => <<"signaling-api.domoface.ru">>,host_info => undefined,method => <<"POST">>,path => <<"/signaling/client/hang">>,path_info => undefined,peer => {{127,0,0,1},43274},pid => <0.1660.0>,port => 80,qs => <<>>,ref => 'Elixir.SignallingWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},8002},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [#Fun<Elixir.Plug.Logger.1.16531471>],body_params => #{<<"client_id">> => <<"test1">>},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"signaling-api.domoface.ru">>,method => <<"POST">>,owner => <0.1661.0>,params => #{<<"client_id">> => <<"test1">>},path_info => [<<"signaling">>,<<"client">>,<<"hang">>],path_params => #{},port => 80,private => #{'Elixir.SignallingWeb.Router' => {[],#{'Elixir.PhoenixSwagger.Plug.SwaggerUI' => []}},phoenix_action => hang,phoenix_controller => 'Elixir.SignallingWeb.ClientController',phoenix_endpoint => 'Elixir.SignallingWeb.Endpoint',phoenix_format => <<"json">>,phoenix_layout => {'Elixir.SignallingWeb.LayoutView',app},phoenix_pipelines => [api],phoenix_router => 'Elixir.SignallingWeb.Router',phoenix_view => 'Elixir.SignallingWeb.ClientView',plug_session_fetch => #Fun<Elixir.Plug.Session.1.35161479>},query_params => #{},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept-charset">>,<<"UTF-8">>},{<<"accept-encoding">>,<<"gzip">>},{<<"connection">>,<<"upgrade">>},{<<"content-length">>,<<"15">>},{<<"content-type">>,<<"application/x-www-form-urlencoded; charset=UTF-8">>},{<<"host">>,<<"signaling-api.domoface.ru">>},{<<"user-agent">>,<<"Dalvik/2.1.0 (Linux; U; Android 9; JSN-L21 Build/HONORJSN-L21)">>},{<<"x-forwarded-for">>,<<"83.149.21.56">>},{<<"x-forwarded-host">>,<<"signaling-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"83.149.21.56">>}],request_path => <<"/signaling/client/hang">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>},{<<"x-request-id">>,<<"FdhkMhaK4emA-QMAAA9i">>}],scheme => http,script_name => [],secret_key_base => <<"QbYUrrjFN0Riyga9S+fzwVIOzV9huX5roR8nCd2Py1QXjvP4xxmSIuPidPSkL+aJ">>,state => unset,status => nil},#{<<"client_id">> => <<"test1">>}],arity => 2,clauses => nil,function => hang,kind => nil,module => 'Elixir.SignallingWeb.ClientController'}},[{'Elixir.FunctionClauseError','-blame/3-fun-0-',2,[{file,"lib/exception.ex"},{line,1105}]},{'Elixir.Enum','-map/2-lists^map/1-0-',2,[{file,"lib/enum.ex"},{line,1336}]},{'Elixir.FunctionClauseError',blame,3,[{file,"lib/exception.ex"},{line,1104}]},{'Elixir.Phoenix.ActionClauseError',blame,2,[{file,"lib/phoenix/exceptions.ex"},{line,59}]},{'Elixir.Plug.Debugger',render,6,[{file,"lib/plug/debugger.ex"},{line,197}]},{'Elixir.Plug.Debugger','__catch__',5,[{file,"lib/plug/debugger.ex"},{line,147}]},{'Elixir.SignallingWeb.Endpoint',call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,33}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.SignallingWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 15,cert => undefined,has_body => true,headers => #{<<"accept-charset">> => <<"UTF-8">>,<<"accept-encoding">> => <<"gzip">>,<<"connection">> => <<"upgrade">>,<<"content-length">> => <<"15">>,<<"content-type">> => <<"application/x-www-form-urlencoded; charset=UTF-8">>,<<"host">> => <<"signaling-api.domoface.ru">>,<<"user-agent">> => <<"Dalvik/2.1.0 (Linux; U; Android 9; JSN-L21 Build/HONORJSN-L21)">>,<<"x-forwarded-for">> => <<"83.149.21.56">>,<<"x-forwarded-host">> => <<"signaling-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"83.149.21.56">>},host => <<"signaling-api.domoface.ru">>,host_info => undefined,method => <<"POST">>,path => <<"/signaling/client/hang">>,path_info => undefined,peer => {{127,0,0,1},43274},pid => <0.1660.0>,port => 80,qs => <<>>,ref => 'Elixir.SignallingWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},8002},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"signaling-api.domoface.ru">>,method => <<"POST">>,owner => <0.1661.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"signaling">>,<<"client">>,<<"hang">>],path_params => #{},port => 80,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept-charset">>,<<"UTF-8">>},{<<"accept-encoding">>,<<"gzip">>},{<<"connection">>,<<"upgrade">>},{<<"content-length">>,<<"15">>},{<<"content-type">>,<<"application/x-www-form-urlencoded; charset=UTF-8">>},{<<"host">>,<<"signaling-api.domoface.ru">>},{<<"user-agent">>,<<"Dalvik/2.1.0 (Linux; U; Android 9; JSN-L21 Build/HONORJSN-L21)">>},{<<"x-forwarded-for">>,<<"83.149.21.56">>},{<<"x-forwarded-host">>,<<"signaling-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"83.149.21.56">>}],request_path => <<"/signaling/client/hang">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}} and stacktrace [{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]
2019-11-18 23:15:05 =CRASH REPORT====
  crasher:
    initial call: cowboy_stream_h:request_process/3
    pid: <0.1837.0>
    registered_name: []
    exception exit: {{{{#{'__exception__' => true,'__struct__' => 'Elixir.FunctionClauseError',args => nil,arity => 2,clauses => nil,function => sdp_call,kind => nil,module => 'Elixir.Signalling.Notifier'},[{'Elixir.Signalling.Notifier',sdp_call,[[#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9a9b7935-5d31-431c-b354-88b1c6f3542c">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019},serial_key => <<"3157588642d753b0">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,token => <<"e4zyYuvG_oY:APA91bHL9P7qsf_DQIQjfImwJaxKnmjqmm3XTQwCL-1vxojQoNwpVL-oIA_NWLDT-X1Vupuor7a4cCqqF3FfA3faL9A0POGD_QWmXSO3ghgT2Qz5UddYwApYFAlfEFAcdGDSr5CHsKsf">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019}}],id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 8,month => 11,second => 53,year => 2019},password => <<"$2b$12$oOX2mvAXzIhT50XnmsaPpeTRno2B4uUAowr2LyuQ3Ed/1o.5.VG1q">>,phone_number => <<"89176200645">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<208,149,208,178,208,179,208,181,208,189,208,184,208,185,32,208,154,208,176,208,187,208,180,208,184,208,189>>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 36,month => 11,second => 50,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9e411232-1c65-4deb-ba6a-d77786e023d7">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 25,month => 11,second => 40,year => 2019},serial_key => <<"2a05092ea1c0c777">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cbrDPJM9piw:APA91bF0jAJd2IYycMQxuXVeUjNy5I3Yy2Le9ZXcjso14ielexAndVUhXIBeSLvDcmKuo_GsANHXTXjiXE061Jrw_4K_HG4HQAlrs2AJRUEJbeIhAEWf7NW0vuk3EHAAr7dLVXOPexHi">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 9,microsecond => {0,0},minute => 36,month => 11,second => 12,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9679e299-55b8-4498-943b-160c7c877da0">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 16,microsecond => {0,0},minute => 23,month => 11,second => 29,year => 2019},serial_key => <<"9e7225961a706a65">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cOr_nTgNJBM:APA91bELiM_yN8yM0TpQmQfn2BNlmurhJlT3UjhZtaMy3oV1RvEfSEtdIaVgblUBw8-vT7fV6bVlPuDuUWwPvPEhzg-vWnVZqt6rX_h4EVGMvwWoea7Ra66pFEcr77eF9ySJuSBCj3v1">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 11,month => 11,second => 57,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"178d035d-3f31-4b74-b64b-6d5505ed4bf6">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 38,year => 2019},serial_key => <<"3098ad9eabaf20fd">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"d4CfUwvd6g0:APA91bHPkAArHm1p5IHU2zJ3Ea0Vc1fYxhmRp8QAZFRhUBahxqMda2dHGpSXo3wdtc59kauYs8lZWG4ly9nIxr-Re2Xaz1OguNsbUFiKu_yxzLVhgdXm38g18Us1Rv495cY3UHoFK3mp">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 16,month => 11,second => 42,year => 2019}}],id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 15,hour => 12,microsecond => {0,0},minute => 39,month => 11,second => 36,year => 2019},password => <<"$2b$12$XlddKF/xtUSibCfUPGIFder8BVD04Qh9qhAIdee/iSdJE48pNnIKe">>,phone_number => <<"89991945767">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<"Azat verni 2 rubl">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 13,year => 2019}}],#{<<"candidate">> => <<"candidate:1498970736 1 udp 2113937151 10.224.117.49 57921 typ host">>,<<"sdpMLineIndex">> => nil,<<"sdpMid">> => nil}],[{file,"lib/signalling/notifier.ex"},{line,36}]},{'Elixir.Signalling',call_sdp,3,[{file,"lib/signalling.ex"},{line,29}]},{'Elixir.SignallingWeb.IntercomController',sdp_intercom,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,69}]},{'Elixir.SignallingWeb.IntercomController',action,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.IntercomController',phoenix_controller_pipeline,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint',instrument,4,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',1,[{file,"lib/phoenix/router.ex"},{line,275}]},{'Elixir.SignallingWeb.Endpoint',plug_builder_call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.SignallingWeb.Endpoint',call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,33}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.SignallingWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 204,cert => undefined,has_body => true,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip, deflate">>,<<"connection">> => <<"upgrade">>,<<"content-length">> => <<"204">>,<<"content-type">> => <<"application/json">>,<<"host">> => <<"signaling-api.domoface.ru">>,<<"user-agent">> => <<"Python/3.7 aiohttp/3.6.2">>,<<"x-forwarded-for">> => <<"87.76.0.8">>,<<"x-forwarded-host">> => <<"signaling-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"87.76.0.8">>},host => <<"signaling-api.domoface.ru">>,host_info => undefined,method => <<"POST">>,path => <<"/signaling/intercom/sdp_intercom">>,path_info => undefined,peer => {{127,0,0,1},43332},pid => <0.1836.0>,port => 80,qs => <<>>,ref => 'Elixir.SignallingWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},8002},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"signaling-api.domoface.ru">>,method => <<"POST">>,owner => <0.1837.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"signaling">>,<<"intercom">>,<<"sdp_intercom">>],path_params => #{},port => 80,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip, deflate">>},{<<"connection">>,<<"upgrade">>},{<<"content-length">>,<<"204">>},{<<"content-type">>,<<"application/json">>},{<<"host">>,<<"signaling-api.domoface.ru">>},{<<"user-agent">>,<<"Python/3.7 aiohttp/3.6.2">>},{<<"x-forwarded-for">>,<<"87.76.0.8">>},{<<"x-forwarded-host">>,<<"signaling-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"87.76.0.8">>}],request_path => <<"/signaling/intercom/sdp_intercom">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}
    ancestors: [<0.1836.0>,<0.1226.0>,<0.1225.0>,'Elixir.SignallingWeb.Endpoint','Elixir.Signalling.Supervisor',<0.1210.0>]
    message_queue_len: 0
    messages: []
    links: [<0.1836.0>]
    dictionary: [{logger_metadata,{true,[{request_id,<<"Fdhkzene-PtfXQYAAA_C">>}]}}]
    trap_exit: false
    status: running
    heap_size: 6772
    stack_size: 27
    reductions: 173206
  neighbours:
2019-11-18 23:15:05 =ERROR REPORT====
Ranch listener 'Elixir.SignallingWeb.Endpoint.HTTP', connection process <0.1836.0>, stream 1 had its request process <0.1837.0> exit with reason {{#{'__exception__' => true,'__struct__' => 'Elixir.FunctionClauseError',args => nil,arity => 2,clauses => nil,function => sdp_call,kind => nil,module => 'Elixir.Signalling.Notifier'},[{'Elixir.Signalling.Notifier',sdp_call,[[#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9a9b7935-5d31-431c-b354-88b1c6f3542c">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019},serial_key => <<"3157588642d753b0">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,token => <<"e4zyYuvG_oY:APA91bHL9P7qsf_DQIQjfImwJaxKnmjqmm3XTQwCL-1vxojQoNwpVL-oIA_NWLDT-X1Vupuor7a4cCqqF3FfA3faL9A0POGD_QWmXSO3ghgT2Qz5UddYwApYFAlfEFAcdGDSr5CHsKsf">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019}}],id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 8,month => 11,second => 53,year => 2019},password => <<"$2b$12$oOX2mvAXzIhT50XnmsaPpeTRno2B4uUAowr2LyuQ3Ed/1o.5.VG1q">>,phone_number => <<"89176200645">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<208,149,208,178,208,179,208,181,208,189,208,184,208,185,32,208,154,208,176,208,187,208,180,208,184,208,189>>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 36,month => 11,second => 50,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9e411232-1c65-4deb-ba6a-d77786e023d7">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 25,month => 11,second => 40,year => 2019},serial_key => <<"2a05092ea1c0c777">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cbrDPJM9piw:APA91bF0jAJd2IYycMQxuXVeUjNy5I3Yy2Le9ZXcjso14ielexAndVUhXIBeSLvDcmKuo_GsANHXTXjiXE061Jrw_4K_HG4HQAlrs2AJRUEJbeIhAEWf7NW0vuk3EHAAr7dLVXOPexHi">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 9,microsecond => {0,0},minute => 36,month => 11,second => 12,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9679e299-55b8-4498-943b-160c7c877da0">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 16,microsecond => {0,0},minute => 23,month => 11,second => 29,year => 2019},serial_key => <<"9e7225961a706a65">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cOr_nTgNJBM:APA91bELiM_yN8yM0TpQmQfn2BNlmurhJlT3UjhZtaMy3oV1RvEfSEtdIaVgblUBw8-vT7fV6bVlPuDuUWwPvPEhzg-vWnVZqt6rX_h4EVGMvwWoea7Ra66pFEcr77eF9ySJuSBCj3v1">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 11,month => 11,second => 57,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"178d035d-3f31-4b74-b64b-6d5505ed4bf6">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 38,year => 2019},serial_key => <<"3098ad9eabaf20fd">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"d4CfUwvd6g0:APA91bHPkAArHm1p5IHU2zJ3Ea0Vc1fYxhmRp8QAZFRhUBahxqMda2dHGpSXo3wdtc59kauYs8lZWG4ly9nIxr-Re2Xaz1OguNsbUFiKu_yxzLVhgdXm38g18Us1Rv495cY3UHoFK3mp">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 16,month => 11,second => 42,year => 2019}}],id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 15,hour => 12,microsecond => {0,0},minute => 39,month => 11,second => 36,year => 2019},password => <<"$2b$12$XlddKF/xtUSibCfUPGIFder8BVD04Qh9qhAIdee/iSdJE48pNnIKe">>,phone_number => <<"89991945767">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<"Azat verni 2 rubl">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 13,year => 2019}}],#{<<"candidate">> => <<"candidate:1498970736 1 udp 2113937151 10.224.117.49 57921 typ host">>,<<"sdpMLineIndex">> => nil,<<"sdpMid">> => nil}],[{file,"lib/signalling/notifier.ex"},{line,36}]},{'Elixir.Signalling',call_sdp,3,[{file,"lib/signalling.ex"},{line,29}]},{'Elixir.SignallingWeb.IntercomController',sdp_intercom,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,69}]},{'Elixir.SignallingWeb.IntercomController',action,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.IntercomController',phoenix_controller_pipeline,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint',instrument,4,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',1,[{file,"lib/phoenix/router.ex"},{line,275}]},{'Elixir.SignallingWeb.Endpoint',plug_builder_call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.SignallingWeb.Endpoint',call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,33}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.SignallingWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 204,cert => undefined,has_body => true,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip, deflate">>,<<"connection">> => <<"upgrade">>,<<"content-length">> => <<"204">>,<<"content-type">> => <<"application/json">>,<<"host">> => <<"signaling-api.domoface.ru">>,<<"user-agent">> => <<"Python/3.7 aiohttp/3.6.2">>,<<"x-forwarded-for">> => <<"87.76.0.8">>,<<"x-forwarded-host">> => <<"signaling-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"87.76.0.8">>},host => <<"signaling-api.domoface.ru">>,host_info => undefined,method => <<"POST">>,path => <<"/signaling/intercom/sdp_intercom">>,path_info => undefined,peer => {{127,0,0,1},43332},pid => <0.1836.0>,port => 80,qs => <<>>,ref => 'Elixir.SignallingWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},8002},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"signaling-api.domoface.ru">>,method => <<"POST">>,owner => <0.1837.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"signaling">>,<<"intercom">>,<<"sdp_intercom">>],path_params => #{},port => 80,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip, deflate">>},{<<"connection">>,<<"upgrade">>},{<<"content-length">>,<<"204">>},{<<"content-type">>,<<"application/json">>},{<<"host">>,<<"signaling-api.domoface.ru">>},{<<"user-agent">>,<<"Python/3.7 aiohttp/3.6.2">>},{<<"x-forwarded-for">>,<<"87.76.0.8">>},{<<"x-forwarded-host">>,<<"signaling-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"87.76.0.8">>}],request_path => <<"/signaling/intercom/sdp_intercom">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}} and stacktrace [{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]
2019-11-18 23:15:05 =CRASH REPORT====
  crasher:
    initial call: cowboy_stream_h:request_process/3
    pid: <0.1841.0>
    registered_name: []
    exception exit: {{{{#{'__exception__' => true,'__struct__' => 'Elixir.FunctionClauseError',args => nil,arity => 2,clauses => nil,function => sdp_call,kind => nil,module => 'Elixir.Signalling.Notifier'},[{'Elixir.Signalling.Notifier',sdp_call,[[#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9a9b7935-5d31-431c-b354-88b1c6f3542c">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019},serial_key => <<"3157588642d753b0">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,token => <<"e4zyYuvG_oY:APA91bHL9P7qsf_DQIQjfImwJaxKnmjqmm3XTQwCL-1vxojQoNwpVL-oIA_NWLDT-X1Vupuor7a4cCqqF3FfA3faL9A0POGD_QWmXSO3ghgT2Qz5UddYwApYFAlfEFAcdGDSr5CHsKsf">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019}}],id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 8,month => 11,second => 53,year => 2019},password => <<"$2b$12$oOX2mvAXzIhT50XnmsaPpeTRno2B4uUAowr2LyuQ3Ed/1o.5.VG1q">>,phone_number => <<"89176200645">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<208,149,208,178,208,179,208,181,208,189,208,184,208,185,32,208,154,208,176,208,187,208,180,208,184,208,189>>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 36,month => 11,second => 50,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9e411232-1c65-4deb-ba6a-d77786e023d7">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 25,month => 11,second => 40,year => 2019},serial_key => <<"2a05092ea1c0c777">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cbrDPJM9piw:APA91bF0jAJd2IYycMQxuXVeUjNy5I3Yy2Le9ZXcjso14ielexAndVUhXIBeSLvDcmKuo_GsANHXTXjiXE061Jrw_4K_HG4HQAlrs2AJRUEJbeIhAEWf7NW0vuk3EHAAr7dLVXOPexHi">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 9,microsecond => {0,0},minute => 36,month => 11,second => 12,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9679e299-55b8-4498-943b-160c7c877da0">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 16,microsecond => {0,0},minute => 23,month => 11,second => 29,year => 2019},serial_key => <<"9e7225961a706a65">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cOr_nTgNJBM:APA91bELiM_yN8yM0TpQmQfn2BNlmurhJlT3UjhZtaMy3oV1RvEfSEtdIaVgblUBw8-vT7fV6bVlPuDuUWwPvPEhzg-vWnVZqt6rX_h4EVGMvwWoea7Ra66pFEcr77eF9ySJuSBCj3v1">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 11,month => 11,second => 57,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"178d035d-3f31-4b74-b64b-6d5505ed4bf6">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 38,year => 2019},serial_key => <<"3098ad9eabaf20fd">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"d4CfUwvd6g0:APA91bHPkAArHm1p5IHU2zJ3Ea0Vc1fYxhmRp8QAZFRhUBahxqMda2dHGpSXo3wdtc59kauYs8lZWG4ly9nIxr-Re2Xaz1OguNsbUFiKu_yxzLVhgdXm38g18Us1Rv495cY3UHoFK3mp">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 16,month => 11,second => 42,year => 2019}}],id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 15,hour => 12,microsecond => {0,0},minute => 39,month => 11,second => 36,year => 2019},password => <<"$2b$12$XlddKF/xtUSibCfUPGIFder8BVD04Qh9qhAIdee/iSdJE48pNnIKe">>,phone_number => <<"89991945767">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<"Azat verni 2 rubl">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 13,year => 2019}}],#{<<"candidate">> => <<"candidate:842163049 1 udp 1677729535 85.26.233.154 49081 typ srflx raddr 10.224.117.49 rport 57921">>,<<"sdpMLineIndex">> => nil,<<"sdpMid">> => nil}],[{file,"lib/signalling/notifier.ex"},{line,36}]},{'Elixir.Signalling',call_sdp,3,[{file,"lib/signalling.ex"},{line,29}]},{'Elixir.SignallingWeb.IntercomController',sdp_intercom,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,69}]},{'Elixir.SignallingWeb.IntercomController',action,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.IntercomController',phoenix_controller_pipeline,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint',instrument,4,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',1,[{file,"lib/phoenix/router.ex"},{line,275}]},{'Elixir.SignallingWeb.Endpoint',plug_builder_call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.SignallingWeb.Endpoint',call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,33}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.SignallingWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 236,cert => undefined,has_body => true,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip, deflate">>,<<"connection">> => <<"upgrade">>,<<"content-length">> => <<"236">>,<<"content-type">> => <<"application/json">>,<<"host">> => <<"signaling-api.domoface.ru">>,<<"user-agent">> => <<"Python/3.7 aiohttp/3.6.2">>,<<"x-forwarded-for">> => <<"87.76.0.8">>,<<"x-forwarded-host">> => <<"signaling-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"87.76.0.8">>},host => <<"signaling-api.domoface.ru">>,host_info => undefined,method => <<"POST">>,path => <<"/signaling/intercom/sdp_intercom">>,path_info => undefined,peer => {{127,0,0,1},43334},pid => <0.1840.0>,port => 80,qs => <<>>,ref => 'Elixir.SignallingWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},8002},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"signaling-api.domoface.ru">>,method => <<"POST">>,owner => <0.1841.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"signaling">>,<<"intercom">>,<<"sdp_intercom">>],path_params => #{},port => 80,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip, deflate">>},{<<"connection">>,<<"upgrade">>},{<<"content-length">>,<<"236">>},{<<"content-type">>,<<"application/json">>},{<<"host">>,<<"signaling-api.domoface.ru">>},{<<"user-agent">>,<<"Python/3.7 aiohttp/3.6.2">>},{<<"x-forwarded-for">>,<<"87.76.0.8">>},{<<"x-forwarded-host">>,<<"signaling-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"87.76.0.8">>}],request_path => <<"/signaling/intercom/sdp_intercom">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}
    ancestors: [<0.1840.0>,<0.1226.0>,<0.1225.0>,'Elixir.SignallingWeb.Endpoint','Elixir.Signalling.Supervisor',<0.1210.0>]
    message_queue_len: 0
    messages: []
    links: [<0.1840.0>]
    dictionary: [{logger_metadata,{true,[{request_id,<<"Fdhkzgtc7GAme40AAA_i">>}]}}]
    trap_exit: false
    status: running
    heap_size: 6772
    stack_size: 27
    reductions: 173595
  neighbours:
2019-11-18 23:15:05 =ERROR REPORT====
Ranch listener 'Elixir.SignallingWeb.Endpoint.HTTP', connection process <0.1840.0>, stream 1 had its request process <0.1841.0> exit with reason {{#{'__exception__' => true,'__struct__' => 'Elixir.FunctionClauseError',args => nil,arity => 2,clauses => nil,function => sdp_call,kind => nil,module => 'Elixir.Signalling.Notifier'},[{'Elixir.Signalling.Notifier',sdp_call,[[#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9a9b7935-5d31-431c-b354-88b1c6f3542c">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019},serial_key => <<"3157588642d753b0">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,token => <<"e4zyYuvG_oY:APA91bHL9P7qsf_DQIQjfImwJaxKnmjqmm3XTQwCL-1vxojQoNwpVL-oIA_NWLDT-X1Vupuor7a4cCqqF3FfA3faL9A0POGD_QWmXSO3ghgT2Qz5UddYwApYFAlfEFAcdGDSr5CHsKsf">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019}}],id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 8,month => 11,second => 53,year => 2019},password => <<"$2b$12$oOX2mvAXzIhT50XnmsaPpeTRno2B4uUAowr2LyuQ3Ed/1o.5.VG1q">>,phone_number => <<"89176200645">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<208,149,208,178,208,179,208,181,208,189,208,184,208,185,32,208,154,208,176,208,187,208,180,208,184,208,189>>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 36,month => 11,second => 50,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9e411232-1c65-4deb-ba6a-d77786e023d7">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 25,month => 11,second => 40,year => 2019},serial_key => <<"2a05092ea1c0c777">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cbrDPJM9piw:APA91bF0jAJd2IYycMQxuXVeUjNy5I3Yy2Le9ZXcjso14ielexAndVUhXIBeSLvDcmKuo_GsANHXTXjiXE061Jrw_4K_HG4HQAlrs2AJRUEJbeIhAEWf7NW0vuk3EHAAr7dLVXOPexHi">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 9,microsecond => {0,0},minute => 36,month => 11,second => 12,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9679e299-55b8-4498-943b-160c7c877da0">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 16,microsecond => {0,0},minute => 23,month => 11,second => 29,year => 2019},serial_key => <<"9e7225961a706a65">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cOr_nTgNJBM:APA91bELiM_yN8yM0TpQmQfn2BNlmurhJlT3UjhZtaMy3oV1RvEfSEtdIaVgblUBw8-vT7fV6bVlPuDuUWwPvPEhzg-vWnVZqt6rX_h4EVGMvwWoea7Ra66pFEcr77eF9ySJuSBCj3v1">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 11,month => 11,second => 57,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"178d035d-3f31-4b74-b64b-6d5505ed4bf6">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 38,year => 2019},serial_key => <<"3098ad9eabaf20fd">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"d4CfUwvd6g0:APA91bHPkAArHm1p5IHU2zJ3Ea0Vc1fYxhmRp8QAZFRhUBahxqMda2dHGpSXo3wdtc59kauYs8lZWG4ly9nIxr-Re2Xaz1OguNsbUFiKu_yxzLVhgdXm38g18Us1Rv495cY3UHoFK3mp">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 16,month => 11,second => 42,year => 2019}}],id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 15,hour => 12,microsecond => {0,0},minute => 39,month => 11,second => 36,year => 2019},password => <<"$2b$12$XlddKF/xtUSibCfUPGIFder8BVD04Qh9qhAIdee/iSdJE48pNnIKe">>,phone_number => <<"89991945767">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<"Azat verni 2 rubl">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 13,year => 2019}}],#{<<"candidate">> => <<"candidate:842163049 1 udp 1677729535 85.26.233.154 49081 typ srflx raddr 10.224.117.49 rport 57921">>,<<"sdpMLineIndex">> => nil,<<"sdpMid">> => nil}],[{file,"lib/signalling/notifier.ex"},{line,36}]},{'Elixir.Signalling',call_sdp,3,[{file,"lib/signalling.ex"},{line,29}]},{'Elixir.SignallingWeb.IntercomController',sdp_intercom,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,69}]},{'Elixir.SignallingWeb.IntercomController',action,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.IntercomController',phoenix_controller_pipeline,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint',instrument,4,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',1,[{file,"lib/phoenix/router.ex"},{line,275}]},{'Elixir.SignallingWeb.Endpoint',plug_builder_call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.SignallingWeb.Endpoint',call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,33}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.SignallingWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 236,cert => undefined,has_body => true,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip, deflate">>,<<"connection">> => <<"upgrade">>,<<"content-length">> => <<"236">>,<<"content-type">> => <<"application/json">>,<<"host">> => <<"signaling-api.domoface.ru">>,<<"user-agent">> => <<"Python/3.7 aiohttp/3.6.2">>,<<"x-forwarded-for">> => <<"87.76.0.8">>,<<"x-forwarded-host">> => <<"signaling-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"87.76.0.8">>},host => <<"signaling-api.domoface.ru">>,host_info => undefined,method => <<"POST">>,path => <<"/signaling/intercom/sdp_intercom">>,path_info => undefined,peer => {{127,0,0,1},43334},pid => <0.1840.0>,port => 80,qs => <<>>,ref => 'Elixir.SignallingWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},8002},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"signaling-api.domoface.ru">>,method => <<"POST">>,owner => <0.1841.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"signaling">>,<<"intercom">>,<<"sdp_intercom">>],path_params => #{},port => 80,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip, deflate">>},{<<"connection">>,<<"upgrade">>},{<<"content-length">>,<<"236">>},{<<"content-type">>,<<"application/json">>},{<<"host">>,<<"signaling-api.domoface.ru">>},{<<"user-agent">>,<<"Python/3.7 aiohttp/3.6.2">>},{<<"x-forwarded-for">>,<<"87.76.0.8">>},{<<"x-forwarded-host">>,<<"signaling-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"87.76.0.8">>}],request_path => <<"/signaling/intercom/sdp_intercom">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}} and stacktrace [{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]
2019-11-18 23:15:06 =CRASH REPORT====
  crasher:
    initial call: cowboy_stream_h:request_process/3
    pid: <0.1845.0>
    registered_name: []
    exception exit: {{{{#{'__exception__' => true,'__struct__' => 'Elixir.FunctionClauseError',args => nil,arity => 2,clauses => nil,function => sdp_call,kind => nil,module => 'Elixir.Signalling.Notifier'},[{'Elixir.Signalling.Notifier',sdp_call,[[#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9a9b7935-5d31-431c-b354-88b1c6f3542c">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019},serial_key => <<"3157588642d753b0">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,token => <<"e4zyYuvG_oY:APA91bHL9P7qsf_DQIQjfImwJaxKnmjqmm3XTQwCL-1vxojQoNwpVL-oIA_NWLDT-X1Vupuor7a4cCqqF3FfA3faL9A0POGD_QWmXSO3ghgT2Qz5UddYwApYFAlfEFAcdGDSr5CHsKsf">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019}}],id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 8,month => 11,second => 53,year => 2019},password => <<"$2b$12$oOX2mvAXzIhT50XnmsaPpeTRno2B4uUAowr2LyuQ3Ed/1o.5.VG1q">>,phone_number => <<"89176200645">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<208,149,208,178,208,179,208,181,208,189,208,184,208,185,32,208,154,208,176,208,187,208,180,208,184,208,189>>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 36,month => 11,second => 50,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9e411232-1c65-4deb-ba6a-d77786e023d7">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 25,month => 11,second => 40,year => 2019},serial_key => <<"2a05092ea1c0c777">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cbrDPJM9piw:APA91bF0jAJd2IYycMQxuXVeUjNy5I3Yy2Le9ZXcjso14ielexAndVUhXIBeSLvDcmKuo_GsANHXTXjiXE061Jrw_4K_HG4HQAlrs2AJRUEJbeIhAEWf7NW0vuk3EHAAr7dLVXOPexHi">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 9,microsecond => {0,0},minute => 36,month => 11,second => 12,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9679e299-55b8-4498-943b-160c7c877da0">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 16,microsecond => {0,0},minute => 23,month => 11,second => 29,year => 2019},serial_key => <<"9e7225961a706a65">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cOr_nTgNJBM:APA91bELiM_yN8yM0TpQmQfn2BNlmurhJlT3UjhZtaMy3oV1RvEfSEtdIaVgblUBw8-vT7fV6bVlPuDuUWwPvPEhzg-vWnVZqt6rX_h4EVGMvwWoea7Ra66pFEcr77eF9ySJuSBCj3v1">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 11,month => 11,second => 57,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"178d035d-3f31-4b74-b64b-6d5505ed4bf6">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 38,year => 2019},serial_key => <<"3098ad9eabaf20fd">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"d4CfUwvd6g0:APA91bHPkAArHm1p5IHU2zJ3Ea0Vc1fYxhmRp8QAZFRhUBahxqMda2dHGpSXo3wdtc59kauYs8lZWG4ly9nIxr-Re2Xaz1OguNsbUFiKu_yxzLVhgdXm38g18Us1Rv495cY3UHoFK3mp">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 16,month => 11,second => 42,year => 2019}}],id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 15,hour => 12,microsecond => {0,0},minute => 39,month => 11,second => 36,year => 2019},password => <<"$2b$12$XlddKF/xtUSibCfUPGIFder8BVD04Qh9qhAIdee/iSdJE48pNnIKe">>,phone_number => <<"89991945767">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<"Azat verni 2 rubl">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 13,year => 2019}}],#{<<"candidate">> => <<"candidate:2212263285 1 udp 33562367 3.123.78.125 64741 typ relay raddr 85.26.233.154 rport 49081">>,<<"sdpMLineIndex">> => nil,<<"sdpMid">> => nil}],[{file,"lib/signalling/notifier.ex"},{line,36}]},{'Elixir.Signalling',call_sdp,3,[{file,"lib/signalling.ex"},{line,29}]},{'Elixir.SignallingWeb.IntercomController',sdp_intercom,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,69}]},{'Elixir.SignallingWeb.IntercomController',action,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.IntercomController',phoenix_controller_pipeline,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint',instrument,4,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',1,[{file,"lib/phoenix/router.ex"},{line,275}]},{'Elixir.SignallingWeb.Endpoint',plug_builder_call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.SignallingWeb.Endpoint',call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,33}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.SignallingWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 234,cert => undefined,has_body => true,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip, deflate">>,<<"connection">> => <<"upgrade">>,<<"content-length">> => <<"234">>,<<"content-type">> => <<"application/json">>,<<"host">> => <<"signaling-api.domoface.ru">>,<<"user-agent">> => <<"Python/3.7 aiohttp/3.6.2">>,<<"x-forwarded-for">> => <<"87.76.0.8">>,<<"x-forwarded-host">> => <<"signaling-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"87.76.0.8">>},host => <<"signaling-api.domoface.ru">>,host_info => undefined,method => <<"POST">>,path => <<"/signaling/intercom/sdp_intercom">>,path_info => undefined,peer => {{127,0,0,1},43336},pid => <0.1844.0>,port => 80,qs => <<>>,ref => 'Elixir.SignallingWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},8002},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"signaling-api.domoface.ru">>,method => <<"POST">>,owner => <0.1845.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"signaling">>,<<"intercom">>,<<"sdp_intercom">>],path_params => #{},port => 80,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip, deflate">>},{<<"connection">>,<<"upgrade">>},{<<"content-length">>,<<"234">>},{<<"content-type">>,<<"application/json">>},{<<"host">>,<<"signaling-api.domoface.ru">>},{<<"user-agent">>,<<"Python/3.7 aiohttp/3.6.2">>},{<<"x-forwarded-for">>,<<"87.76.0.8">>},{<<"x-forwarded-host">>,<<"signaling-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"87.76.0.8">>}],request_path => <<"/signaling/intercom/sdp_intercom">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}
    ancestors: [<0.1844.0>,<0.1226.0>,<0.1225.0>,'Elixir.SignallingWeb.Endpoint','Elixir.Signalling.Supervisor',<0.1210.0>]
    message_queue_len: 0
    messages: []
    links: [<0.1844.0>]
    dictionary: [{logger_metadata,{true,[{request_id,<<"Fdhkzix6kckgjXcAABAC">>}]}}]
    trap_exit: false
    status: running
    heap_size: 10958
    stack_size: 27
    reductions: 172279
  neighbours:
2019-11-18 23:15:06 =ERROR REPORT====
Ranch listener 'Elixir.SignallingWeb.Endpoint.HTTP', connection process <0.1844.0>, stream 1 had its request process <0.1845.0> exit with reason {{#{'__exception__' => true,'__struct__' => 'Elixir.FunctionClauseError',args => nil,arity => 2,clauses => nil,function => sdp_call,kind => nil,module => 'Elixir.Signalling.Notifier'},[{'Elixir.Signalling.Notifier',sdp_call,[[#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9a9b7935-5d31-431c-b354-88b1c6f3542c">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019},serial_key => <<"3157588642d753b0">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,token => <<"e4zyYuvG_oY:APA91bHL9P7qsf_DQIQjfImwJaxKnmjqmm3XTQwCL-1vxojQoNwpVL-oIA_NWLDT-X1Vupuor7a4cCqqF3FfA3faL9A0POGD_QWmXSO3ghgT2Qz5UddYwApYFAlfEFAcdGDSr5CHsKsf">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019}}],id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 8,month => 11,second => 53,year => 2019},password => <<"$2b$12$oOX2mvAXzIhT50XnmsaPpeTRno2B4uUAowr2LyuQ3Ed/1o.5.VG1q">>,phone_number => <<"89176200645">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<208,149,208,178,208,179,208,181,208,189,208,184,208,185,32,208,154,208,176,208,187,208,180,208,184,208,189>>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 36,month => 11,second => 50,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9e411232-1c65-4deb-ba6a-d77786e023d7">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 25,month => 11,second => 40,year => 2019},serial_key => <<"2a05092ea1c0c777">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cbrDPJM9piw:APA91bF0jAJd2IYycMQxuXVeUjNy5I3Yy2Le9ZXcjso14ielexAndVUhXIBeSLvDcmKuo_GsANHXTXjiXE061Jrw_4K_HG4HQAlrs2AJRUEJbeIhAEWf7NW0vuk3EHAAr7dLVXOPexHi">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 9,microsecond => {0,0},minute => 36,month => 11,second => 12,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9679e299-55b8-4498-943b-160c7c877da0">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 16,microsecond => {0,0},minute => 23,month => 11,second => 29,year => 2019},serial_key => <<"9e7225961a706a65">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cOr_nTgNJBM:APA91bELiM_yN8yM0TpQmQfn2BNlmurhJlT3UjhZtaMy3oV1RvEfSEtdIaVgblUBw8-vT7fV6bVlPuDuUWwPvPEhzg-vWnVZqt6rX_h4EVGMvwWoea7Ra66pFEcr77eF9ySJuSBCj3v1">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 11,month => 11,second => 57,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"178d035d-3f31-4b74-b64b-6d5505ed4bf6">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 38,year => 2019},serial_key => <<"3098ad9eabaf20fd">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"d4CfUwvd6g0:APA91bHPkAArHm1p5IHU2zJ3Ea0Vc1fYxhmRp8QAZFRhUBahxqMda2dHGpSXo3wdtc59kauYs8lZWG4ly9nIxr-Re2Xaz1OguNsbUFiKu_yxzLVhgdXm38g18Us1Rv495cY3UHoFK3mp">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 16,month => 11,second => 42,year => 2019}}],id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 15,hour => 12,microsecond => {0,0},minute => 39,month => 11,second => 36,year => 2019},password => <<"$2b$12$XlddKF/xtUSibCfUPGIFder8BVD04Qh9qhAIdee/iSdJE48pNnIKe">>,phone_number => <<"89991945767">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<"Azat verni 2 rubl">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 13,year => 2019}}],#{<<"candidate">> => <<"candidate:2212263285 1 udp 33562367 3.123.78.125 64741 typ relay raddr 85.26.233.154 rport 49081">>,<<"sdpMLineIndex">> => nil,<<"sdpMid">> => nil}],[{file,"lib/signalling/notifier.ex"},{line,36}]},{'Elixir.Signalling',call_sdp,3,[{file,"lib/signalling.ex"},{line,29}]},{'Elixir.SignallingWeb.IntercomController',sdp_intercom,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,69}]},{'Elixir.SignallingWeb.IntercomController',action,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.IntercomController',phoenix_controller_pipeline,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint',instrument,4,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',1,[{file,"lib/phoenix/router.ex"},{line,275}]},{'Elixir.SignallingWeb.Endpoint',plug_builder_call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.SignallingWeb.Endpoint',call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,33}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.SignallingWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 234,cert => undefined,has_body => true,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip, deflate">>,<<"connection">> => <<"upgrade">>,<<"content-length">> => <<"234">>,<<"content-type">> => <<"application/json">>,<<"host">> => <<"signaling-api.domoface.ru">>,<<"user-agent">> => <<"Python/3.7 aiohttp/3.6.2">>,<<"x-forwarded-for">> => <<"87.76.0.8">>,<<"x-forwarded-host">> => <<"signaling-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"87.76.0.8">>},host => <<"signaling-api.domoface.ru">>,host_info => undefined,method => <<"POST">>,path => <<"/signaling/intercom/sdp_intercom">>,path_info => undefined,peer => {{127,0,0,1},43336},pid => <0.1844.0>,port => 80,qs => <<>>,ref => 'Elixir.SignallingWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},8002},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"signaling-api.domoface.ru">>,method => <<"POST">>,owner => <0.1845.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"signaling">>,<<"intercom">>,<<"sdp_intercom">>],path_params => #{},port => 80,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip, deflate">>},{<<"connection">>,<<"upgrade">>},{<<"content-length">>,<<"234">>},{<<"content-type">>,<<"application/json">>},{<<"host">>,<<"signaling-api.domoface.ru">>},{<<"user-agent">>,<<"Python/3.7 aiohttp/3.6.2">>},{<<"x-forwarded-for">>,<<"87.76.0.8">>},{<<"x-forwarded-host">>,<<"signaling-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"87.76.0.8">>}],request_path => <<"/signaling/intercom/sdp_intercom">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}} and stacktrace [{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]
2019-11-18 23:16:09 =CRASH REPORT====
  crasher:
    initial call: cowboy_stream_h:request_process/3
    pid: <0.1898.0>
    registered_name: []
    exception exit: {{{{#{'__exception__' => true,'__struct__' => 'Elixir.FunctionClauseError',args => nil,arity => 2,clauses => nil,function => sdp_call,kind => nil,module => 'Elixir.Signalling.Notifier'},[{'Elixir.Signalling.Notifier',sdp_call,[[#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9a9b7935-5d31-431c-b354-88b1c6f3542c">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019},serial_key => <<"3157588642d753b0">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,token => <<"e4zyYuvG_oY:APA91bHL9P7qsf_DQIQjfImwJaxKnmjqmm3XTQwCL-1vxojQoNwpVL-oIA_NWLDT-X1Vupuor7a4cCqqF3FfA3faL9A0POGD_QWmXSO3ghgT2Qz5UddYwApYFAlfEFAcdGDSr5CHsKsf">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019}}],id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 8,month => 11,second => 53,year => 2019},password => <<"$2b$12$oOX2mvAXzIhT50XnmsaPpeTRno2B4uUAowr2LyuQ3Ed/1o.5.VG1q">>,phone_number => <<"89176200645">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<208,149,208,178,208,179,208,181,208,189,208,184,208,185,32,208,154,208,176,208,187,208,180,208,184,208,189>>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 36,month => 11,second => 50,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9e411232-1c65-4deb-ba6a-d77786e023d7">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 25,month => 11,second => 40,year => 2019},serial_key => <<"2a05092ea1c0c777">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cbrDPJM9piw:APA91bF0jAJd2IYycMQxuXVeUjNy5I3Yy2Le9ZXcjso14ielexAndVUhXIBeSLvDcmKuo_GsANHXTXjiXE061Jrw_4K_HG4HQAlrs2AJRUEJbeIhAEWf7NW0vuk3EHAAr7dLVXOPexHi">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 9,microsecond => {0,0},minute => 36,month => 11,second => 12,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9679e299-55b8-4498-943b-160c7c877da0">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 16,microsecond => {0,0},minute => 23,month => 11,second => 29,year => 2019},serial_key => <<"9e7225961a706a65">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cOr_nTgNJBM:APA91bELiM_yN8yM0TpQmQfn2BNlmurhJlT3UjhZtaMy3oV1RvEfSEtdIaVgblUBw8-vT7fV6bVlPuDuUWwPvPEhzg-vWnVZqt6rX_h4EVGMvwWoea7Ra66pFEcr77eF9ySJuSBCj3v1">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 11,month => 11,second => 57,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"178d035d-3f31-4b74-b64b-6d5505ed4bf6">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 38,year => 2019},serial_key => <<"3098ad9eabaf20fd">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"d4CfUwvd6g0:APA91bHPkAArHm1p5IHU2zJ3Ea0Vc1fYxhmRp8QAZFRhUBahxqMda2dHGpSXo3wdtc59kauYs8lZWG4ly9nIxr-Re2Xaz1OguNsbUFiKu_yxzLVhgdXm38g18Us1Rv495cY3UHoFK3mp">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 16,month => 11,second => 42,year => 2019}}],id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 15,hour => 12,microsecond => {0,0},minute => 39,month => 11,second => 36,year => 2019},password => <<"$2b$12$XlddKF/xtUSibCfUPGIFder8BVD04Qh9qhAIdee/iSdJE48pNnIKe">>,phone_number => <<"89991945767">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<"Azat verni 2 rubl">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 13,year => 2019}}],#{<<"candidate">> => <<"candidate:842163049 1 udp 1677729535 85.26.233.154 38640 typ srflx raddr 10.224.117.49 rport 33659">>,<<"sdpMLineIndex">> => nil,<<"sdpMid">> => nil}],[{file,"lib/signalling/notifier.ex"},{line,36}]},{'Elixir.Signalling',call_sdp,3,[{file,"lib/signalling.ex"},{line,29}]},{'Elixir.SignallingWeb.IntercomController',sdp_intercom,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,69}]},{'Elixir.SignallingWeb.IntercomController',action,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.IntercomController',phoenix_controller_pipeline,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint',instrument,4,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',1,[{file,"lib/phoenix/router.ex"},{line,275}]},{'Elixir.SignallingWeb.Endpoint',plug_builder_call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.SignallingWeb.Endpoint',call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,33}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.SignallingWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 236,cert => undefined,has_body => true,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip, deflate">>,<<"connection">> => <<"upgrade">>,<<"content-length">> => <<"236">>,<<"content-type">> => <<"application/json">>,<<"host">> => <<"signaling-api.domoface.ru">>,<<"user-agent">> => <<"Python/3.7 aiohttp/3.6.2">>,<<"x-forwarded-for">> => <<"87.76.0.8">>,<<"x-forwarded-host">> => <<"signaling-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"87.76.0.8">>},host => <<"signaling-api.domoface.ru">>,host_info => undefined,method => <<"POST">>,path => <<"/signaling/intercom/sdp_intercom">>,path_info => undefined,peer => {{127,0,0,1},43356},pid => <0.1897.0>,port => 80,qs => <<>>,ref => 'Elixir.SignallingWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},8002},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"signaling-api.domoface.ru">>,method => <<"POST">>,owner => <0.1898.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"signaling">>,<<"intercom">>,<<"sdp_intercom">>],path_params => #{},port => 80,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip, deflate">>},{<<"connection">>,<<"upgrade">>},{<<"content-length">>,<<"236">>},{<<"content-type">>,<<"application/json">>},{<<"host">>,<<"signaling-api.domoface.ru">>},{<<"user-agent">>,<<"Python/3.7 aiohttp/3.6.2">>},{<<"x-forwarded-for">>,<<"87.76.0.8">>},{<<"x-forwarded-host">>,<<"signaling-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"87.76.0.8">>}],request_path => <<"/signaling/intercom/sdp_intercom">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}
    ancestors: [<0.1897.0>,<0.1226.0>,<0.1225.0>,'Elixir.SignallingWeb.Endpoint','Elixir.Signalling.Supervisor',<0.1210.0>]
    message_queue_len: 0
    messages: []
    links: [<0.1897.0>]
    dictionary: [{logger_metadata,{true,[{request_id,<<"Fdhk3Oeg4tijgTYAAAyh">>}]}}]
    trap_exit: false
    status: running
    heap_size: 6772
    stack_size: 27
    reductions: 173604
  neighbours:
2019-11-18 23:16:09 =ERROR REPORT====
Ranch listener 'Elixir.SignallingWeb.Endpoint.HTTP', connection process <0.1897.0>, stream 1 had its request process <0.1898.0> exit with reason {{#{'__exception__' => true,'__struct__' => 'Elixir.FunctionClauseError',args => nil,arity => 2,clauses => nil,function => sdp_call,kind => nil,module => 'Elixir.Signalling.Notifier'},[{'Elixir.Signalling.Notifier',sdp_call,[[#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9a9b7935-5d31-431c-b354-88b1c6f3542c">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019},serial_key => <<"3157588642d753b0">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,token => <<"e4zyYuvG_oY:APA91bHL9P7qsf_DQIQjfImwJaxKnmjqmm3XTQwCL-1vxojQoNwpVL-oIA_NWLDT-X1Vupuor7a4cCqqF3FfA3faL9A0POGD_QWmXSO3ghgT2Qz5UddYwApYFAlfEFAcdGDSr5CHsKsf">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019}}],id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 8,month => 11,second => 53,year => 2019},password => <<"$2b$12$oOX2mvAXzIhT50XnmsaPpeTRno2B4uUAowr2LyuQ3Ed/1o.5.VG1q">>,phone_number => <<"89176200645">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<208,149,208,178,208,179,208,181,208,189,208,184,208,185,32,208,154,208,176,208,187,208,180,208,184,208,189>>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 36,month => 11,second => 50,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9e411232-1c65-4deb-ba6a-d77786e023d7">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 25,month => 11,second => 40,year => 2019},serial_key => <<"2a05092ea1c0c777">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cbrDPJM9piw:APA91bF0jAJd2IYycMQxuXVeUjNy5I3Yy2Le9ZXcjso14ielexAndVUhXIBeSLvDcmKuo_GsANHXTXjiXE061Jrw_4K_HG4HQAlrs2AJRUEJbeIhAEWf7NW0vuk3EHAAr7dLVXOPexHi">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 9,microsecond => {0,0},minute => 36,month => 11,second => 12,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9679e299-55b8-4498-943b-160c7c877da0">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 16,microsecond => {0,0},minute => 23,month => 11,second => 29,year => 2019},serial_key => <<"9e7225961a706a65">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cOr_nTgNJBM:APA91bELiM_yN8yM0TpQmQfn2BNlmurhJlT3UjhZtaMy3oV1RvEfSEtdIaVgblUBw8-vT7fV6bVlPuDuUWwPvPEhzg-vWnVZqt6rX_h4EVGMvwWoea7Ra66pFEcr77eF9ySJuSBCj3v1">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 11,month => 11,second => 57,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"178d035d-3f31-4b74-b64b-6d5505ed4bf6">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 38,year => 2019},serial_key => <<"3098ad9eabaf20fd">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"d4CfUwvd6g0:APA91bHPkAArHm1p5IHU2zJ3Ea0Vc1fYxhmRp8QAZFRhUBahxqMda2dHGpSXo3wdtc59kauYs8lZWG4ly9nIxr-Re2Xaz1OguNsbUFiKu_yxzLVhgdXm38g18Us1Rv495cY3UHoFK3mp">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 16,month => 11,second => 42,year => 2019}}],id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 15,hour => 12,microsecond => {0,0},minute => 39,month => 11,second => 36,year => 2019},password => <<"$2b$12$XlddKF/xtUSibCfUPGIFder8BVD04Qh9qhAIdee/iSdJE48pNnIKe">>,phone_number => <<"89991945767">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<"Azat verni 2 rubl">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 13,year => 2019}}],#{<<"candidate">> => <<"candidate:842163049 1 udp 1677729535 85.26.233.154 38640 typ srflx raddr 10.224.117.49 rport 33659">>,<<"sdpMLineIndex">> => nil,<<"sdpMid">> => nil}],[{file,"lib/signalling/notifier.ex"},{line,36}]},{'Elixir.Signalling',call_sdp,3,[{file,"lib/signalling.ex"},{line,29}]},{'Elixir.SignallingWeb.IntercomController',sdp_intercom,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,69}]},{'Elixir.SignallingWeb.IntercomController',action,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.IntercomController',phoenix_controller_pipeline,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint',instrument,4,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',1,[{file,"lib/phoenix/router.ex"},{line,275}]},{'Elixir.SignallingWeb.Endpoint',plug_builder_call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.SignallingWeb.Endpoint',call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,33}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.SignallingWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 236,cert => undefined,has_body => true,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip, deflate">>,<<"connection">> => <<"upgrade">>,<<"content-length">> => <<"236">>,<<"content-type">> => <<"application/json">>,<<"host">> => <<"signaling-api.domoface.ru">>,<<"user-agent">> => <<"Python/3.7 aiohttp/3.6.2">>,<<"x-forwarded-for">> => <<"87.76.0.8">>,<<"x-forwarded-host">> => <<"signaling-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"87.76.0.8">>},host => <<"signaling-api.domoface.ru">>,host_info => undefined,method => <<"POST">>,path => <<"/signaling/intercom/sdp_intercom">>,path_info => undefined,peer => {{127,0,0,1},43356},pid => <0.1897.0>,port => 80,qs => <<>>,ref => 'Elixir.SignallingWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},8002},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"signaling-api.domoface.ru">>,method => <<"POST">>,owner => <0.1898.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"signaling">>,<<"intercom">>,<<"sdp_intercom">>],path_params => #{},port => 80,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip, deflate">>},{<<"connection">>,<<"upgrade">>},{<<"content-length">>,<<"236">>},{<<"content-type">>,<<"application/json">>},{<<"host">>,<<"signaling-api.domoface.ru">>},{<<"user-agent">>,<<"Python/3.7 aiohttp/3.6.2">>},{<<"x-forwarded-for">>,<<"87.76.0.8">>},{<<"x-forwarded-host">>,<<"signaling-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"87.76.0.8">>}],request_path => <<"/signaling/intercom/sdp_intercom">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}} and stacktrace [{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]
2019-11-18 23:16:10 =CRASH REPORT====
  crasher:
    initial call: cowboy_stream_h:request_process/3
    pid: <0.1902.0>
    registered_name: []
    exception exit: {{{{#{'__exception__' => true,'__struct__' => 'Elixir.FunctionClauseError',args => nil,arity => 2,clauses => nil,function => sdp_call,kind => nil,module => 'Elixir.Signalling.Notifier'},[{'Elixir.Signalling.Notifier',sdp_call,[[#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9a9b7935-5d31-431c-b354-88b1c6f3542c">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019},serial_key => <<"3157588642d753b0">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,token => <<"e4zyYuvG_oY:APA91bHL9P7qsf_DQIQjfImwJaxKnmjqmm3XTQwCL-1vxojQoNwpVL-oIA_NWLDT-X1Vupuor7a4cCqqF3FfA3faL9A0POGD_QWmXSO3ghgT2Qz5UddYwApYFAlfEFAcdGDSr5CHsKsf">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019}}],id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 8,month => 11,second => 53,year => 2019},password => <<"$2b$12$oOX2mvAXzIhT50XnmsaPpeTRno2B4uUAowr2LyuQ3Ed/1o.5.VG1q">>,phone_number => <<"89176200645">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<208,149,208,178,208,179,208,181,208,189,208,184,208,185,32,208,154,208,176,208,187,208,180,208,184,208,189>>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 36,month => 11,second => 50,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9e411232-1c65-4deb-ba6a-d77786e023d7">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 25,month => 11,second => 40,year => 2019},serial_key => <<"2a05092ea1c0c777">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cbrDPJM9piw:APA91bF0jAJd2IYycMQxuXVeUjNy5I3Yy2Le9ZXcjso14ielexAndVUhXIBeSLvDcmKuo_GsANHXTXjiXE061Jrw_4K_HG4HQAlrs2AJRUEJbeIhAEWf7NW0vuk3EHAAr7dLVXOPexHi">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 9,microsecond => {0,0},minute => 36,month => 11,second => 12,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9679e299-55b8-4498-943b-160c7c877da0">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 16,microsecond => {0,0},minute => 23,month => 11,second => 29,year => 2019},serial_key => <<"9e7225961a706a65">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cOr_nTgNJBM:APA91bELiM_yN8yM0TpQmQfn2BNlmurhJlT3UjhZtaMy3oV1RvEfSEtdIaVgblUBw8-vT7fV6bVlPuDuUWwPvPEhzg-vWnVZqt6rX_h4EVGMvwWoea7Ra66pFEcr77eF9ySJuSBCj3v1">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 11,month => 11,second => 57,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"178d035d-3f31-4b74-b64b-6d5505ed4bf6">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 38,year => 2019},serial_key => <<"3098ad9eabaf20fd">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"d4CfUwvd6g0:APA91bHPkAArHm1p5IHU2zJ3Ea0Vc1fYxhmRp8QAZFRhUBahxqMda2dHGpSXo3wdtc59kauYs8lZWG4ly9nIxr-Re2Xaz1OguNsbUFiKu_yxzLVhgdXm38g18Us1Rv495cY3UHoFK3mp">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 16,month => 11,second => 42,year => 2019}}],id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 15,hour => 12,microsecond => {0,0},minute => 39,month => 11,second => 36,year => 2019},password => <<"$2b$12$XlddKF/xtUSibCfUPGIFder8BVD04Qh9qhAIdee/iSdJE48pNnIKe">>,phone_number => <<"89991945767">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<"Azat verni 2 rubl">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 13,year => 2019}}],#{<<"candidate">> => <<"candidate:2212263285 1 udp 33562367 3.123.78.125 60670 typ relay raddr 85.26.233.154 rport 38640">>,<<"sdpMLineIndex">> => nil,<<"sdpMid">> => nil}],[{file,"lib/signalling/notifier.ex"},{line,36}]},{'Elixir.Signalling',call_sdp,3,[{file,"lib/signalling.ex"},{line,29}]},{'Elixir.SignallingWeb.IntercomController',sdp_intercom,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,69}]},{'Elixir.SignallingWeb.IntercomController',action,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.IntercomController',phoenix_controller_pipeline,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint',instrument,4,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',1,[{file,"lib/phoenix/router.ex"},{line,275}]},{'Elixir.SignallingWeb.Endpoint',plug_builder_call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.SignallingWeb.Endpoint',call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,33}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.SignallingWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 234,cert => undefined,has_body => true,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip, deflate">>,<<"connection">> => <<"upgrade">>,<<"content-length">> => <<"234">>,<<"content-type">> => <<"application/json">>,<<"host">> => <<"signaling-api.domoface.ru">>,<<"user-agent">> => <<"Python/3.7 aiohttp/3.6.2">>,<<"x-forwarded-for">> => <<"87.76.0.8">>,<<"x-forwarded-host">> => <<"signaling-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"87.76.0.8">>},host => <<"signaling-api.domoface.ru">>,host_info => undefined,method => <<"POST">>,path => <<"/signaling/intercom/sdp_intercom">>,path_info => undefined,peer => {{127,0,0,1},43358},pid => <0.1901.0>,port => 80,qs => <<>>,ref => 'Elixir.SignallingWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},8002},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"signaling-api.domoface.ru">>,method => <<"POST">>,owner => <0.1902.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"signaling">>,<<"intercom">>,<<"sdp_intercom">>],path_params => #{},port => 80,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip, deflate">>},{<<"connection">>,<<"upgrade">>},{<<"content-length">>,<<"234">>},{<<"content-type">>,<<"application/json">>},{<<"host">>,<<"signaling-api.domoface.ru">>},{<<"user-agent">>,<<"Python/3.7 aiohttp/3.6.2">>},{<<"x-forwarded-for">>,<<"87.76.0.8">>},{<<"x-forwarded-host">>,<<"signaling-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"87.76.0.8">>}],request_path => <<"/signaling/intercom/sdp_intercom">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}
    ancestors: [<0.1901.0>,<0.1226.0>,<0.1225.0>,'Elixir.SignallingWeb.Endpoint','Elixir.Signalling.Supervisor',<0.1210.0>]
    message_queue_len: 0
    messages: []
    links: [<0.1901.0>]
    dictionary: [{logger_metadata,{true,[{request_id,<<"Fdhk3Qg79IBUiOkAAAzB">>}]}}]
    trap_exit: false
    status: running
    heap_size: 6772
    stack_size: 27
    reductions: 173544
  neighbours:
2019-11-18 23:16:10 =ERROR REPORT====
Ranch listener 'Elixir.SignallingWeb.Endpoint.HTTP', connection process <0.1901.0>, stream 1 had its request process <0.1902.0> exit with reason {{#{'__exception__' => true,'__struct__' => 'Elixir.FunctionClauseError',args => nil,arity => 2,clauses => nil,function => sdp_call,kind => nil,module => 'Elixir.Signalling.Notifier'},[{'Elixir.Signalling.Notifier',sdp_call,[[#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9a9b7935-5d31-431c-b354-88b1c6f3542c">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019},serial_key => <<"3157588642d753b0">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,token => <<"e4zyYuvG_oY:APA91bHL9P7qsf_DQIQjfImwJaxKnmjqmm3XTQwCL-1vxojQoNwpVL-oIA_NWLDT-X1Vupuor7a4cCqqF3FfA3faL9A0POGD_QWmXSO3ghgT2Qz5UddYwApYFAlfEFAcdGDSr5CHsKsf">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019}}],id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 8,month => 11,second => 53,year => 2019},password => <<"$2b$12$oOX2mvAXzIhT50XnmsaPpeTRno2B4uUAowr2LyuQ3Ed/1o.5.VG1q">>,phone_number => <<"89176200645">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<208,149,208,178,208,179,208,181,208,189,208,184,208,185,32,208,154,208,176,208,187,208,180,208,184,208,189>>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 36,month => 11,second => 50,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9e411232-1c65-4deb-ba6a-d77786e023d7">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 25,month => 11,second => 40,year => 2019},serial_key => <<"2a05092ea1c0c777">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cbrDPJM9piw:APA91bF0jAJd2IYycMQxuXVeUjNy5I3Yy2Le9ZXcjso14ielexAndVUhXIBeSLvDcmKuo_GsANHXTXjiXE061Jrw_4K_HG4HQAlrs2AJRUEJbeIhAEWf7NW0vuk3EHAAr7dLVXOPexHi">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 9,microsecond => {0,0},minute => 36,month => 11,second => 12,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9679e299-55b8-4498-943b-160c7c877da0">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 16,microsecond => {0,0},minute => 23,month => 11,second => 29,year => 2019},serial_key => <<"9e7225961a706a65">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cOr_nTgNJBM:APA91bELiM_yN8yM0TpQmQfn2BNlmurhJlT3UjhZtaMy3oV1RvEfSEtdIaVgblUBw8-vT7fV6bVlPuDuUWwPvPEhzg-vWnVZqt6rX_h4EVGMvwWoea7Ra66pFEcr77eF9ySJuSBCj3v1">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 11,month => 11,second => 57,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"178d035d-3f31-4b74-b64b-6d5505ed4bf6">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 38,year => 2019},serial_key => <<"3098ad9eabaf20fd">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"d4CfUwvd6g0:APA91bHPkAArHm1p5IHU2zJ3Ea0Vc1fYxhmRp8QAZFRhUBahxqMda2dHGpSXo3wdtc59kauYs8lZWG4ly9nIxr-Re2Xaz1OguNsbUFiKu_yxzLVhgdXm38g18Us1Rv495cY3UHoFK3mp">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 16,month => 11,second => 42,year => 2019}}],id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 15,hour => 12,microsecond => {0,0},minute => 39,month => 11,second => 36,year => 2019},password => <<"$2b$12$XlddKF/xtUSibCfUPGIFder8BVD04Qh9qhAIdee/iSdJE48pNnIKe">>,phone_number => <<"89991945767">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<"Azat verni 2 rubl">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 13,year => 2019}}],#{<<"candidate">> => <<"candidate:2212263285 1 udp 33562367 3.123.78.125 60670 typ relay raddr 85.26.233.154 rport 38640">>,<<"sdpMLineIndex">> => nil,<<"sdpMid">> => nil}],[{file,"lib/signalling/notifier.ex"},{line,36}]},{'Elixir.Signalling',call_sdp,3,[{file,"lib/signalling.ex"},{line,29}]},{'Elixir.SignallingWeb.IntercomController',sdp_intercom,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,69}]},{'Elixir.SignallingWeb.IntercomController',action,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.IntercomController',phoenix_controller_pipeline,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint',instrument,4,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',1,[{file,"lib/phoenix/router.ex"},{line,275}]},{'Elixir.SignallingWeb.Endpoint',plug_builder_call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.SignallingWeb.Endpoint',call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,33}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.SignallingWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 234,cert => undefined,has_body => true,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip, deflate">>,<<"connection">> => <<"upgrade">>,<<"content-length">> => <<"234">>,<<"content-type">> => <<"application/json">>,<<"host">> => <<"signaling-api.domoface.ru">>,<<"user-agent">> => <<"Python/3.7 aiohttp/3.6.2">>,<<"x-forwarded-for">> => <<"87.76.0.8">>,<<"x-forwarded-host">> => <<"signaling-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"87.76.0.8">>},host => <<"signaling-api.domoface.ru">>,host_info => undefined,method => <<"POST">>,path => <<"/signaling/intercom/sdp_intercom">>,path_info => undefined,peer => {{127,0,0,1},43358},pid => <0.1901.0>,port => 80,qs => <<>>,ref => 'Elixir.SignallingWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},8002},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"signaling-api.domoface.ru">>,method => <<"POST">>,owner => <0.1902.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"signaling">>,<<"intercom">>,<<"sdp_intercom">>],path_params => #{},port => 80,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip, deflate">>},{<<"connection">>,<<"upgrade">>},{<<"content-length">>,<<"234">>},{<<"content-type">>,<<"application/json">>},{<<"host">>,<<"signaling-api.domoface.ru">>},{<<"user-agent">>,<<"Python/3.7 aiohttp/3.6.2">>},{<<"x-forwarded-for">>,<<"87.76.0.8">>},{<<"x-forwarded-host">>,<<"signaling-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"87.76.0.8">>}],request_path => <<"/signaling/intercom/sdp_intercom">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}} and stacktrace [{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]
2019-11-18 23:16:10 =CRASH REPORT====
  crasher:
    initial call: cowboy_stream_h:request_process/3
    pid: <0.1906.0>
    registered_name: []
    exception exit: {{{{#{'__exception__' => true,'__struct__' => 'Elixir.FunctionClauseError',args => nil,arity => 2,clauses => nil,function => sdp_call,kind => nil,module => 'Elixir.Signalling.Notifier'},[{'Elixir.Signalling.Notifier',sdp_call,[[#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9a9b7935-5d31-431c-b354-88b1c6f3542c">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019},serial_key => <<"3157588642d753b0">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,token => <<"e4zyYuvG_oY:APA91bHL9P7qsf_DQIQjfImwJaxKnmjqmm3XTQwCL-1vxojQoNwpVL-oIA_NWLDT-X1Vupuor7a4cCqqF3FfA3faL9A0POGD_QWmXSO3ghgT2Qz5UddYwApYFAlfEFAcdGDSr5CHsKsf">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019}}],id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 8,month => 11,second => 53,year => 2019},password => <<"$2b$12$oOX2mvAXzIhT50XnmsaPpeTRno2B4uUAowr2LyuQ3Ed/1o.5.VG1q">>,phone_number => <<"89176200645">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<208,149,208,178,208,179,208,181,208,189,208,184,208,185,32,208,154,208,176,208,187,208,180,208,184,208,189>>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 36,month => 11,second => 50,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9e411232-1c65-4deb-ba6a-d77786e023d7">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 25,month => 11,second => 40,year => 2019},serial_key => <<"2a05092ea1c0c777">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cbrDPJM9piw:APA91bF0jAJd2IYycMQxuXVeUjNy5I3Yy2Le9ZXcjso14ielexAndVUhXIBeSLvDcmKuo_GsANHXTXjiXE061Jrw_4K_HG4HQAlrs2AJRUEJbeIhAEWf7NW0vuk3EHAAr7dLVXOPexHi">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 9,microsecond => {0,0},minute => 36,month => 11,second => 12,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9679e299-55b8-4498-943b-160c7c877da0">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 16,microsecond => {0,0},minute => 23,month => 11,second => 29,year => 2019},serial_key => <<"9e7225961a706a65">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cOr_nTgNJBM:APA91bELiM_yN8yM0TpQmQfn2BNlmurhJlT3UjhZtaMy3oV1RvEfSEtdIaVgblUBw8-vT7fV6bVlPuDuUWwPvPEhzg-vWnVZqt6rX_h4EVGMvwWoea7Ra66pFEcr77eF9ySJuSBCj3v1">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 11,month => 11,second => 57,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"178d035d-3f31-4b74-b64b-6d5505ed4bf6">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 38,year => 2019},serial_key => <<"3098ad9eabaf20fd">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"d4CfUwvd6g0:APA91bHPkAArHm1p5IHU2zJ3Ea0Vc1fYxhmRp8QAZFRhUBahxqMda2dHGpSXo3wdtc59kauYs8lZWG4ly9nIxr-Re2Xaz1OguNsbUFiKu_yxzLVhgdXm38g18Us1Rv495cY3UHoFK3mp">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 16,month => 11,second => 42,year => 2019}}],id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 15,hour => 12,microsecond => {0,0},minute => 39,month => 11,second => 36,year => 2019},password => <<"$2b$12$XlddKF/xtUSibCfUPGIFder8BVD04Qh9qhAIdee/iSdJE48pNnIKe">>,phone_number => <<"89991945767">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<"Azat verni 2 rubl">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 13,year => 2019}}],#{<<"candidate">> => <<"candidate:1498970736 1 udp 2113937151 10.224.117.49 33659 typ host">>,<<"sdpMLineIndex">> => nil,<<"sdpMid">> => nil}],[{file,"lib/signalling/notifier.ex"},{line,36}]},{'Elixir.Signalling',call_sdp,3,[{file,"lib/signalling.ex"},{line,29}]},{'Elixir.SignallingWeb.IntercomController',sdp_intercom,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,69}]},{'Elixir.SignallingWeb.IntercomController',action,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.IntercomController',phoenix_controller_pipeline,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint',instrument,4,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',1,[{file,"lib/phoenix/router.ex"},{line,275}]},{'Elixir.SignallingWeb.Endpoint',plug_builder_call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.SignallingWeb.Endpoint',call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,33}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.SignallingWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 204,cert => undefined,has_body => true,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip, deflate">>,<<"connection">> => <<"upgrade">>,<<"content-length">> => <<"204">>,<<"content-type">> => <<"application/json">>,<<"host">> => <<"signaling-api.domoface.ru">>,<<"user-agent">> => <<"Python/3.7 aiohttp/3.6.2">>,<<"x-forwarded-for">> => <<"87.76.0.8">>,<<"x-forwarded-host">> => <<"signaling-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"87.76.0.8">>},host => <<"signaling-api.domoface.ru">>,host_info => undefined,method => <<"POST">>,path => <<"/signaling/intercom/sdp_intercom">>,path_info => undefined,peer => {{127,0,0,1},43360},pid => <0.1905.0>,port => 80,qs => <<>>,ref => 'Elixir.SignallingWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},8002},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"signaling-api.domoface.ru">>,method => <<"POST">>,owner => <0.1906.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"signaling">>,<<"intercom">>,<<"sdp_intercom">>],path_params => #{},port => 80,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip, deflate">>},{<<"connection">>,<<"upgrade">>},{<<"content-length">>,<<"204">>},{<<"content-type">>,<<"application/json">>},{<<"host">>,<<"signaling-api.domoface.ru">>},{<<"user-agent">>,<<"Python/3.7 aiohttp/3.6.2">>},{<<"x-forwarded-for">>,<<"87.76.0.8">>},{<<"x-forwarded-host">>,<<"signaling-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"87.76.0.8">>}],request_path => <<"/signaling/intercom/sdp_intercom">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}
    ancestors: [<0.1905.0>,<0.1226.0>,<0.1225.0>,'Elixir.SignallingWeb.Endpoint','Elixir.Signalling.Supervisor',<0.1210.0>]
    message_queue_len: 0
    messages: []
    links: [<0.1905.0>]
    dictionary: [{logger_metadata,{true,[{request_id,<<"Fdhk3SwpwpvdCn0AABCi">>}]}}]
    trap_exit: false
    status: running
    heap_size: 6772
    stack_size: 27
    reductions: 173208
  neighbours:
2019-11-18 23:16:10 =ERROR REPORT====
Ranch listener 'Elixir.SignallingWeb.Endpoint.HTTP', connection process <0.1905.0>, stream 1 had its request process <0.1906.0> exit with reason {{#{'__exception__' => true,'__struct__' => 'Elixir.FunctionClauseError',args => nil,arity => 2,clauses => nil,function => sdp_call,kind => nil,module => 'Elixir.Signalling.Notifier'},[{'Elixir.Signalling.Notifier',sdp_call,[[#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9a9b7935-5d31-431c-b354-88b1c6f3542c">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019},serial_key => <<"3157588642d753b0">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,token => <<"e4zyYuvG_oY:APA91bHL9P7qsf_DQIQjfImwJaxKnmjqmm3XTQwCL-1vxojQoNwpVL-oIA_NWLDT-X1Vupuor7a4cCqqF3FfA3faL9A0POGD_QWmXSO3ghgT2Qz5UddYwApYFAlfEFAcdGDSr5CHsKsf">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019}}],id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 8,month => 11,second => 53,year => 2019},password => <<"$2b$12$oOX2mvAXzIhT50XnmsaPpeTRno2B4uUAowr2LyuQ3Ed/1o.5.VG1q">>,phone_number => <<"89176200645">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<208,149,208,178,208,179,208,181,208,189,208,184,208,185,32,208,154,208,176,208,187,208,180,208,184,208,189>>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 36,month => 11,second => 50,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9e411232-1c65-4deb-ba6a-d77786e023d7">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 25,month => 11,second => 40,year => 2019},serial_key => <<"2a05092ea1c0c777">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cbrDPJM9piw:APA91bF0jAJd2IYycMQxuXVeUjNy5I3Yy2Le9ZXcjso14ielexAndVUhXIBeSLvDcmKuo_GsANHXTXjiXE061Jrw_4K_HG4HQAlrs2AJRUEJbeIhAEWf7NW0vuk3EHAAr7dLVXOPexHi">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 9,microsecond => {0,0},minute => 36,month => 11,second => 12,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9679e299-55b8-4498-943b-160c7c877da0">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 16,microsecond => {0,0},minute => 23,month => 11,second => 29,year => 2019},serial_key => <<"9e7225961a706a65">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cOr_nTgNJBM:APA91bELiM_yN8yM0TpQmQfn2BNlmurhJlT3UjhZtaMy3oV1RvEfSEtdIaVgblUBw8-vT7fV6bVlPuDuUWwPvPEhzg-vWnVZqt6rX_h4EVGMvwWoea7Ra66pFEcr77eF9ySJuSBCj3v1">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 11,month => 11,second => 57,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"178d035d-3f31-4b74-b64b-6d5505ed4bf6">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 38,year => 2019},serial_key => <<"3098ad9eabaf20fd">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"d4CfUwvd6g0:APA91bHPkAArHm1p5IHU2zJ3Ea0Vc1fYxhmRp8QAZFRhUBahxqMda2dHGpSXo3wdtc59kauYs8lZWG4ly9nIxr-Re2Xaz1OguNsbUFiKu_yxzLVhgdXm38g18Us1Rv495cY3UHoFK3mp">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 16,month => 11,second => 42,year => 2019}}],id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 15,hour => 12,microsecond => {0,0},minute => 39,month => 11,second => 36,year => 2019},password => <<"$2b$12$XlddKF/xtUSibCfUPGIFder8BVD04Qh9qhAIdee/iSdJE48pNnIKe">>,phone_number => <<"89991945767">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<"Azat verni 2 rubl">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 13,year => 2019}}],#{<<"candidate">> => <<"candidate:1498970736 1 udp 2113937151 10.224.117.49 33659 typ host">>,<<"sdpMLineIndex">> => nil,<<"sdpMid">> => nil}],[{file,"lib/signalling/notifier.ex"},{line,36}]},{'Elixir.Signalling',call_sdp,3,[{file,"lib/signalling.ex"},{line,29}]},{'Elixir.SignallingWeb.IntercomController',sdp_intercom,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,69}]},{'Elixir.SignallingWeb.IntercomController',action,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.IntercomController',phoenix_controller_pipeline,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint',instrument,4,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',1,[{file,"lib/phoenix/router.ex"},{line,275}]},{'Elixir.SignallingWeb.Endpoint',plug_builder_call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.SignallingWeb.Endpoint',call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,33}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.SignallingWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 204,cert => undefined,has_body => true,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip, deflate">>,<<"connection">> => <<"upgrade">>,<<"content-length">> => <<"204">>,<<"content-type">> => <<"application/json">>,<<"host">> => <<"signaling-api.domoface.ru">>,<<"user-agent">> => <<"Python/3.7 aiohttp/3.6.2">>,<<"x-forwarded-for">> => <<"87.76.0.8">>,<<"x-forwarded-host">> => <<"signaling-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"87.76.0.8">>},host => <<"signaling-api.domoface.ru">>,host_info => undefined,method => <<"POST">>,path => <<"/signaling/intercom/sdp_intercom">>,path_info => undefined,peer => {{127,0,0,1},43360},pid => <0.1905.0>,port => 80,qs => <<>>,ref => 'Elixir.SignallingWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},8002},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"signaling-api.domoface.ru">>,method => <<"POST">>,owner => <0.1906.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"signaling">>,<<"intercom">>,<<"sdp_intercom">>],path_params => #{},port => 80,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip, deflate">>},{<<"connection">>,<<"upgrade">>},{<<"content-length">>,<<"204">>},{<<"content-type">>,<<"application/json">>},{<<"host">>,<<"signaling-api.domoface.ru">>},{<<"user-agent">>,<<"Python/3.7 aiohttp/3.6.2">>},{<<"x-forwarded-for">>,<<"87.76.0.8">>},{<<"x-forwarded-host">>,<<"signaling-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"87.76.0.8">>}],request_path => <<"/signaling/intercom/sdp_intercom">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}} and stacktrace [{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]
2019-11-18 23:17:01 =CRASH REPORT====
  crasher:
    initial call: cowboy_stream_h:request_process/3
    pid: <0.1959.0>
    registered_name: []
    exception exit: {{{{#{'__exception__' => true,'__struct__' => 'Elixir.FunctionClauseError',args => nil,arity => 2,clauses => nil,function => sdp_call,kind => nil,module => 'Elixir.Signalling.Notifier'},[{'Elixir.Signalling.Notifier',sdp_call,[[#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9a9b7935-5d31-431c-b354-88b1c6f3542c">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019},serial_key => <<"3157588642d753b0">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,token => <<"e4zyYuvG_oY:APA91bHL9P7qsf_DQIQjfImwJaxKnmjqmm3XTQwCL-1vxojQoNwpVL-oIA_NWLDT-X1Vupuor7a4cCqqF3FfA3faL9A0POGD_QWmXSO3ghgT2Qz5UddYwApYFAlfEFAcdGDSr5CHsKsf">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019}}],id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 8,month => 11,second => 53,year => 2019},password => <<"$2b$12$oOX2mvAXzIhT50XnmsaPpeTRno2B4uUAowr2LyuQ3Ed/1o.5.VG1q">>,phone_number => <<"89176200645">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<208,149,208,178,208,179,208,181,208,189,208,184,208,185,32,208,154,208,176,208,187,208,180,208,184,208,189>>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 36,month => 11,second => 50,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9e411232-1c65-4deb-ba6a-d77786e023d7">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 25,month => 11,second => 40,year => 2019},serial_key => <<"2a05092ea1c0c777">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cbrDPJM9piw:APA91bF0jAJd2IYycMQxuXVeUjNy5I3Yy2Le9ZXcjso14ielexAndVUhXIBeSLvDcmKuo_GsANHXTXjiXE061Jrw_4K_HG4HQAlrs2AJRUEJbeIhAEWf7NW0vuk3EHAAr7dLVXOPexHi">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 9,microsecond => {0,0},minute => 36,month => 11,second => 12,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9679e299-55b8-4498-943b-160c7c877da0">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 16,microsecond => {0,0},minute => 23,month => 11,second => 29,year => 2019},serial_key => <<"9e7225961a706a65">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cOr_nTgNJBM:APA91bELiM_yN8yM0TpQmQfn2BNlmurhJlT3UjhZtaMy3oV1RvEfSEtdIaVgblUBw8-vT7fV6bVlPuDuUWwPvPEhzg-vWnVZqt6rX_h4EVGMvwWoea7Ra66pFEcr77eF9ySJuSBCj3v1">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 11,month => 11,second => 57,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"178d035d-3f31-4b74-b64b-6d5505ed4bf6">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 38,year => 2019},serial_key => <<"3098ad9eabaf20fd">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"d4CfUwvd6g0:APA91bHPkAArHm1p5IHU2zJ3Ea0Vc1fYxhmRp8QAZFRhUBahxqMda2dHGpSXo3wdtc59kauYs8lZWG4ly9nIxr-Re2Xaz1OguNsbUFiKu_yxzLVhgdXm38g18Us1Rv495cY3UHoFK3mp">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 16,month => 11,second => 42,year => 2019}}],id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 15,hour => 12,microsecond => {0,0},minute => 39,month => 11,second => 36,year => 2019},password => <<"$2b$12$XlddKF/xtUSibCfUPGIFder8BVD04Qh9qhAIdee/iSdJE48pNnIKe">>,phone_number => <<"89991945767">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<"Azat verni 2 rubl">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 13,year => 2019}}],#{<<"candidate">> => <<"candidate:1498970736 1 udp 2113937151 10.224.117.49 42377 typ host">>,<<"sdpMLineIndex">> => nil,<<"sdpMid">> => nil}],[{file,"lib/signalling/notifier.ex"},{line,36}]},{'Elixir.Signalling',call_sdp,3,[{file,"lib/signalling.ex"},{line,29}]},{'Elixir.SignallingWeb.IntercomController',sdp_intercom,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,69}]},{'Elixir.SignallingWeb.IntercomController',action,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.IntercomController',phoenix_controller_pipeline,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint',instrument,4,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',1,[{file,"lib/phoenix/router.ex"},{line,275}]},{'Elixir.SignallingWeb.Endpoint',plug_builder_call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.SignallingWeb.Endpoint',call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,33}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.SignallingWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 204,cert => undefined,has_body => true,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip, deflate">>,<<"connection">> => <<"upgrade">>,<<"content-length">> => <<"204">>,<<"content-type">> => <<"application/json">>,<<"host">> => <<"signaling-api.domoface.ru">>,<<"user-agent">> => <<"Python/3.7 aiohttp/3.6.2">>,<<"x-forwarded-for">> => <<"87.76.0.8">>,<<"x-forwarded-host">> => <<"signaling-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"87.76.0.8">>},host => <<"signaling-api.domoface.ru">>,host_info => undefined,method => <<"POST">>,path => <<"/signaling/intercom/sdp_intercom">>,path_info => undefined,peer => {{127,0,0,1},43380},pid => <0.1958.0>,port => 80,qs => <<>>,ref => 'Elixir.SignallingWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},8002},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"signaling-api.domoface.ru">>,method => <<"POST">>,owner => <0.1959.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"signaling">>,<<"intercom">>,<<"sdp_intercom">>],path_params => #{},port => 80,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip, deflate">>},{<<"connection">>,<<"upgrade">>},{<<"content-length">>,<<"204">>},{<<"content-type">>,<<"application/json">>},{<<"host">>,<<"signaling-api.domoface.ru">>},{<<"user-agent">>,<<"Python/3.7 aiohttp/3.6.2">>},{<<"x-forwarded-for">>,<<"87.76.0.8">>},{<<"x-forwarded-host">>,<<"signaling-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"87.76.0.8">>}],request_path => <<"/signaling/intercom/sdp_intercom">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}
    ancestors: [<0.1958.0>,<0.1226.0>,<0.1225.0>,'Elixir.SignallingWeb.Endpoint','Elixir.Signalling.Supervisor',<0.1210.0>]
    message_queue_len: 0
    messages: []
    links: [<0.1958.0>]
    dictionary: [{logger_metadata,{true,[{request_id,<<"Fdhk6P2MoJjbBaoAAA3B">>}]}}]
    trap_exit: false
    status: running
    heap_size: 6772
    stack_size: 27
    reductions: 173577
  neighbours:
2019-11-18 23:17:01 =ERROR REPORT====
Ranch listener 'Elixir.SignallingWeb.Endpoint.HTTP', connection process <0.1958.0>, stream 1 had its request process <0.1959.0> exit with reason {{#{'__exception__' => true,'__struct__' => 'Elixir.FunctionClauseError',args => nil,arity => 2,clauses => nil,function => sdp_call,kind => nil,module => 'Elixir.Signalling.Notifier'},[{'Elixir.Signalling.Notifier',sdp_call,[[#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9a9b7935-5d31-431c-b354-88b1c6f3542c">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019},serial_key => <<"3157588642d753b0">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,token => <<"e4zyYuvG_oY:APA91bHL9P7qsf_DQIQjfImwJaxKnmjqmm3XTQwCL-1vxojQoNwpVL-oIA_NWLDT-X1Vupuor7a4cCqqF3FfA3faL9A0POGD_QWmXSO3ghgT2Qz5UddYwApYFAlfEFAcdGDSr5CHsKsf">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019}}],id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 8,month => 11,second => 53,year => 2019},password => <<"$2b$12$oOX2mvAXzIhT50XnmsaPpeTRno2B4uUAowr2LyuQ3Ed/1o.5.VG1q">>,phone_number => <<"89176200645">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<208,149,208,178,208,179,208,181,208,189,208,184,208,185,32,208,154,208,176,208,187,208,180,208,184,208,189>>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 36,month => 11,second => 50,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9e411232-1c65-4deb-ba6a-d77786e023d7">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 25,month => 11,second => 40,year => 2019},serial_key => <<"2a05092ea1c0c777">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cbrDPJM9piw:APA91bF0jAJd2IYycMQxuXVeUjNy5I3Yy2Le9ZXcjso14ielexAndVUhXIBeSLvDcmKuo_GsANHXTXjiXE061Jrw_4K_HG4HQAlrs2AJRUEJbeIhAEWf7NW0vuk3EHAAr7dLVXOPexHi">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 9,microsecond => {0,0},minute => 36,month => 11,second => 12,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9679e299-55b8-4498-943b-160c7c877da0">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 16,microsecond => {0,0},minute => 23,month => 11,second => 29,year => 2019},serial_key => <<"9e7225961a706a65">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cOr_nTgNJBM:APA91bELiM_yN8yM0TpQmQfn2BNlmurhJlT3UjhZtaMy3oV1RvEfSEtdIaVgblUBw8-vT7fV6bVlPuDuUWwPvPEhzg-vWnVZqt6rX_h4EVGMvwWoea7Ra66pFEcr77eF9ySJuSBCj3v1">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 11,month => 11,second => 57,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"178d035d-3f31-4b74-b64b-6d5505ed4bf6">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 38,year => 2019},serial_key => <<"3098ad9eabaf20fd">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"d4CfUwvd6g0:APA91bHPkAArHm1p5IHU2zJ3Ea0Vc1fYxhmRp8QAZFRhUBahxqMda2dHGpSXo3wdtc59kauYs8lZWG4ly9nIxr-Re2Xaz1OguNsbUFiKu_yxzLVhgdXm38g18Us1Rv495cY3UHoFK3mp">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 16,month => 11,second => 42,year => 2019}}],id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 15,hour => 12,microsecond => {0,0},minute => 39,month => 11,second => 36,year => 2019},password => <<"$2b$12$XlddKF/xtUSibCfUPGIFder8BVD04Qh9qhAIdee/iSdJE48pNnIKe">>,phone_number => <<"89991945767">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<"Azat verni 2 rubl">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 13,year => 2019}}],#{<<"candidate">> => <<"candidate:1498970736 1 udp 2113937151 10.224.117.49 42377 typ host">>,<<"sdpMLineIndex">> => nil,<<"sdpMid">> => nil}],[{file,"lib/signalling/notifier.ex"},{line,36}]},{'Elixir.Signalling',call_sdp,3,[{file,"lib/signalling.ex"},{line,29}]},{'Elixir.SignallingWeb.IntercomController',sdp_intercom,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,69}]},{'Elixir.SignallingWeb.IntercomController',action,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.IntercomController',phoenix_controller_pipeline,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint',instrument,4,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',1,[{file,"lib/phoenix/router.ex"},{line,275}]},{'Elixir.SignallingWeb.Endpoint',plug_builder_call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.SignallingWeb.Endpoint',call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,33}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.SignallingWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 204,cert => undefined,has_body => true,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip, deflate">>,<<"connection">> => <<"upgrade">>,<<"content-length">> => <<"204">>,<<"content-type">> => <<"application/json">>,<<"host">> => <<"signaling-api.domoface.ru">>,<<"user-agent">> => <<"Python/3.7 aiohttp/3.6.2">>,<<"x-forwarded-for">> => <<"87.76.0.8">>,<<"x-forwarded-host">> => <<"signaling-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"87.76.0.8">>},host => <<"signaling-api.domoface.ru">>,host_info => undefined,method => <<"POST">>,path => <<"/signaling/intercom/sdp_intercom">>,path_info => undefined,peer => {{127,0,0,1},43380},pid => <0.1958.0>,port => 80,qs => <<>>,ref => 'Elixir.SignallingWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},8002},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"signaling-api.domoface.ru">>,method => <<"POST">>,owner => <0.1959.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"signaling">>,<<"intercom">>,<<"sdp_intercom">>],path_params => #{},port => 80,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip, deflate">>},{<<"connection">>,<<"upgrade">>},{<<"content-length">>,<<"204">>},{<<"content-type">>,<<"application/json">>},{<<"host">>,<<"signaling-api.domoface.ru">>},{<<"user-agent">>,<<"Python/3.7 aiohttp/3.6.2">>},{<<"x-forwarded-for">>,<<"87.76.0.8">>},{<<"x-forwarded-host">>,<<"signaling-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"87.76.0.8">>}],request_path => <<"/signaling/intercom/sdp_intercom">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}} and stacktrace [{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]
2019-11-18 23:17:42 =CRASH REPORT====
  crasher:
    initial call: cowboy_stream_h:request_process/3
    pid: <0.1995.0>
    registered_name: []
    exception exit: {{{{#{'__exception__' => true,'__struct__' => 'Elixir.BadFunctionError',term => #{'__exception__' => true,'__struct__' => 'Elixir.Phoenix.ActionClauseError',args => [#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 15,cert => undefined,has_body => true,has_read_body => true,headers => #{<<"accept-charset">> => <<"UTF-8">>,<<"accept-encoding">> => <<"gzip">>,<<"connection">> => <<"upgrade">>,<<"content-length">> => <<"15">>,<<"content-type">> => <<"application/x-www-form-urlencoded; charset=UTF-8">>,<<"host">> => <<"signaling-api.domoface.ru">>,<<"user-agent">> => <<"Dalvik/2.1.0 (Linux; U; Android 9; JSN-L21 Build/HONORJSN-L21)">>,<<"x-forwarded-for">> => <<"85.26.233.154">>,<<"x-forwarded-host">> => <<"signaling-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"85.26.233.154">>},host => <<"signaling-api.domoface.ru">>,host_info => undefined,method => <<"POST">>,path => <<"/signaling/client/hang">>,path_info => undefined,peer => {{127,0,0,1},43390},pid => <0.1994.0>,port => 80,qs => <<>>,ref => 'Elixir.SignallingWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},8002},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [#Fun<Elixir.Plug.Logger.1.16531471>],body_params => #{<<"client_id">> => <<"test1">>},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"signaling-api.domoface.ru">>,method => <<"POST">>,owner => <0.1995.0>,params => #{<<"client_id">> => <<"test1">>},path_info => [<<"signaling">>,<<"client">>,<<"hang">>],path_params => #{},port => 80,private => #{'Elixir.SignallingWeb.Router' => {[],#{'Elixir.PhoenixSwagger.Plug.SwaggerUI' => []}},phoenix_action => hang,phoenix_controller => 'Elixir.SignallingWeb.ClientController',phoenix_endpoint => 'Elixir.SignallingWeb.Endpoint',phoenix_format => <<"json">>,phoenix_layout => {'Elixir.SignallingWeb.LayoutView',app},phoenix_pipelines => [api],phoenix_router => 'Elixir.SignallingWeb.Router',phoenix_view => 'Elixir.SignallingWeb.ClientView',plug_session_fetch => #Fun<Elixir.Plug.Session.1.35161479>},query_params => #{},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept-charset">>,<<"UTF-8">>},{<<"accept-encoding">>,<<"gzip">>},{<<"connection">>,<<"upgrade">>},{<<"content-length">>,<<"15">>},{<<"content-type">>,<<"application/x-www-form-urlencoded; charset=UTF-8">>},{<<"host">>,<<"signaling-api.domoface.ru">>},{<<"user-agent">>,<<"Dalvik/2.1.0 (Linux; U; Android 9; JSN-L21 Build/HONORJSN-L21)">>},{<<"x-forwarded-for">>,<<"85.26.233.154">>},{<<"x-forwarded-host">>,<<"signaling-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"85.26.233.154">>}],request_path => <<"/signaling/client/hang">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>},{<<"x-request-id">>,<<"Fdhk8ngeGCvs2U4AAA5B">>}],scheme => http,script_name => [],secret_key_base => <<"QbYUrrjFN0Riyga9S+fzwVIOzV9huX5roR8nCd2Py1QXjvP4xxmSIuPidPSkL+aJ">>,state => unset,status => nil},#{<<"client_id">> => <<"test1">>}],arity => 2,clauses => nil,function => hang,kind => nil,module => 'Elixir.SignallingWeb.ClientController'}},[{'Elixir.FunctionClauseError','-blame/3-fun-0-',2,[{file,"lib/exception.ex"},{line,1105}]},{'Elixir.Enum','-map/2-lists^map/1-0-',2,[{file,"lib/enum.ex"},{line,1336}]},{'Elixir.FunctionClauseError',blame,3,[{file,"lib/exception.ex"},{line,1104}]},{'Elixir.Phoenix.ActionClauseError',blame,2,[{file,"lib/phoenix/exceptions.ex"},{line,59}]},{'Elixir.Plug.Debugger',render,6,[{file,"lib/plug/debugger.ex"},{line,197}]},{'Elixir.Plug.Debugger','__catch__',5,[{file,"lib/plug/debugger.ex"},{line,147}]},{'Elixir.SignallingWeb.Endpoint',call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,33}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.SignallingWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 15,cert => undefined,has_body => true,headers => #{<<"accept-charset">> => <<"UTF-8">>,<<"accept-encoding">> => <<"gzip">>,<<"connection">> => <<"upgrade">>,<<"content-length">> => <<"15">>,<<"content-type">> => <<"application/x-www-form-urlencoded; charset=UTF-8">>,<<"host">> => <<"signaling-api.domoface.ru">>,<<"user-agent">> => <<"Dalvik/2.1.0 (Linux; U; Android 9; JSN-L21 Build/HONORJSN-L21)">>,<<"x-forwarded-for">> => <<"85.26.233.154">>,<<"x-forwarded-host">> => <<"signaling-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"85.26.233.154">>},host => <<"signaling-api.domoface.ru">>,host_info => undefined,method => <<"POST">>,path => <<"/signaling/client/hang">>,path_info => undefined,peer => {{127,0,0,1},43390},pid => <0.1994.0>,port => 80,qs => <<>>,ref => 'Elixir.SignallingWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},8002},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"signaling-api.domoface.ru">>,method => <<"POST">>,owner => <0.1995.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"signaling">>,<<"client">>,<<"hang">>],path_params => #{},port => 80,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept-charset">>,<<"UTF-8">>},{<<"accept-encoding">>,<<"gzip">>},{<<"connection">>,<<"upgrade">>},{<<"content-length">>,<<"15">>},{<<"content-type">>,<<"application/x-www-form-urlencoded; charset=UTF-8">>},{<<"host">>,<<"signaling-api.domoface.ru">>},{<<"user-agent">>,<<"Dalvik/2.1.0 (Linux; U; Android 9; JSN-L21 Build/HONORJSN-L21)">>},{<<"x-forwarded-for">>,<<"85.26.233.154">>},{<<"x-forwarded-host">>,<<"signaling-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"85.26.233.154">>}],request_path => <<"/signaling/client/hang">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}
    ancestors: [<0.1994.0>,<0.1226.0>,<0.1225.0>,'Elixir.SignallingWeb.Endpoint','Elixir.Signalling.Supervisor',<0.1210.0>]
    message_queue_len: 0
    messages: []
    links: [<0.1994.0>]
    dictionary: [{logger_metadata,{true,[{request_id,<<"Fdhk8ngeGCvs2U4AAA5B">>}]}}]
    trap_exit: false
    status: running
    heap_size: 4185
    stack_size: 27
    reductions: 37078
  neighbours:
2019-11-18 23:17:42 =ERROR REPORT====
Ranch listener 'Elixir.SignallingWeb.Endpoint.HTTP', connection process <0.1994.0>, stream 1 had its request process <0.1995.0> exit with reason {{#{'__exception__' => true,'__struct__' => 'Elixir.BadFunctionError',term => #{'__exception__' => true,'__struct__' => 'Elixir.Phoenix.ActionClauseError',args => [#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 15,cert => undefined,has_body => true,has_read_body => true,headers => #{<<"accept-charset">> => <<"UTF-8">>,<<"accept-encoding">> => <<"gzip">>,<<"connection">> => <<"upgrade">>,<<"content-length">> => <<"15">>,<<"content-type">> => <<"application/x-www-form-urlencoded; charset=UTF-8">>,<<"host">> => <<"signaling-api.domoface.ru">>,<<"user-agent">> => <<"Dalvik/2.1.0 (Linux; U; Android 9; JSN-L21 Build/HONORJSN-L21)">>,<<"x-forwarded-for">> => <<"85.26.233.154">>,<<"x-forwarded-host">> => <<"signaling-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"85.26.233.154">>},host => <<"signaling-api.domoface.ru">>,host_info => undefined,method => <<"POST">>,path => <<"/signaling/client/hang">>,path_info => undefined,peer => {{127,0,0,1},43390},pid => <0.1994.0>,port => 80,qs => <<>>,ref => 'Elixir.SignallingWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},8002},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [#Fun<Elixir.Plug.Logger.1.16531471>],body_params => #{<<"client_id">> => <<"test1">>},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"signaling-api.domoface.ru">>,method => <<"POST">>,owner => <0.1995.0>,params => #{<<"client_id">> => <<"test1">>},path_info => [<<"signaling">>,<<"client">>,<<"hang">>],path_params => #{},port => 80,private => #{'Elixir.SignallingWeb.Router' => {[],#{'Elixir.PhoenixSwagger.Plug.SwaggerUI' => []}},phoenix_action => hang,phoenix_controller => 'Elixir.SignallingWeb.ClientController',phoenix_endpoint => 'Elixir.SignallingWeb.Endpoint',phoenix_format => <<"json">>,phoenix_layout => {'Elixir.SignallingWeb.LayoutView',app},phoenix_pipelines => [api],phoenix_router => 'Elixir.SignallingWeb.Router',phoenix_view => 'Elixir.SignallingWeb.ClientView',plug_session_fetch => #Fun<Elixir.Plug.Session.1.35161479>},query_params => #{},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept-charset">>,<<"UTF-8">>},{<<"accept-encoding">>,<<"gzip">>},{<<"connection">>,<<"upgrade">>},{<<"content-length">>,<<"15">>},{<<"content-type">>,<<"application/x-www-form-urlencoded; charset=UTF-8">>},{<<"host">>,<<"signaling-api.domoface.ru">>},{<<"user-agent">>,<<"Dalvik/2.1.0 (Linux; U; Android 9; JSN-L21 Build/HONORJSN-L21)">>},{<<"x-forwarded-for">>,<<"85.26.233.154">>},{<<"x-forwarded-host">>,<<"signaling-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"85.26.233.154">>}],request_path => <<"/signaling/client/hang">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>},{<<"x-request-id">>,<<"Fdhk8ngeGCvs2U4AAA5B">>}],scheme => http,script_name => [],secret_key_base => <<"QbYUrrjFN0Riyga9S+fzwVIOzV9huX5roR8nCd2Py1QXjvP4xxmSIuPidPSkL+aJ">>,state => unset,status => nil},#{<<"client_id">> => <<"test1">>}],arity => 2,clauses => nil,function => hang,kind => nil,module => 'Elixir.SignallingWeb.ClientController'}},[{'Elixir.FunctionClauseError','-blame/3-fun-0-',2,[{file,"lib/exception.ex"},{line,1105}]},{'Elixir.Enum','-map/2-lists^map/1-0-',2,[{file,"lib/enum.ex"},{line,1336}]},{'Elixir.FunctionClauseError',blame,3,[{file,"lib/exception.ex"},{line,1104}]},{'Elixir.Phoenix.ActionClauseError',blame,2,[{file,"lib/phoenix/exceptions.ex"},{line,59}]},{'Elixir.Plug.Debugger',render,6,[{file,"lib/plug/debugger.ex"},{line,197}]},{'Elixir.Plug.Debugger','__catch__',5,[{file,"lib/plug/debugger.ex"},{line,147}]},{'Elixir.SignallingWeb.Endpoint',call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,33}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.SignallingWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 15,cert => undefined,has_body => true,headers => #{<<"accept-charset">> => <<"UTF-8">>,<<"accept-encoding">> => <<"gzip">>,<<"connection">> => <<"upgrade">>,<<"content-length">> => <<"15">>,<<"content-type">> => <<"application/x-www-form-urlencoded; charset=UTF-8">>,<<"host">> => <<"signaling-api.domoface.ru">>,<<"user-agent">> => <<"Dalvik/2.1.0 (Linux; U; Android 9; JSN-L21 Build/HONORJSN-L21)">>,<<"x-forwarded-for">> => <<"85.26.233.154">>,<<"x-forwarded-host">> => <<"signaling-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"85.26.233.154">>},host => <<"signaling-api.domoface.ru">>,host_info => undefined,method => <<"POST">>,path => <<"/signaling/client/hang">>,path_info => undefined,peer => {{127,0,0,1},43390},pid => <0.1994.0>,port => 80,qs => <<>>,ref => 'Elixir.SignallingWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},8002},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"signaling-api.domoface.ru">>,method => <<"POST">>,owner => <0.1995.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"signaling">>,<<"client">>,<<"hang">>],path_params => #{},port => 80,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept-charset">>,<<"UTF-8">>},{<<"accept-encoding">>,<<"gzip">>},{<<"connection">>,<<"upgrade">>},{<<"content-length">>,<<"15">>},{<<"content-type">>,<<"application/x-www-form-urlencoded; charset=UTF-8">>},{<<"host">>,<<"signaling-api.domoface.ru">>},{<<"user-agent">>,<<"Dalvik/2.1.0 (Linux; U; Android 9; JSN-L21 Build/HONORJSN-L21)">>},{<<"x-forwarded-for">>,<<"85.26.233.154">>},{<<"x-forwarded-host">>,<<"signaling-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"85.26.233.154">>}],request_path => <<"/signaling/client/hang">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}} and stacktrace [{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]
2019-11-18 23:18:17 =CRASH REPORT====
  crasher:
    initial call: cowboy_stream_h:request_process/3
    pid: <0.2042.0>
    registered_name: []
    exception exit: {{{{#{'__exception__' => true,'__struct__' => 'Elixir.FunctionClauseError',args => nil,arity => 2,clauses => nil,function => sdp_call,kind => nil,module => 'Elixir.Signalling.Notifier'},[{'Elixir.Signalling.Notifier',sdp_call,[[#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9a9b7935-5d31-431c-b354-88b1c6f3542c">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019},serial_key => <<"3157588642d753b0">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,token => <<"e4zyYuvG_oY:APA91bHL9P7qsf_DQIQjfImwJaxKnmjqmm3XTQwCL-1vxojQoNwpVL-oIA_NWLDT-X1Vupuor7a4cCqqF3FfA3faL9A0POGD_QWmXSO3ghgT2Qz5UddYwApYFAlfEFAcdGDSr5CHsKsf">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019}}],id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 8,month => 11,second => 53,year => 2019},password => <<"$2b$12$oOX2mvAXzIhT50XnmsaPpeTRno2B4uUAowr2LyuQ3Ed/1o.5.VG1q">>,phone_number => <<"89176200645">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<208,149,208,178,208,179,208,181,208,189,208,184,208,185,32,208,154,208,176,208,187,208,180,208,184,208,189>>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 36,month => 11,second => 50,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9e411232-1c65-4deb-ba6a-d77786e023d7">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 25,month => 11,second => 40,year => 2019},serial_key => <<"2a05092ea1c0c777">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cbrDPJM9piw:APA91bF0jAJd2IYycMQxuXVeUjNy5I3Yy2Le9ZXcjso14ielexAndVUhXIBeSLvDcmKuo_GsANHXTXjiXE061Jrw_4K_HG4HQAlrs2AJRUEJbeIhAEWf7NW0vuk3EHAAr7dLVXOPexHi">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 9,microsecond => {0,0},minute => 36,month => 11,second => 12,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9679e299-55b8-4498-943b-160c7c877da0">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 16,microsecond => {0,0},minute => 23,month => 11,second => 29,year => 2019},serial_key => <<"9e7225961a706a65">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cOr_nTgNJBM:APA91bELiM_yN8yM0TpQmQfn2BNlmurhJlT3UjhZtaMy3oV1RvEfSEtdIaVgblUBw8-vT7fV6bVlPuDuUWwPvPEhzg-vWnVZqt6rX_h4EVGMvwWoea7Ra66pFEcr77eF9ySJuSBCj3v1">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 11,month => 11,second => 57,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"178d035d-3f31-4b74-b64b-6d5505ed4bf6">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 38,year => 2019},serial_key => <<"3098ad9eabaf20fd">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"d4CfUwvd6g0:APA91bHPkAArHm1p5IHU2zJ3Ea0Vc1fYxhmRp8QAZFRhUBahxqMda2dHGpSXo3wdtc59kauYs8lZWG4ly9nIxr-Re2Xaz1OguNsbUFiKu_yxzLVhgdXm38g18Us1Rv495cY3UHoFK3mp">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 16,month => 11,second => 42,year => 2019}}],id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 15,hour => 12,microsecond => {0,0},minute => 39,month => 11,second => 36,year => 2019},password => <<"$2b$12$XlddKF/xtUSibCfUPGIFder8BVD04Qh9qhAIdee/iSdJE48pNnIKe">>,phone_number => <<"89991945767">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<"Azat verni 2 rubl">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 13,year => 2019}}],#{<<"candidate">> => <<"candidate:1498970736 1 udp 2113937151 10.224.117.49 50813 typ host">>,<<"sdpMLineIndex">> => nil,<<"sdpMid">> => nil}],[{file,"lib/signalling/notifier.ex"},{line,36}]},{'Elixir.Signalling',call_sdp,3,[{file,"lib/signalling.ex"},{line,29}]},{'Elixir.SignallingWeb.IntercomController',sdp_intercom,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,69}]},{'Elixir.SignallingWeb.IntercomController',action,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.IntercomController',phoenix_controller_pipeline,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint',instrument,4,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',1,[{file,"lib/phoenix/router.ex"},{line,275}]},{'Elixir.SignallingWeb.Endpoint',plug_builder_call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.SignallingWeb.Endpoint',call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,33}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.SignallingWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 204,cert => undefined,has_body => true,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip, deflate">>,<<"connection">> => <<"upgrade">>,<<"content-length">> => <<"204">>,<<"content-type">> => <<"application/json">>,<<"host">> => <<"signaling-api.domoface.ru">>,<<"user-agent">> => <<"Python/3.7 aiohttp/3.6.2">>,<<"x-forwarded-for">> => <<"87.76.0.8">>,<<"x-forwarded-host">> => <<"signaling-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"87.76.0.8">>},host => <<"signaling-api.domoface.ru">>,host_info => undefined,method => <<"POST">>,path => <<"/signaling/intercom/sdp_intercom">>,path_info => undefined,peer => {{127,0,0,1},43408},pid => <0.2041.0>,port => 80,qs => <<>>,ref => 'Elixir.SignallingWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},8002},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"signaling-api.domoface.ru">>,method => <<"POST">>,owner => <0.2042.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"signaling">>,<<"intercom">>,<<"sdp_intercom">>],path_params => #{},port => 80,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip, deflate">>},{<<"connection">>,<<"upgrade">>},{<<"content-length">>,<<"204">>},{<<"content-type">>,<<"application/json">>},{<<"host">>,<<"signaling-api.domoface.ru">>},{<<"user-agent">>,<<"Python/3.7 aiohttp/3.6.2">>},{<<"x-forwarded-for">>,<<"87.76.0.8">>},{<<"x-forwarded-host">>,<<"signaling-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"87.76.0.8">>}],request_path => <<"/signaling/intercom/sdp_intercom">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}
    ancestors: [<0.2041.0>,<0.1226.0>,<0.1225.0>,'Elixir.SignallingWeb.Endpoint','Elixir.Signalling.Supervisor',<0.1210.0>]
    message_queue_len: 0
    messages: []
    links: [<0.2041.0>]
    dictionary: [{logger_metadata,{true,[{request_id,<<"Fdhk-rYIk3X9W2MAABIi">>}]}}]
    trap_exit: false
    status: running
    heap_size: 6772
    stack_size: 27
    reductions: 173212
  neighbours:
2019-11-18 23:18:17 =ERROR REPORT====
Ranch listener 'Elixir.SignallingWeb.Endpoint.HTTP', connection process <0.2041.0>, stream 1 had its request process <0.2042.0> exit with reason {{#{'__exception__' => true,'__struct__' => 'Elixir.FunctionClauseError',args => nil,arity => 2,clauses => nil,function => sdp_call,kind => nil,module => 'Elixir.Signalling.Notifier'},[{'Elixir.Signalling.Notifier',sdp_call,[[#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9a9b7935-5d31-431c-b354-88b1c6f3542c">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019},serial_key => <<"3157588642d753b0">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,token => <<"e4zyYuvG_oY:APA91bHL9P7qsf_DQIQjfImwJaxKnmjqmm3XTQwCL-1vxojQoNwpVL-oIA_NWLDT-X1Vupuor7a4cCqqF3FfA3faL9A0POGD_QWmXSO3ghgT2Qz5UddYwApYFAlfEFAcdGDSr5CHsKsf">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019}}],id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 8,month => 11,second => 53,year => 2019},password => <<"$2b$12$oOX2mvAXzIhT50XnmsaPpeTRno2B4uUAowr2LyuQ3Ed/1o.5.VG1q">>,phone_number => <<"89176200645">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<208,149,208,178,208,179,208,181,208,189,208,184,208,185,32,208,154,208,176,208,187,208,180,208,184,208,189>>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 36,month => 11,second => 50,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9e411232-1c65-4deb-ba6a-d77786e023d7">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 25,month => 11,second => 40,year => 2019},serial_key => <<"2a05092ea1c0c777">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cbrDPJM9piw:APA91bF0jAJd2IYycMQxuXVeUjNy5I3Yy2Le9ZXcjso14ielexAndVUhXIBeSLvDcmKuo_GsANHXTXjiXE061Jrw_4K_HG4HQAlrs2AJRUEJbeIhAEWf7NW0vuk3EHAAr7dLVXOPexHi">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 9,microsecond => {0,0},minute => 36,month => 11,second => 12,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9679e299-55b8-4498-943b-160c7c877da0">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 16,microsecond => {0,0},minute => 23,month => 11,second => 29,year => 2019},serial_key => <<"9e7225961a706a65">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cOr_nTgNJBM:APA91bELiM_yN8yM0TpQmQfn2BNlmurhJlT3UjhZtaMy3oV1RvEfSEtdIaVgblUBw8-vT7fV6bVlPuDuUWwPvPEhzg-vWnVZqt6rX_h4EVGMvwWoea7Ra66pFEcr77eF9ySJuSBCj3v1">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 11,month => 11,second => 57,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"178d035d-3f31-4b74-b64b-6d5505ed4bf6">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 38,year => 2019},serial_key => <<"3098ad9eabaf20fd">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"d4CfUwvd6g0:APA91bHPkAArHm1p5IHU2zJ3Ea0Vc1fYxhmRp8QAZFRhUBahxqMda2dHGpSXo3wdtc59kauYs8lZWG4ly9nIxr-Re2Xaz1OguNsbUFiKu_yxzLVhgdXm38g18Us1Rv495cY3UHoFK3mp">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 16,month => 11,second => 42,year => 2019}}],id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 15,hour => 12,microsecond => {0,0},minute => 39,month => 11,second => 36,year => 2019},password => <<"$2b$12$XlddKF/xtUSibCfUPGIFder8BVD04Qh9qhAIdee/iSdJE48pNnIKe">>,phone_number => <<"89991945767">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<"Azat verni 2 rubl">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 13,year => 2019}}],#{<<"candidate">> => <<"candidate:1498970736 1 udp 2113937151 10.224.117.49 50813 typ host">>,<<"sdpMLineIndex">> => nil,<<"sdpMid">> => nil}],[{file,"lib/signalling/notifier.ex"},{line,36}]},{'Elixir.Signalling',call_sdp,3,[{file,"lib/signalling.ex"},{line,29}]},{'Elixir.SignallingWeb.IntercomController',sdp_intercom,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,69}]},{'Elixir.SignallingWeb.IntercomController',action,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.IntercomController',phoenix_controller_pipeline,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint',instrument,4,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',1,[{file,"lib/phoenix/router.ex"},{line,275}]},{'Elixir.SignallingWeb.Endpoint',plug_builder_call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.SignallingWeb.Endpoint',call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,33}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.SignallingWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 204,cert => undefined,has_body => true,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip, deflate">>,<<"connection">> => <<"upgrade">>,<<"content-length">> => <<"204">>,<<"content-type">> => <<"application/json">>,<<"host">> => <<"signaling-api.domoface.ru">>,<<"user-agent">> => <<"Python/3.7 aiohttp/3.6.2">>,<<"x-forwarded-for">> => <<"87.76.0.8">>,<<"x-forwarded-host">> => <<"signaling-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"87.76.0.8">>},host => <<"signaling-api.domoface.ru">>,host_info => undefined,method => <<"POST">>,path => <<"/signaling/intercom/sdp_intercom">>,path_info => undefined,peer => {{127,0,0,1},43408},pid => <0.2041.0>,port => 80,qs => <<>>,ref => 'Elixir.SignallingWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},8002},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"signaling-api.domoface.ru">>,method => <<"POST">>,owner => <0.2042.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"signaling">>,<<"intercom">>,<<"sdp_intercom">>],path_params => #{},port => 80,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip, deflate">>},{<<"connection">>,<<"upgrade">>},{<<"content-length">>,<<"204">>},{<<"content-type">>,<<"application/json">>},{<<"host">>,<<"signaling-api.domoface.ru">>},{<<"user-agent">>,<<"Python/3.7 aiohttp/3.6.2">>},{<<"x-forwarded-for">>,<<"87.76.0.8">>},{<<"x-forwarded-host">>,<<"signaling-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"87.76.0.8">>}],request_path => <<"/signaling/intercom/sdp_intercom">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}} and stacktrace [{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]
2019-11-18 23:22:31 =CRASH REPORT====
  crasher:
    initial call: cowboy_stream_h:request_process/3
    pid: <0.2113.0>
    registered_name: []
    exception exit: {{{{#{'__exception__' => true,'__struct__' => 'Elixir.FunctionClauseError',args => nil,arity => 2,clauses => nil,function => sdp_call,kind => nil,module => 'Elixir.Signalling.Notifier'},[{'Elixir.Signalling.Notifier',sdp_call,[[#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9a9b7935-5d31-431c-b354-88b1c6f3542c">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019},serial_key => <<"3157588642d753b0">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,token => <<"e4zyYuvG_oY:APA91bHL9P7qsf_DQIQjfImwJaxKnmjqmm3XTQwCL-1vxojQoNwpVL-oIA_NWLDT-X1Vupuor7a4cCqqF3FfA3faL9A0POGD_QWmXSO3ghgT2Qz5UddYwApYFAlfEFAcdGDSr5CHsKsf">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019}}],id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 8,month => 11,second => 53,year => 2019},password => <<"$2b$12$oOX2mvAXzIhT50XnmsaPpeTRno2B4uUAowr2LyuQ3Ed/1o.5.VG1q">>,phone_number => <<"89176200645">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<208,149,208,178,208,179,208,181,208,189,208,184,208,185,32,208,154,208,176,208,187,208,180,208,184,208,189>>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 36,month => 11,second => 50,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9e411232-1c65-4deb-ba6a-d77786e023d7">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 25,month => 11,second => 40,year => 2019},serial_key => <<"2a05092ea1c0c777">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cbrDPJM9piw:APA91bF0jAJd2IYycMQxuXVeUjNy5I3Yy2Le9ZXcjso14ielexAndVUhXIBeSLvDcmKuo_GsANHXTXjiXE061Jrw_4K_HG4HQAlrs2AJRUEJbeIhAEWf7NW0vuk3EHAAr7dLVXOPexHi">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 9,microsecond => {0,0},minute => 36,month => 11,second => 12,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9679e299-55b8-4498-943b-160c7c877da0">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 16,microsecond => {0,0},minute => 23,month => 11,second => 29,year => 2019},serial_key => <<"9e7225961a706a65">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cOr_nTgNJBM:APA91bELiM_yN8yM0TpQmQfn2BNlmurhJlT3UjhZtaMy3oV1RvEfSEtdIaVgblUBw8-vT7fV6bVlPuDuUWwPvPEhzg-vWnVZqt6rX_h4EVGMvwWoea7Ra66pFEcr77eF9ySJuSBCj3v1">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 11,month => 11,second => 57,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"178d035d-3f31-4b74-b64b-6d5505ed4bf6">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 38,year => 2019},serial_key => <<"3098ad9eabaf20fd">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"d4CfUwvd6g0:APA91bHPkAArHm1p5IHU2zJ3Ea0Vc1fYxhmRp8QAZFRhUBahxqMda2dHGpSXo3wdtc59kauYs8lZWG4ly9nIxr-Re2Xaz1OguNsbUFiKu_yxzLVhgdXm38g18Us1Rv495cY3UHoFK3mp">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 16,month => 11,second => 42,year => 2019}}],id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 15,hour => 12,microsecond => {0,0},minute => 39,month => 11,second => 36,year => 2019},password => <<"$2b$12$XlddKF/xtUSibCfUPGIFder8BVD04Qh9qhAIdee/iSdJE48pNnIKe">>,phone_number => <<"89991945767">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<"Azat verni 2 rubl">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 13,year => 2019}}],#{<<"candidate">> => <<"candidate:1498970736 1 udp 2113937151 10.224.117.49 53975 typ host">>,<<"sdpMLineIndex">> => nil,<<"sdpMid">> => nil}],[{file,"lib/signalling/notifier.ex"},{line,36}]},{'Elixir.Signalling',call_sdp,3,[{file,"lib/signalling.ex"},{line,29}]},{'Elixir.SignallingWeb.IntercomController',sdp_intercom,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,69}]},{'Elixir.SignallingWeb.IntercomController',action,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.IntercomController',phoenix_controller_pipeline,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint',instrument,4,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',1,[{file,"lib/phoenix/router.ex"},{line,275}]},{'Elixir.SignallingWeb.Endpoint',plug_builder_call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.SignallingWeb.Endpoint',call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,33}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.SignallingWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 204,cert => undefined,has_body => true,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip, deflate">>,<<"connection">> => <<"upgrade">>,<<"content-length">> => <<"204">>,<<"content-type">> => <<"application/json">>,<<"host">> => <<"signaling-api.domoface.ru">>,<<"user-agent">> => <<"Python/3.7 aiohttp/3.6.2">>,<<"x-forwarded-for">> => <<"87.76.0.8">>,<<"x-forwarded-host">> => <<"signaling-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"87.76.0.8">>},host => <<"signaling-api.domoface.ru">>,host_info => undefined,method => <<"POST">>,path => <<"/signaling/intercom/sdp_intercom">>,path_info => undefined,peer => {{127,0,0,1},43432},pid => <0.2112.0>,port => 80,qs => <<>>,ref => 'Elixir.SignallingWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},8002},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"signaling-api.domoface.ru">>,method => <<"POST">>,owner => <0.2113.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"signaling">>,<<"intercom">>,<<"sdp_intercom">>],path_params => #{},port => 80,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip, deflate">>},{<<"connection">>,<<"upgrade">>},{<<"content-length">>,<<"204">>},{<<"content-type">>,<<"application/json">>},{<<"host">>,<<"signaling-api.domoface.ru">>},{<<"user-agent">>,<<"Python/3.7 aiohttp/3.6.2">>},{<<"x-forwarded-for">>,<<"87.76.0.8">>},{<<"x-forwarded-host">>,<<"signaling-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"87.76.0.8">>}],request_path => <<"/signaling/intercom/sdp_intercom">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}
    ancestors: [<0.2112.0>,<0.1226.0>,<0.1225.0>,'Elixir.SignallingWeb.Endpoint','Elixir.Signalling.Supervisor',<0.1210.0>]
    message_queue_len: 0
    messages: []
    links: [<0.2112.0>]
    dictionary: [{logger_metadata,{true,[{request_id,<<"FdhlNa1nVrLF-rUAABKi">>}]}}]
    trap_exit: false
    status: running
    heap_size: 6772
    stack_size: 27
    reductions: 173206
  neighbours:
2019-11-18 23:22:31 =CRASH REPORT====
  crasher:
    initial call: cowboy_stream_h:request_process/3
    pid: <0.2116.0>
    registered_name: []
    exception exit: {{{{#{'__exception__' => true,'__struct__' => 'Elixir.FunctionClauseError',args => nil,arity => 2,clauses => nil,function => sdp_call,kind => nil,module => 'Elixir.Signalling.Notifier'},[{'Elixir.Signalling.Notifier',sdp_call,[[#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9a9b7935-5d31-431c-b354-88b1c6f3542c">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019},serial_key => <<"3157588642d753b0">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,token => <<"e4zyYuvG_oY:APA91bHL9P7qsf_DQIQjfImwJaxKnmjqmm3XTQwCL-1vxojQoNwpVL-oIA_NWLDT-X1Vupuor7a4cCqqF3FfA3faL9A0POGD_QWmXSO3ghgT2Qz5UddYwApYFAlfEFAcdGDSr5CHsKsf">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019}}],id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 8,month => 11,second => 53,year => 2019},password => <<"$2b$12$oOX2mvAXzIhT50XnmsaPpeTRno2B4uUAowr2LyuQ3Ed/1o.5.VG1q">>,phone_number => <<"89176200645">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<208,149,208,178,208,179,208,181,208,189,208,184,208,185,32,208,154,208,176,208,187,208,180,208,184,208,189>>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 36,month => 11,second => 50,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9e411232-1c65-4deb-ba6a-d77786e023d7">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 25,month => 11,second => 40,year => 2019},serial_key => <<"2a05092ea1c0c777">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cbrDPJM9piw:APA91bF0jAJd2IYycMQxuXVeUjNy5I3Yy2Le9ZXcjso14ielexAndVUhXIBeSLvDcmKuo_GsANHXTXjiXE061Jrw_4K_HG4HQAlrs2AJRUEJbeIhAEWf7NW0vuk3EHAAr7dLVXOPexHi">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 9,microsecond => {0,0},minute => 36,month => 11,second => 12,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9679e299-55b8-4498-943b-160c7c877da0">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 16,microsecond => {0,0},minute => 23,month => 11,second => 29,year => 2019},serial_key => <<"9e7225961a706a65">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cOr_nTgNJBM:APA91bELiM_yN8yM0TpQmQfn2BNlmurhJlT3UjhZtaMy3oV1RvEfSEtdIaVgblUBw8-vT7fV6bVlPuDuUWwPvPEhzg-vWnVZqt6rX_h4EVGMvwWoea7Ra66pFEcr77eF9ySJuSBCj3v1">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 11,month => 11,second => 57,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"178d035d-3f31-4b74-b64b-6d5505ed4bf6">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 38,year => 2019},serial_key => <<"3098ad9eabaf20fd">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"d4CfUwvd6g0:APA91bHPkAArHm1p5IHU2zJ3Ea0Vc1fYxhmRp8QAZFRhUBahxqMda2dHGpSXo3wdtc59kauYs8lZWG4ly9nIxr-Re2Xaz1OguNsbUFiKu_yxzLVhgdXm38g18Us1Rv495cY3UHoFK3mp">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 16,month => 11,second => 42,year => 2019}}],id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 15,hour => 12,microsecond => {0,0},minute => 39,month => 11,second => 36,year => 2019},password => <<"$2b$12$XlddKF/xtUSibCfUPGIFder8BVD04Qh9qhAIdee/iSdJE48pNnIKe">>,phone_number => <<"89991945767">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<"Azat verni 2 rubl">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 13,year => 2019}}],#{<<"candidate">> => <<"candidate:842163049 1 udp 1677729535 85.26.233.154 12726 typ srflx raddr 10.224.117.49 rport 53975">>,<<"sdpMLineIndex">> => nil,<<"sdpMid">> => nil}],[{file,"lib/signalling/notifier.ex"},{line,36}]},{'Elixir.Signalling',call_sdp,3,[{file,"lib/signalling.ex"},{line,29}]},{'Elixir.SignallingWeb.IntercomController',sdp_intercom,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,69}]},{'Elixir.SignallingWeb.IntercomController',action,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.IntercomController',phoenix_controller_pipeline,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint',instrument,4,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',1,[{file,"lib/phoenix/router.ex"},{line,275}]},{'Elixir.SignallingWeb.Endpoint',plug_builder_call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.SignallingWeb.Endpoint',call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,33}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.SignallingWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 236,cert => undefined,has_body => true,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip, deflate">>,<<"connection">> => <<"upgrade">>,<<"content-length">> => <<"236">>,<<"content-type">> => <<"application/json">>,<<"host">> => <<"signaling-api.domoface.ru">>,<<"user-agent">> => <<"Python/3.7 aiohttp/3.6.2">>,<<"x-forwarded-for">> => <<"87.76.0.8">>,<<"x-forwarded-host">> => <<"signaling-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"87.76.0.8">>},host => <<"signaling-api.domoface.ru">>,host_info => undefined,method => <<"POST">>,path => <<"/signaling/intercom/sdp_intercom">>,path_info => undefined,peer => {{127,0,0,1},43434},pid => <0.2115.0>,port => 80,qs => <<>>,ref => 'Elixir.SignallingWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},8002},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"signaling-api.domoface.ru">>,method => <<"POST">>,owner => <0.2116.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"signaling">>,<<"intercom">>,<<"sdp_intercom">>],path_params => #{},port => 80,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip, deflate">>},{<<"connection">>,<<"upgrade">>},{<<"content-length">>,<<"236">>},{<<"content-type">>,<<"application/json">>},{<<"host">>,<<"signaling-api.domoface.ru">>},{<<"user-agent">>,<<"Python/3.7 aiohttp/3.6.2">>},{<<"x-forwarded-for">>,<<"87.76.0.8">>},{<<"x-forwarded-host">>,<<"signaling-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"87.76.0.8">>}],request_path => <<"/signaling/intercom/sdp_intercom">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}
    ancestors: [<0.2115.0>,<0.1226.0>,<0.1225.0>,'Elixir.SignallingWeb.Endpoint','Elixir.Signalling.Supervisor',<0.1210.0>]
    message_queue_len: 0
    messages: []
    links: [<0.2115.0>]
    dictionary: [{logger_metadata,{true,[{request_id,<<"FdhlNdCpuBxuh7IAABLC">>}]}}]
    trap_exit: false
    status: running
    heap_size: 6772
    stack_size: 27
    reductions: 173594
  neighbours:
2019-11-18 23:22:31 =ERROR REPORT====
Ranch listener 'Elixir.SignallingWeb.Endpoint.HTTP', connection process <0.2115.0>, stream 1 had its request process <0.2116.0> exit with reason {{#{'__exception__' => true,'__struct__' => 'Elixir.FunctionClauseError',args => nil,arity => 2,clauses => nil,function => sdp_call,kind => nil,module => 'Elixir.Signalling.Notifier'},[{'Elixir.Signalling.Notifier',sdp_call,[[#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9a9b7935-5d31-431c-b354-88b1c6f3542c">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019},serial_key => <<"3157588642d753b0">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,token => <<"e4zyYuvG_oY:APA91bHL9P7qsf_DQIQjfImwJaxKnmjqmm3XTQwCL-1vxojQoNwpVL-oIA_NWLDT-X1Vupuor7a4cCqqF3FfA3faL9A0POGD_QWmXSO3ghgT2Qz5UddYwApYFAlfEFAcdGDSr5CHsKsf">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019}}],id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 8,month => 11,second => 53,year => 2019},password => <<"$2b$12$oOX2mvAXzIhT50XnmsaPpeTRno2B4uUAowr2LyuQ3Ed/1o.5.VG1q">>,phone_number => <<"89176200645">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<208,149,208,178,208,179,208,181,208,189,208,184,208,185,32,208,154,208,176,208,187,208,180,208,184,208,189>>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 36,month => 11,second => 50,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9e411232-1c65-4deb-ba6a-d77786e023d7">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 25,month => 11,second => 40,year => 2019},serial_key => <<"2a05092ea1c0c777">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cbrDPJM9piw:APA91bF0jAJd2IYycMQxuXVeUjNy5I3Yy2Le9ZXcjso14ielexAndVUhXIBeSLvDcmKuo_GsANHXTXjiXE061Jrw_4K_HG4HQAlrs2AJRUEJbeIhAEWf7NW0vuk3EHAAr7dLVXOPexHi">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 9,microsecond => {0,0},minute => 36,month => 11,second => 12,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9679e299-55b8-4498-943b-160c7c877da0">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 16,microsecond => {0,0},minute => 23,month => 11,second => 29,year => 2019},serial_key => <<"9e7225961a706a65">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cOr_nTgNJBM:APA91bELiM_yN8yM0TpQmQfn2BNlmurhJlT3UjhZtaMy3oV1RvEfSEtdIaVgblUBw8-vT7fV6bVlPuDuUWwPvPEhzg-vWnVZqt6rX_h4EVGMvwWoea7Ra66pFEcr77eF9ySJuSBCj3v1">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 11,month => 11,second => 57,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"178d035d-3f31-4b74-b64b-6d5505ed4bf6">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 38,year => 2019},serial_key => <<"3098ad9eabaf20fd">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"d4CfUwvd6g0:APA91bHPkAArHm1p5IHU2zJ3Ea0Vc1fYxhmRp8QAZFRhUBahxqMda2dHGpSXo3wdtc59kauYs8lZWG4ly9nIxr-Re2Xaz1OguNsbUFiKu_yxzLVhgdXm38g18Us1Rv495cY3UHoFK3mp">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 16,month => 11,second => 42,year => 2019}}],id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 15,hour => 12,microsecond => {0,0},minute => 39,month => 11,second => 36,year => 2019},password => <<"$2b$12$XlddKF/xtUSibCfUPGIFder8BVD04Qh9qhAIdee/iSdJE48pNnIKe">>,phone_number => <<"89991945767">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<"Azat verni 2 rubl">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 13,year => 2019}}],#{<<"candidate">> => <<"candidate:842163049 1 udp 1677729535 85.26.233.154 12726 typ srflx raddr 10.224.117.49 rport 53975">>,<<"sdpMLineIndex">> => nil,<<"sdpMid">> => nil}],[{file,"lib/signalling/notifier.ex"},{line,36}]},{'Elixir.Signalling',call_sdp,3,[{file,"lib/signalling.ex"},{line,29}]},{'Elixir.SignallingWeb.IntercomController',sdp_intercom,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,69}]},{'Elixir.SignallingWeb.IntercomController',action,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.IntercomController',phoenix_controller_pipeline,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint',instrument,4,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',1,[{file,"lib/phoenix/router.ex"},{line,275}]},{'Elixir.SignallingWeb.Endpoint',plug_builder_call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.SignallingWeb.Endpoint',call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,33}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.SignallingWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 236,cert => undefined,has_body => true,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip, deflate">>,<<"connection">> => <<"upgrade">>,<<"content-length">> => <<"236">>,<<"content-type">> => <<"application/json">>,<<"host">> => <<"signaling-api.domoface.ru">>,<<"user-agent">> => <<"Python/3.7 aiohttp/3.6.2">>,<<"x-forwarded-for">> => <<"87.76.0.8">>,<<"x-forwarded-host">> => <<"signaling-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"87.76.0.8">>},host => <<"signaling-api.domoface.ru">>,host_info => undefined,method => <<"POST">>,path => <<"/signaling/intercom/sdp_intercom">>,path_info => undefined,peer => {{127,0,0,1},43434},pid => <0.2115.0>,port => 80,qs => <<>>,ref => 'Elixir.SignallingWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},8002},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"signaling-api.domoface.ru">>,method => <<"POST">>,owner => <0.2116.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"signaling">>,<<"intercom">>,<<"sdp_intercom">>],path_params => #{},port => 80,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip, deflate">>},{<<"connection">>,<<"upgrade">>},{<<"content-length">>,<<"236">>},{<<"content-type">>,<<"application/json">>},{<<"host">>,<<"signaling-api.domoface.ru">>},{<<"user-agent">>,<<"Python/3.7 aiohttp/3.6.2">>},{<<"x-forwarded-for">>,<<"87.76.0.8">>},{<<"x-forwarded-host">>,<<"signaling-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"87.76.0.8">>}],request_path => <<"/signaling/intercom/sdp_intercom">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}} and stacktrace [{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]
2019-11-18 23:22:32 =CRASH REPORT====
  crasher:
    initial call: cowboy_stream_h:request_process/3
    pid: <0.2120.0>
    registered_name: []
    exception exit: {{{{#{'__exception__' => true,'__struct__' => 'Elixir.FunctionClauseError',args => nil,arity => 2,clauses => nil,function => sdp_call,kind => nil,module => 'Elixir.Signalling.Notifier'},[{'Elixir.Signalling.Notifier',sdp_call,[[#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9a9b7935-5d31-431c-b354-88b1c6f3542c">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019},serial_key => <<"3157588642d753b0">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,token => <<"e4zyYuvG_oY:APA91bHL9P7qsf_DQIQjfImwJaxKnmjqmm3XTQwCL-1vxojQoNwpVL-oIA_NWLDT-X1Vupuor7a4cCqqF3FfA3faL9A0POGD_QWmXSO3ghgT2Qz5UddYwApYFAlfEFAcdGDSr5CHsKsf">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019}}],id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 8,month => 11,second => 53,year => 2019},password => <<"$2b$12$oOX2mvAXzIhT50XnmsaPpeTRno2B4uUAowr2LyuQ3Ed/1o.5.VG1q">>,phone_number => <<"89176200645">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<208,149,208,178,208,179,208,181,208,189,208,184,208,185,32,208,154,208,176,208,187,208,180,208,184,208,189>>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 36,month => 11,second => 50,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9e411232-1c65-4deb-ba6a-d77786e023d7">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 25,month => 11,second => 40,year => 2019},serial_key => <<"2a05092ea1c0c777">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cbrDPJM9piw:APA91bF0jAJd2IYycMQxuXVeUjNy5I3Yy2Le9ZXcjso14ielexAndVUhXIBeSLvDcmKuo_GsANHXTXjiXE061Jrw_4K_HG4HQAlrs2AJRUEJbeIhAEWf7NW0vuk3EHAAr7dLVXOPexHi">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 9,microsecond => {0,0},minute => 36,month => 11,second => 12,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9679e299-55b8-4498-943b-160c7c877da0">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 16,microsecond => {0,0},minute => 23,month => 11,second => 29,year => 2019},serial_key => <<"9e7225961a706a65">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cOr_nTgNJBM:APA91bELiM_yN8yM0TpQmQfn2BNlmurhJlT3UjhZtaMy3oV1RvEfSEtdIaVgblUBw8-vT7fV6bVlPuDuUWwPvPEhzg-vWnVZqt6rX_h4EVGMvwWoea7Ra66pFEcr77eF9ySJuSBCj3v1">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 11,month => 11,second => 57,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"178d035d-3f31-4b74-b64b-6d5505ed4bf6">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 38,year => 2019},serial_key => <<"3098ad9eabaf20fd">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"d4CfUwvd6g0:APA91bHPkAArHm1p5IHU2zJ3Ea0Vc1fYxhmRp8QAZFRhUBahxqMda2dHGpSXo3wdtc59kauYs8lZWG4ly9nIxr-Re2Xaz1OguNsbUFiKu_yxzLVhgdXm38g18Us1Rv495cY3UHoFK3mp">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 16,month => 11,second => 42,year => 2019}}],id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 15,hour => 12,microsecond => {0,0},minute => 39,month => 11,second => 36,year => 2019},password => <<"$2b$12$XlddKF/xtUSibCfUPGIFder8BVD04Qh9qhAIdee/iSdJE48pNnIKe">>,phone_number => <<"89991945767">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<"Azat verni 2 rubl">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 13,year => 2019}}],#{<<"candidate">> => <<"candidate:2212263285 1 udp 33562367 3.123.78.125 50579 typ relay raddr 85.26.233.154 rport 12726">>,<<"sdpMLineIndex">> => nil,<<"sdpMid">> => nil}],[{file,"lib/signalling/notifier.ex"},{line,36}]},{'Elixir.Signalling',call_sdp,3,[{file,"lib/signalling.ex"},{line,29}]},{'Elixir.SignallingWeb.IntercomController',sdp_intercom,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,69}]},{'Elixir.SignallingWeb.IntercomController',action,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.IntercomController',phoenix_controller_pipeline,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint',instrument,4,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',1,[{file,"lib/phoenix/router.ex"},{line,275}]},{'Elixir.SignallingWeb.Endpoint',plug_builder_call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.SignallingWeb.Endpoint',call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,33}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.SignallingWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 234,cert => undefined,has_body => true,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip, deflate">>,<<"connection">> => <<"upgrade">>,<<"content-length">> => <<"234">>,<<"content-type">> => <<"application/json">>,<<"host">> => <<"signaling-api.domoface.ru">>,<<"user-agent">> => <<"Python/3.7 aiohttp/3.6.2">>,<<"x-forwarded-for">> => <<"87.76.0.8">>,<<"x-forwarded-host">> => <<"signaling-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"87.76.0.8">>},host => <<"signaling-api.domoface.ru">>,host_info => undefined,method => <<"POST">>,path => <<"/signaling/intercom/sdp_intercom">>,path_info => undefined,peer => {{127,0,0,1},43436},pid => <0.2119.0>,port => 80,qs => <<>>,ref => 'Elixir.SignallingWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},8002},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"signaling-api.domoface.ru">>,method => <<"POST">>,owner => <0.2120.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"signaling">>,<<"intercom">>,<<"sdp_intercom">>],path_params => #{},port => 80,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip, deflate">>},{<<"connection">>,<<"upgrade">>},{<<"content-length">>,<<"234">>},{<<"content-type">>,<<"application/json">>},{<<"host">>,<<"signaling-api.domoface.ru">>},{<<"user-agent">>,<<"Python/3.7 aiohttp/3.6.2">>},{<<"x-forwarded-for">>,<<"87.76.0.8">>},{<<"x-forwarded-host">>,<<"signaling-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"87.76.0.8">>}],request_path => <<"/signaling/intercom/sdp_intercom">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}
    ancestors: [<0.2119.0>,<0.1226.0>,<0.1225.0>,'Elixir.SignallingWeb.Endpoint','Elixir.Signalling.Supervisor',<0.1210.0>]
    message_queue_len: 0
    messages: []
    links: [<0.2119.0>]
    dictionary: [{logger_metadata,{true,[{request_id,<<"FdhlNfg02PxfZAsAABLi">>}]}}]
    trap_exit: false
    status: running
    heap_size: 6772
    stack_size: 27
    reductions: 173659
  neighbours:
2019-11-18 23:22:32 =ERROR REPORT====
Ranch listener 'Elixir.SignallingWeb.Endpoint.HTTP', connection process <0.2119.0>, stream 1 had its request process <0.2120.0> exit with reason {{#{'__exception__' => true,'__struct__' => 'Elixir.FunctionClauseError',args => nil,arity => 2,clauses => nil,function => sdp_call,kind => nil,module => 'Elixir.Signalling.Notifier'},[{'Elixir.Signalling.Notifier',sdp_call,[[#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9a9b7935-5d31-431c-b354-88b1c6f3542c">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019},serial_key => <<"3157588642d753b0">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,token => <<"e4zyYuvG_oY:APA91bHL9P7qsf_DQIQjfImwJaxKnmjqmm3XTQwCL-1vxojQoNwpVL-oIA_NWLDT-X1Vupuor7a4cCqqF3FfA3faL9A0POGD_QWmXSO3ghgT2Qz5UddYwApYFAlfEFAcdGDSr5CHsKsf">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019}}],id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 8,month => 11,second => 53,year => 2019},password => <<"$2b$12$oOX2mvAXzIhT50XnmsaPpeTRno2B4uUAowr2LyuQ3Ed/1o.5.VG1q">>,phone_number => <<"89176200645">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<208,149,208,178,208,179,208,181,208,189,208,184,208,185,32,208,154,208,176,208,187,208,180,208,184,208,189>>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 36,month => 11,second => 50,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9e411232-1c65-4deb-ba6a-d77786e023d7">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 25,month => 11,second => 40,year => 2019},serial_key => <<"2a05092ea1c0c777">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cbrDPJM9piw:APA91bF0jAJd2IYycMQxuXVeUjNy5I3Yy2Le9ZXcjso14ielexAndVUhXIBeSLvDcmKuo_GsANHXTXjiXE061Jrw_4K_HG4HQAlrs2AJRUEJbeIhAEWf7NW0vuk3EHAAr7dLVXOPexHi">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 9,microsecond => {0,0},minute => 36,month => 11,second => 12,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9679e299-55b8-4498-943b-160c7c877da0">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 16,microsecond => {0,0},minute => 23,month => 11,second => 29,year => 2019},serial_key => <<"9e7225961a706a65">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cOr_nTgNJBM:APA91bELiM_yN8yM0TpQmQfn2BNlmurhJlT3UjhZtaMy3oV1RvEfSEtdIaVgblUBw8-vT7fV6bVlPuDuUWwPvPEhzg-vWnVZqt6rX_h4EVGMvwWoea7Ra66pFEcr77eF9ySJuSBCj3v1">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 11,month => 11,second => 57,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"178d035d-3f31-4b74-b64b-6d5505ed4bf6">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 38,year => 2019},serial_key => <<"3098ad9eabaf20fd">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"d4CfUwvd6g0:APA91bHPkAArHm1p5IHU2zJ3Ea0Vc1fYxhmRp8QAZFRhUBahxqMda2dHGpSXo3wdtc59kauYs8lZWG4ly9nIxr-Re2Xaz1OguNsbUFiKu_yxzLVhgdXm38g18Us1Rv495cY3UHoFK3mp">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 16,month => 11,second => 42,year => 2019}}],id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 15,hour => 12,microsecond => {0,0},minute => 39,month => 11,second => 36,year => 2019},password => <<"$2b$12$XlddKF/xtUSibCfUPGIFder8BVD04Qh9qhAIdee/iSdJE48pNnIKe">>,phone_number => <<"89991945767">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<"Azat verni 2 rubl">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 13,year => 2019}}],#{<<"candidate">> => <<"candidate:2212263285 1 udp 33562367 3.123.78.125 50579 typ relay raddr 85.26.233.154 rport 12726">>,<<"sdpMLineIndex">> => nil,<<"sdpMid">> => nil}],[{file,"lib/signalling/notifier.ex"},{line,36}]},{'Elixir.Signalling',call_sdp,3,[{file,"lib/signalling.ex"},{line,29}]},{'Elixir.SignallingWeb.IntercomController',sdp_intercom,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,69}]},{'Elixir.SignallingWeb.IntercomController',action,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.IntercomController',phoenix_controller_pipeline,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint',instrument,4,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',1,[{file,"lib/phoenix/router.ex"},{line,275}]},{'Elixir.SignallingWeb.Endpoint',plug_builder_call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.SignallingWeb.Endpoint',call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,33}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.SignallingWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 234,cert => undefined,has_body => true,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip, deflate">>,<<"connection">> => <<"upgrade">>,<<"content-length">> => <<"234">>,<<"content-type">> => <<"application/json">>,<<"host">> => <<"signaling-api.domoface.ru">>,<<"user-agent">> => <<"Python/3.7 aiohttp/3.6.2">>,<<"x-forwarded-for">> => <<"87.76.0.8">>,<<"x-forwarded-host">> => <<"signaling-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"87.76.0.8">>},host => <<"signaling-api.domoface.ru">>,host_info => undefined,method => <<"POST">>,path => <<"/signaling/intercom/sdp_intercom">>,path_info => undefined,peer => {{127,0,0,1},43436},pid => <0.2119.0>,port => 80,qs => <<>>,ref => 'Elixir.SignallingWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},8002},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"signaling-api.domoface.ru">>,method => <<"POST">>,owner => <0.2120.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"signaling">>,<<"intercom">>,<<"sdp_intercom">>],path_params => #{},port => 80,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip, deflate">>},{<<"connection">>,<<"upgrade">>},{<<"content-length">>,<<"234">>},{<<"content-type">>,<<"application/json">>},{<<"host">>,<<"signaling-api.domoface.ru">>},{<<"user-agent">>,<<"Python/3.7 aiohttp/3.6.2">>},{<<"x-forwarded-for">>,<<"87.76.0.8">>},{<<"x-forwarded-host">>,<<"signaling-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"87.76.0.8">>}],request_path => <<"/signaling/intercom/sdp_intercom">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}} and stacktrace [{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]
2019-11-18 23:33:40 =CRASH REPORT====
  crasher:
    initial call: Elixir.Archive.VideoVisor:init/1
    pid: <0.1188.0>
    registered_name: []
    exception error: bad argument: [{'Elixir.Archive.VideoVisor',create_dir,2,[{file,"lib/archive/video_visor.ex"},{line,59}]},{'Elixir.Archive.VideoVisor',init,1,[{file,"lib/archive/video_visor.ex"},{line,32}]},{gen_server,init_it,2,[{file,"gen_server.erl"},{line,374}]},{gen_server,init_it,6,[{file,"gen_server.erl"},{line,342}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]
    ancestors: ['Elixir.Archive.VideoDynamicSupervisor','Elixir.Archive.Supervisor',<0.1038.0>]
    message_queue_len: 0
    messages: []
    links: [<0.1171.0>]
    dictionary: []
    trap_exit: true
    status: running
    heap_size: 610
    stack_size: 27
    reductions: 382
  neighbours:
2019-11-18 23:34:07 =CRASH REPORT====
  crasher:
    initial call: cowboy_stream_h:request_process/3
    pid: <0.1363.0>
    registered_name: []
    exception exit: {{{{#{'__exception__' => true,'__struct__' => 'Elixir.FunctionClauseError',args => nil,arity => 2,clauses => nil,function => sdp_call,kind => nil,module => 'Elixir.Signalling.Notifier'},[{'Elixir.Signalling.Notifier',sdp_call,[[#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9a9b7935-5d31-431c-b354-88b1c6f3542c">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019},serial_key => <<"3157588642d753b0">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,token => <<"e4zyYuvG_oY:APA91bHL9P7qsf_DQIQjfImwJaxKnmjqmm3XTQwCL-1vxojQoNwpVL-oIA_NWLDT-X1Vupuor7a4cCqqF3FfA3faL9A0POGD_QWmXSO3ghgT2Qz5UddYwApYFAlfEFAcdGDSr5CHsKsf">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019}}],id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 8,month => 11,second => 53,year => 2019},password => <<"$2b$12$oOX2mvAXzIhT50XnmsaPpeTRno2B4uUAowr2LyuQ3Ed/1o.5.VG1q">>,phone_number => <<"89176200645">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<208,149,208,178,208,179,208,181,208,189,208,184,208,185,32,208,154,208,176,208,187,208,180,208,184,208,189>>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 36,month => 11,second => 50,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9e411232-1c65-4deb-ba6a-d77786e023d7">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 25,month => 11,second => 40,year => 2019},serial_key => <<"2a05092ea1c0c777">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cbrDPJM9piw:APA91bF0jAJd2IYycMQxuXVeUjNy5I3Yy2Le9ZXcjso14ielexAndVUhXIBeSLvDcmKuo_GsANHXTXjiXE061Jrw_4K_HG4HQAlrs2AJRUEJbeIhAEWf7NW0vuk3EHAAr7dLVXOPexHi">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 9,microsecond => {0,0},minute => 36,month => 11,second => 12,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9679e299-55b8-4498-943b-160c7c877da0">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 16,microsecond => {0,0},minute => 23,month => 11,second => 29,year => 2019},serial_key => <<"9e7225961a706a65">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cOr_nTgNJBM:APA91bELiM_yN8yM0TpQmQfn2BNlmurhJlT3UjhZtaMy3oV1RvEfSEtdIaVgblUBw8-vT7fV6bVlPuDuUWwPvPEhzg-vWnVZqt6rX_h4EVGMvwWoea7Ra66pFEcr77eF9ySJuSBCj3v1">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 11,month => 11,second => 57,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"178d035d-3f31-4b74-b64b-6d5505ed4bf6">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 38,year => 2019},serial_key => <<"3098ad9eabaf20fd">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"d4CfUwvd6g0:APA91bHPkAArHm1p5IHU2zJ3Ea0Vc1fYxhmRp8QAZFRhUBahxqMda2dHGpSXo3wdtc59kauYs8lZWG4ly9nIxr-Re2Xaz1OguNsbUFiKu_yxzLVhgdXm38g18Us1Rv495cY3UHoFK3mp">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 16,month => 11,second => 42,year => 2019}}],id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 15,hour => 12,microsecond => {0,0},minute => 39,month => 11,second => 36,year => 2019},password => <<"$2b$12$XlddKF/xtUSibCfUPGIFder8BVD04Qh9qhAIdee/iSdJE48pNnIKe">>,phone_number => <<"89991945767">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<"Azat verni 2 rubl">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 13,year => 2019}}],#{<<"candidate">> => <<"candidate:842163049 1 udp 1677729535 85.26.233.154 65328 typ srflx raddr 10.224.117.49 rport 52166">>,<<"sdpMLineIndex">> => nil,<<"sdpMid">> => nil}],[{file,"lib/signalling/notifier.ex"},{line,36}]},{'Elixir.Signalling',call_sdp,3,[{file,"lib/signalling.ex"},{line,29}]},{'Elixir.SignallingWeb.IntercomController',sdp_intercom,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,69}]},{'Elixir.SignallingWeb.IntercomController',action,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.IntercomController',phoenix_controller_pipeline,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint',instrument,4,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',1,[{file,"lib/phoenix/router.ex"},{line,275}]},{'Elixir.SignallingWeb.Endpoint',plug_builder_call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.SignallingWeb.Endpoint',call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,33}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.SignallingWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 236,cert => undefined,has_body => true,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip, deflate">>,<<"connection">> => <<"upgrade">>,<<"content-length">> => <<"236">>,<<"content-type">> => <<"application/json">>,<<"host">> => <<"signaling-api.domoface.ru">>,<<"user-agent">> => <<"Python/3.7 aiohttp/3.6.2">>,<<"x-forwarded-for">> => <<"87.76.0.8">>,<<"x-forwarded-host">> => <<"signaling-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"87.76.0.8">>},host => <<"signaling-api.domoface.ru">>,host_info => undefined,method => <<"POST">>,path => <<"/signaling/intercom/sdp_intercom">>,path_info => undefined,peer => {{127,0,0,1},43454},pid => <0.1362.0>,port => 80,qs => <<>>,ref => 'Elixir.SignallingWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},8002},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"signaling-api.domoface.ru">>,method => <<"POST">>,owner => <0.1363.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"signaling">>,<<"intercom">>,<<"sdp_intercom">>],path_params => #{},port => 80,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip, deflate">>},{<<"connection">>,<<"upgrade">>},{<<"content-length">>,<<"236">>},{<<"content-type">>,<<"application/json">>},{<<"host">>,<<"signaling-api.domoface.ru">>},{<<"user-agent">>,<<"Python/3.7 aiohttp/3.6.2">>},{<<"x-forwarded-for">>,<<"87.76.0.8">>},{<<"x-forwarded-host">>,<<"signaling-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"87.76.0.8">>}],request_path => <<"/signaling/intercom/sdp_intercom">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}
    ancestors: [<0.1362.0>,<0.1211.0>,<0.1210.0>,'Elixir.SignallingWeb.Endpoint','Elixir.Signalling.Supervisor',<0.1195.0>]
    message_queue_len: 0
    messages: []
    links: [<0.1362.0>]
    dictionary: [{logger_metadata,{true,[{request_id,<<"Fdhl1-RRSsBm8H4AAA4i">>}]}}]
    trap_exit: false
    status: running
    heap_size: 2586
    stack_size: 27
    reductions: 176350
  neighbours:
2019-11-18 23:34:07 =ERROR REPORT====
Ranch listener 'Elixir.SignallingWeb.Endpoint.HTTP', connection process <0.1362.0>, stream 1 had its request process <0.1363.0> exit with reason {{#{'__exception__' => true,'__struct__' => 'Elixir.FunctionClauseError',args => nil,arity => 2,clauses => nil,function => sdp_call,kind => nil,module => 'Elixir.Signalling.Notifier'},[{'Elixir.Signalling.Notifier',sdp_call,[[#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9a9b7935-5d31-431c-b354-88b1c6f3542c">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019},serial_key => <<"3157588642d753b0">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,token => <<"e4zyYuvG_oY:APA91bHL9P7qsf_DQIQjfImwJaxKnmjqmm3XTQwCL-1vxojQoNwpVL-oIA_NWLDT-X1Vupuor7a4cCqqF3FfA3faL9A0POGD_QWmXSO3ghgT2Qz5UddYwApYFAlfEFAcdGDSr5CHsKsf">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019}}],id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 8,month => 11,second => 53,year => 2019},password => <<"$2b$12$oOX2mvAXzIhT50XnmsaPpeTRno2B4uUAowr2LyuQ3Ed/1o.5.VG1q">>,phone_number => <<"89176200645">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<208,149,208,178,208,179,208,181,208,189,208,184,208,185,32,208,154,208,176,208,187,208,180,208,184,208,189>>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 36,month => 11,second => 50,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9e411232-1c65-4deb-ba6a-d77786e023d7">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 25,month => 11,second => 40,year => 2019},serial_key => <<"2a05092ea1c0c777">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cbrDPJM9piw:APA91bF0jAJd2IYycMQxuXVeUjNy5I3Yy2Le9ZXcjso14ielexAndVUhXIBeSLvDcmKuo_GsANHXTXjiXE061Jrw_4K_HG4HQAlrs2AJRUEJbeIhAEWf7NW0vuk3EHAAr7dLVXOPexHi">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 9,microsecond => {0,0},minute => 36,month => 11,second => 12,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9679e299-55b8-4498-943b-160c7c877da0">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 16,microsecond => {0,0},minute => 23,month => 11,second => 29,year => 2019},serial_key => <<"9e7225961a706a65">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cOr_nTgNJBM:APA91bELiM_yN8yM0TpQmQfn2BNlmurhJlT3UjhZtaMy3oV1RvEfSEtdIaVgblUBw8-vT7fV6bVlPuDuUWwPvPEhzg-vWnVZqt6rX_h4EVGMvwWoea7Ra66pFEcr77eF9ySJuSBCj3v1">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 11,month => 11,second => 57,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"178d035d-3f31-4b74-b64b-6d5505ed4bf6">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 38,year => 2019},serial_key => <<"3098ad9eabaf20fd">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"d4CfUwvd6g0:APA91bHPkAArHm1p5IHU2zJ3Ea0Vc1fYxhmRp8QAZFRhUBahxqMda2dHGpSXo3wdtc59kauYs8lZWG4ly9nIxr-Re2Xaz1OguNsbUFiKu_yxzLVhgdXm38g18Us1Rv495cY3UHoFK3mp">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 16,month => 11,second => 42,year => 2019}}],id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 15,hour => 12,microsecond => {0,0},minute => 39,month => 11,second => 36,year => 2019},password => <<"$2b$12$XlddKF/xtUSibCfUPGIFder8BVD04Qh9qhAIdee/iSdJE48pNnIKe">>,phone_number => <<"89991945767">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<"Azat verni 2 rubl">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 13,year => 2019}}],#{<<"candidate">> => <<"candidate:842163049 1 udp 1677729535 85.26.233.154 65328 typ srflx raddr 10.224.117.49 rport 52166">>,<<"sdpMLineIndex">> => nil,<<"sdpMid">> => nil}],[{file,"lib/signalling/notifier.ex"},{line,36}]},{'Elixir.Signalling',call_sdp,3,[{file,"lib/signalling.ex"},{line,29}]},{'Elixir.SignallingWeb.IntercomController',sdp_intercom,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,69}]},{'Elixir.SignallingWeb.IntercomController',action,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.IntercomController',phoenix_controller_pipeline,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint',instrument,4,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',1,[{file,"lib/phoenix/router.ex"},{line,275}]},{'Elixir.SignallingWeb.Endpoint',plug_builder_call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.SignallingWeb.Endpoint',call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,33}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.SignallingWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 236,cert => undefined,has_body => true,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip, deflate">>,<<"connection">> => <<"upgrade">>,<<"content-length">> => <<"236">>,<<"content-type">> => <<"application/json">>,<<"host">> => <<"signaling-api.domoface.ru">>,<<"user-agent">> => <<"Python/3.7 aiohttp/3.6.2">>,<<"x-forwarded-for">> => <<"87.76.0.8">>,<<"x-forwarded-host">> => <<"signaling-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"87.76.0.8">>},host => <<"signaling-api.domoface.ru">>,host_info => undefined,method => <<"POST">>,path => <<"/signaling/intercom/sdp_intercom">>,path_info => undefined,peer => {{127,0,0,1},43454},pid => <0.1362.0>,port => 80,qs => <<>>,ref => 'Elixir.SignallingWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},8002},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"signaling-api.domoface.ru">>,method => <<"POST">>,owner => <0.1363.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"signaling">>,<<"intercom">>,<<"sdp_intercom">>],path_params => #{},port => 80,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip, deflate">>},{<<"connection">>,<<"upgrade">>},{<<"content-length">>,<<"236">>},{<<"content-type">>,<<"application/json">>},{<<"host">>,<<"signaling-api.domoface.ru">>},{<<"user-agent">>,<<"Python/3.7 aiohttp/3.6.2">>},{<<"x-forwarded-for">>,<<"87.76.0.8">>},{<<"x-forwarded-host">>,<<"signaling-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"87.76.0.8">>}],request_path => <<"/signaling/intercom/sdp_intercom">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}} and stacktrace [{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]
2019-11-18 23:34:08 =CRASH REPORT====
  crasher:
    initial call: cowboy_stream_h:request_process/3
    pid: <0.1367.0>
    registered_name: []
    exception exit: {{{{#{'__exception__' => true,'__struct__' => 'Elixir.FunctionClauseError',args => nil,arity => 2,clauses => nil,function => sdp_call,kind => nil,module => 'Elixir.Signalling.Notifier'},[{'Elixir.Signalling.Notifier',sdp_call,[[#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9a9b7935-5d31-431c-b354-88b1c6f3542c">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019},serial_key => <<"3157588642d753b0">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,token => <<"e4zyYuvG_oY:APA91bHL9P7qsf_DQIQjfImwJaxKnmjqmm3XTQwCL-1vxojQoNwpVL-oIA_NWLDT-X1Vupuor7a4cCqqF3FfA3faL9A0POGD_QWmXSO3ghgT2Qz5UddYwApYFAlfEFAcdGDSr5CHsKsf">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019}}],id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 8,month => 11,second => 53,year => 2019},password => <<"$2b$12$oOX2mvAXzIhT50XnmsaPpeTRno2B4uUAowr2LyuQ3Ed/1o.5.VG1q">>,phone_number => <<"89176200645">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<208,149,208,178,208,179,208,181,208,189,208,184,208,185,32,208,154,208,176,208,187,208,180,208,184,208,189>>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 36,month => 11,second => 50,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9e411232-1c65-4deb-ba6a-d77786e023d7">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 25,month => 11,second => 40,year => 2019},serial_key => <<"2a05092ea1c0c777">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cbrDPJM9piw:APA91bF0jAJd2IYycMQxuXVeUjNy5I3Yy2Le9ZXcjso14ielexAndVUhXIBeSLvDcmKuo_GsANHXTXjiXE061Jrw_4K_HG4HQAlrs2AJRUEJbeIhAEWf7NW0vuk3EHAAr7dLVXOPexHi">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 9,microsecond => {0,0},minute => 36,month => 11,second => 12,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9679e299-55b8-4498-943b-160c7c877da0">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 16,microsecond => {0,0},minute => 23,month => 11,second => 29,year => 2019},serial_key => <<"9e7225961a706a65">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cOr_nTgNJBM:APA91bELiM_yN8yM0TpQmQfn2BNlmurhJlT3UjhZtaMy3oV1RvEfSEtdIaVgblUBw8-vT7fV6bVlPuDuUWwPvPEhzg-vWnVZqt6rX_h4EVGMvwWoea7Ra66pFEcr77eF9ySJuSBCj3v1">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 11,month => 11,second => 57,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"178d035d-3f31-4b74-b64b-6d5505ed4bf6">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 38,year => 2019},serial_key => <<"3098ad9eabaf20fd">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"d4CfUwvd6g0:APA91bHPkAArHm1p5IHU2zJ3Ea0Vc1fYxhmRp8QAZFRhUBahxqMda2dHGpSXo3wdtc59kauYs8lZWG4ly9nIxr-Re2Xaz1OguNsbUFiKu_yxzLVhgdXm38g18Us1Rv495cY3UHoFK3mp">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 16,month => 11,second => 42,year => 2019}}],id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 15,hour => 12,microsecond => {0,0},minute => 39,month => 11,second => 36,year => 2019},password => <<"$2b$12$XlddKF/xtUSibCfUPGIFder8BVD04Qh9qhAIdee/iSdJE48pNnIKe">>,phone_number => <<"89991945767">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<"Azat verni 2 rubl">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 13,year => 2019}}],#{<<"candidate">> => <<"candidate:1498970736 1 udp 2113937151 10.224.117.49 52166 typ host">>,<<"sdpMLineIndex">> => nil,<<"sdpMid">> => nil}],[{file,"lib/signalling/notifier.ex"},{line,36}]},{'Elixir.Signalling',call_sdp,3,[{file,"lib/signalling.ex"},{line,29}]},{'Elixir.SignallingWeb.IntercomController',sdp_intercom,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,69}]},{'Elixir.SignallingWeb.IntercomController',action,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.IntercomController',phoenix_controller_pipeline,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint',instrument,4,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',1,[{file,"lib/phoenix/router.ex"},{line,275}]},{'Elixir.SignallingWeb.Endpoint',plug_builder_call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.SignallingWeb.Endpoint',call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,33}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.SignallingWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 204,cert => undefined,has_body => true,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip, deflate">>,<<"connection">> => <<"upgrade">>,<<"content-length">> => <<"204">>,<<"content-type">> => <<"application/json">>,<<"host">> => <<"signaling-api.domoface.ru">>,<<"user-agent">> => <<"Python/3.7 aiohttp/3.6.2">>,<<"x-forwarded-for">> => <<"87.76.0.8">>,<<"x-forwarded-host">> => <<"signaling-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"87.76.0.8">>},host => <<"signaling-api.domoface.ru">>,host_info => undefined,method => <<"POST">>,path => <<"/signaling/intercom/sdp_intercom">>,path_info => undefined,peer => {{127,0,0,1},43456},pid => <0.1366.0>,port => 80,qs => <<>>,ref => 'Elixir.SignallingWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},8002},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"signaling-api.domoface.ru">>,method => <<"POST">>,owner => <0.1367.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"signaling">>,<<"intercom">>,<<"sdp_intercom">>],path_params => #{},port => 80,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip, deflate">>},{<<"connection">>,<<"upgrade">>},{<<"content-length">>,<<"204">>},{<<"content-type">>,<<"application/json">>},{<<"host">>,<<"signaling-api.domoface.ru">>},{<<"user-agent">>,<<"Python/3.7 aiohttp/3.6.2">>},{<<"x-forwarded-for">>,<<"87.76.0.8">>},{<<"x-forwarded-host">>,<<"signaling-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"87.76.0.8">>}],request_path => <<"/signaling/intercom/sdp_intercom">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}
    ancestors: [<0.1366.0>,<0.1211.0>,<0.1210.0>,'Elixir.SignallingWeb.Endpoint','Elixir.Signalling.Supervisor',<0.1195.0>]
    message_queue_len: 0
    messages: []
    links: [<0.1366.0>]
    dictionary: [{logger_metadata,{true,[{request_id,<<"Fdhl2AjtoGCY00QAAA5C">>}]}}]
    trap_exit: false
    status: running
    heap_size: 6772
    stack_size: 27
    reductions: 173654
  neighbours:
2019-11-18 23:34:08 =ERROR REPORT====
Ranch listener 'Elixir.SignallingWeb.Endpoint.HTTP', connection process <0.1366.0>, stream 1 had its request process <0.1367.0> exit with reason {{#{'__exception__' => true,'__struct__' => 'Elixir.FunctionClauseError',args => nil,arity => 2,clauses => nil,function => sdp_call,kind => nil,module => 'Elixir.Signalling.Notifier'},[{'Elixir.Signalling.Notifier',sdp_call,[[#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9a9b7935-5d31-431c-b354-88b1c6f3542c">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019},serial_key => <<"3157588642d753b0">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,token => <<"e4zyYuvG_oY:APA91bHL9P7qsf_DQIQjfImwJaxKnmjqmm3XTQwCL-1vxojQoNwpVL-oIA_NWLDT-X1Vupuor7a4cCqqF3FfA3faL9A0POGD_QWmXSO3ghgT2Qz5UddYwApYFAlfEFAcdGDSr5CHsKsf">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019}}],id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 8,month => 11,second => 53,year => 2019},password => <<"$2b$12$oOX2mvAXzIhT50XnmsaPpeTRno2B4uUAowr2LyuQ3Ed/1o.5.VG1q">>,phone_number => <<"89176200645">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<208,149,208,178,208,179,208,181,208,189,208,184,208,185,32,208,154,208,176,208,187,208,180,208,184,208,189>>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 36,month => 11,second => 50,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9e411232-1c65-4deb-ba6a-d77786e023d7">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 25,month => 11,second => 40,year => 2019},serial_key => <<"2a05092ea1c0c777">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cbrDPJM9piw:APA91bF0jAJd2IYycMQxuXVeUjNy5I3Yy2Le9ZXcjso14ielexAndVUhXIBeSLvDcmKuo_GsANHXTXjiXE061Jrw_4K_HG4HQAlrs2AJRUEJbeIhAEWf7NW0vuk3EHAAr7dLVXOPexHi">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 9,microsecond => {0,0},minute => 36,month => 11,second => 12,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9679e299-55b8-4498-943b-160c7c877da0">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 16,microsecond => {0,0},minute => 23,month => 11,second => 29,year => 2019},serial_key => <<"9e7225961a706a65">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cOr_nTgNJBM:APA91bELiM_yN8yM0TpQmQfn2BNlmurhJlT3UjhZtaMy3oV1RvEfSEtdIaVgblUBw8-vT7fV6bVlPuDuUWwPvPEhzg-vWnVZqt6rX_h4EVGMvwWoea7Ra66pFEcr77eF9ySJuSBCj3v1">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 11,month => 11,second => 57,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"178d035d-3f31-4b74-b64b-6d5505ed4bf6">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 38,year => 2019},serial_key => <<"3098ad9eabaf20fd">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"d4CfUwvd6g0:APA91bHPkAArHm1p5IHU2zJ3Ea0Vc1fYxhmRp8QAZFRhUBahxqMda2dHGpSXo3wdtc59kauYs8lZWG4ly9nIxr-Re2Xaz1OguNsbUFiKu_yxzLVhgdXm38g18Us1Rv495cY3UHoFK3mp">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 16,month => 11,second => 42,year => 2019}}],id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 15,hour => 12,microsecond => {0,0},minute => 39,month => 11,second => 36,year => 2019},password => <<"$2b$12$XlddKF/xtUSibCfUPGIFder8BVD04Qh9qhAIdee/iSdJE48pNnIKe">>,phone_number => <<"89991945767">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<"Azat verni 2 rubl">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 13,year => 2019}}],#{<<"candidate">> => <<"candidate:1498970736 1 udp 2113937151 10.224.117.49 52166 typ host">>,<<"sdpMLineIndex">> => nil,<<"sdpMid">> => nil}],[{file,"lib/signalling/notifier.ex"},{line,36}]},{'Elixir.Signalling',call_sdp,3,[{file,"lib/signalling.ex"},{line,29}]},{'Elixir.SignallingWeb.IntercomController',sdp_intercom,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,69}]},{'Elixir.SignallingWeb.IntercomController',action,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.IntercomController',phoenix_controller_pipeline,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint',instrument,4,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',1,[{file,"lib/phoenix/router.ex"},{line,275}]},{'Elixir.SignallingWeb.Endpoint',plug_builder_call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.SignallingWeb.Endpoint',call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,33}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.SignallingWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 204,cert => undefined,has_body => true,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip, deflate">>,<<"connection">> => <<"upgrade">>,<<"content-length">> => <<"204">>,<<"content-type">> => <<"application/json">>,<<"host">> => <<"signaling-api.domoface.ru">>,<<"user-agent">> => <<"Python/3.7 aiohttp/3.6.2">>,<<"x-forwarded-for">> => <<"87.76.0.8">>,<<"x-forwarded-host">> => <<"signaling-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"87.76.0.8">>},host => <<"signaling-api.domoface.ru">>,host_info => undefined,method => <<"POST">>,path => <<"/signaling/intercom/sdp_intercom">>,path_info => undefined,peer => {{127,0,0,1},43456},pid => <0.1366.0>,port => 80,qs => <<>>,ref => 'Elixir.SignallingWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},8002},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"signaling-api.domoface.ru">>,method => <<"POST">>,owner => <0.1367.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"signaling">>,<<"intercom">>,<<"sdp_intercom">>],path_params => #{},port => 80,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip, deflate">>},{<<"connection">>,<<"upgrade">>},{<<"content-length">>,<<"204">>},{<<"content-type">>,<<"application/json">>},{<<"host">>,<<"signaling-api.domoface.ru">>},{<<"user-agent">>,<<"Python/3.7 aiohttp/3.6.2">>},{<<"x-forwarded-for">>,<<"87.76.0.8">>},{<<"x-forwarded-host">>,<<"signaling-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"87.76.0.8">>}],request_path => <<"/signaling/intercom/sdp_intercom">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}} and stacktrace [{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]
2019-11-18 23:34:08 =CRASH REPORT====
  crasher:
    initial call: cowboy_stream_h:request_process/3
    pid: <0.1371.0>
    registered_name: []
    exception exit: {{{{#{'__exception__' => true,'__struct__' => 'Elixir.FunctionClauseError',args => nil,arity => 2,clauses => nil,function => sdp_call,kind => nil,module => 'Elixir.Signalling.Notifier'},[{'Elixir.Signalling.Notifier',sdp_call,[[#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9a9b7935-5d31-431c-b354-88b1c6f3542c">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019},serial_key => <<"3157588642d753b0">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,token => <<"e4zyYuvG_oY:APA91bHL9P7qsf_DQIQjfImwJaxKnmjqmm3XTQwCL-1vxojQoNwpVL-oIA_NWLDT-X1Vupuor7a4cCqqF3FfA3faL9A0POGD_QWmXSO3ghgT2Qz5UddYwApYFAlfEFAcdGDSr5CHsKsf">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019}}],id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 8,month => 11,second => 53,year => 2019},password => <<"$2b$12$oOX2mvAXzIhT50XnmsaPpeTRno2B4uUAowr2LyuQ3Ed/1o.5.VG1q">>,phone_number => <<"89176200645">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<208,149,208,178,208,179,208,181,208,189,208,184,208,185,32,208,154,208,176,208,187,208,180,208,184,208,189>>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 36,month => 11,second => 50,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9e411232-1c65-4deb-ba6a-d77786e023d7">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 25,month => 11,second => 40,year => 2019},serial_key => <<"2a05092ea1c0c777">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cbrDPJM9piw:APA91bF0jAJd2IYycMQxuXVeUjNy5I3Yy2Le9ZXcjso14ielexAndVUhXIBeSLvDcmKuo_GsANHXTXjiXE061Jrw_4K_HG4HQAlrs2AJRUEJbeIhAEWf7NW0vuk3EHAAr7dLVXOPexHi">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 9,microsecond => {0,0},minute => 36,month => 11,second => 12,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9679e299-55b8-4498-943b-160c7c877da0">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 16,microsecond => {0,0},minute => 23,month => 11,second => 29,year => 2019},serial_key => <<"9e7225961a706a65">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cOr_nTgNJBM:APA91bELiM_yN8yM0TpQmQfn2BNlmurhJlT3UjhZtaMy3oV1RvEfSEtdIaVgblUBw8-vT7fV6bVlPuDuUWwPvPEhzg-vWnVZqt6rX_h4EVGMvwWoea7Ra66pFEcr77eF9ySJuSBCj3v1">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 11,month => 11,second => 57,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"178d035d-3f31-4b74-b64b-6d5505ed4bf6">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 38,year => 2019},serial_key => <<"3098ad9eabaf20fd">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"d4CfUwvd6g0:APA91bHPkAArHm1p5IHU2zJ3Ea0Vc1fYxhmRp8QAZFRhUBahxqMda2dHGpSXo3wdtc59kauYs8lZWG4ly9nIxr-Re2Xaz1OguNsbUFiKu_yxzLVhgdXm38g18Us1Rv495cY3UHoFK3mp">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 16,month => 11,second => 42,year => 2019}}],id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 15,hour => 12,microsecond => {0,0},minute => 39,month => 11,second => 36,year => 2019},password => <<"$2b$12$XlddKF/xtUSibCfUPGIFder8BVD04Qh9qhAIdee/iSdJE48pNnIKe">>,phone_number => <<"89991945767">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<"Azat verni 2 rubl">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 13,year => 2019}}],#{<<"candidate">> => <<"candidate:2212263285 1 udp 33562367 3.123.78.125 59726 typ relay raddr 85.26.233.154 rport 65328">>,<<"sdpMLineIndex">> => nil,<<"sdpMid">> => nil}],[{file,"lib/signalling/notifier.ex"},{line,36}]},{'Elixir.Signalling',call_sdp,3,[{file,"lib/signalling.ex"},{line,29}]},{'Elixir.SignallingWeb.IntercomController',sdp_intercom,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,69}]},{'Elixir.SignallingWeb.IntercomController',action,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.IntercomController',phoenix_controller_pipeline,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint',instrument,4,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',1,[{file,"lib/phoenix/router.ex"},{line,275}]},{'Elixir.SignallingWeb.Endpoint',plug_builder_call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.SignallingWeb.Endpoint',call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,33}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.SignallingWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 234,cert => undefined,has_body => true,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip, deflate">>,<<"connection">> => <<"upgrade">>,<<"content-length">> => <<"234">>,<<"content-type">> => <<"application/json">>,<<"host">> => <<"signaling-api.domoface.ru">>,<<"user-agent">> => <<"Python/3.7 aiohttp/3.6.2">>,<<"x-forwarded-for">> => <<"87.76.0.8">>,<<"x-forwarded-host">> => <<"signaling-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"87.76.0.8">>},host => <<"signaling-api.domoface.ru">>,host_info => undefined,method => <<"POST">>,path => <<"/signaling/intercom/sdp_intercom">>,path_info => undefined,peer => {{127,0,0,1},43458},pid => <0.1370.0>,port => 80,qs => <<>>,ref => 'Elixir.SignallingWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},8002},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"signaling-api.domoface.ru">>,method => <<"POST">>,owner => <0.1371.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"signaling">>,<<"intercom">>,<<"sdp_intercom">>],path_params => #{},port => 80,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip, deflate">>},{<<"connection">>,<<"upgrade">>},{<<"content-length">>,<<"234">>},{<<"content-type">>,<<"application/json">>},{<<"host">>,<<"signaling-api.domoface.ru">>},{<<"user-agent">>,<<"Python/3.7 aiohttp/3.6.2">>},{<<"x-forwarded-for">>,<<"87.76.0.8">>},{<<"x-forwarded-host">>,<<"signaling-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"87.76.0.8">>}],request_path => <<"/signaling/intercom/sdp_intercom">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}
    ancestors: [<0.1370.0>,<0.1211.0>,<0.1210.0>,'Elixir.SignallingWeb.Endpoint','Elixir.Signalling.Supervisor',<0.1195.0>]
    message_queue_len: 0
    messages: []
    links: [<0.1370.0>]
    dictionary: [{logger_metadata,{true,[{request_id,<<"Fdhl2C0RxKRgDfUAAA5i">>}]}}]
    trap_exit: false
    status: running
    heap_size: 6772
    stack_size: 27
    reductions: 174606
  neighbours:
2019-11-18 23:34:08 =ERROR REPORT====
Ranch listener 'Elixir.SignallingWeb.Endpoint.HTTP', connection process <0.1370.0>, stream 1 had its request process <0.1371.0> exit with reason {{#{'__exception__' => true,'__struct__' => 'Elixir.FunctionClauseError',args => nil,arity => 2,clauses => nil,function => sdp_call,kind => nil,module => 'Elixir.Signalling.Notifier'},[{'Elixir.Signalling.Notifier',sdp_call,[[#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9a9b7935-5d31-431c-b354-88b1c6f3542c">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019},serial_key => <<"3157588642d753b0">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,token => <<"e4zyYuvG_oY:APA91bHL9P7qsf_DQIQjfImwJaxKnmjqmm3XTQwCL-1vxojQoNwpVL-oIA_NWLDT-X1Vupuor7a4cCqqF3FfA3faL9A0POGD_QWmXSO3ghgT2Qz5UddYwApYFAlfEFAcdGDSr5CHsKsf">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019}}],id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 8,month => 11,second => 53,year => 2019},password => <<"$2b$12$oOX2mvAXzIhT50XnmsaPpeTRno2B4uUAowr2LyuQ3Ed/1o.5.VG1q">>,phone_number => <<"89176200645">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<208,149,208,178,208,179,208,181,208,189,208,184,208,185,32,208,154,208,176,208,187,208,180,208,184,208,189>>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 36,month => 11,second => 50,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9e411232-1c65-4deb-ba6a-d77786e023d7">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 25,month => 11,second => 40,year => 2019},serial_key => <<"2a05092ea1c0c777">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cbrDPJM9piw:APA91bF0jAJd2IYycMQxuXVeUjNy5I3Yy2Le9ZXcjso14ielexAndVUhXIBeSLvDcmKuo_GsANHXTXjiXE061Jrw_4K_HG4HQAlrs2AJRUEJbeIhAEWf7NW0vuk3EHAAr7dLVXOPexHi">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 9,microsecond => {0,0},minute => 36,month => 11,second => 12,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9679e299-55b8-4498-943b-160c7c877da0">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 16,microsecond => {0,0},minute => 23,month => 11,second => 29,year => 2019},serial_key => <<"9e7225961a706a65">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cOr_nTgNJBM:APA91bELiM_yN8yM0TpQmQfn2BNlmurhJlT3UjhZtaMy3oV1RvEfSEtdIaVgblUBw8-vT7fV6bVlPuDuUWwPvPEhzg-vWnVZqt6rX_h4EVGMvwWoea7Ra66pFEcr77eF9ySJuSBCj3v1">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 11,month => 11,second => 57,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"178d035d-3f31-4b74-b64b-6d5505ed4bf6">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 38,year => 2019},serial_key => <<"3098ad9eabaf20fd">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"d4CfUwvd6g0:APA91bHPkAArHm1p5IHU2zJ3Ea0Vc1fYxhmRp8QAZFRhUBahxqMda2dHGpSXo3wdtc59kauYs8lZWG4ly9nIxr-Re2Xaz1OguNsbUFiKu_yxzLVhgdXm38g18Us1Rv495cY3UHoFK3mp">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 16,month => 11,second => 42,year => 2019}}],id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 15,hour => 12,microsecond => {0,0},minute => 39,month => 11,second => 36,year => 2019},password => <<"$2b$12$XlddKF/xtUSibCfUPGIFder8BVD04Qh9qhAIdee/iSdJE48pNnIKe">>,phone_number => <<"89991945767">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<"Azat verni 2 rubl">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 13,year => 2019}}],#{<<"candidate">> => <<"candidate:2212263285 1 udp 33562367 3.123.78.125 59726 typ relay raddr 85.26.233.154 rport 65328">>,<<"sdpMLineIndex">> => nil,<<"sdpMid">> => nil}],[{file,"lib/signalling/notifier.ex"},{line,36}]},{'Elixir.Signalling',call_sdp,3,[{file,"lib/signalling.ex"},{line,29}]},{'Elixir.SignallingWeb.IntercomController',sdp_intercom,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,69}]},{'Elixir.SignallingWeb.IntercomController',action,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.IntercomController',phoenix_controller_pipeline,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint',instrument,4,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',1,[{file,"lib/phoenix/router.ex"},{line,275}]},{'Elixir.SignallingWeb.Endpoint',plug_builder_call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.SignallingWeb.Endpoint',call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,33}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.SignallingWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 234,cert => undefined,has_body => true,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip, deflate">>,<<"connection">> => <<"upgrade">>,<<"content-length">> => <<"234">>,<<"content-type">> => <<"application/json">>,<<"host">> => <<"signaling-api.domoface.ru">>,<<"user-agent">> => <<"Python/3.7 aiohttp/3.6.2">>,<<"x-forwarded-for">> => <<"87.76.0.8">>,<<"x-forwarded-host">> => <<"signaling-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"87.76.0.8">>},host => <<"signaling-api.domoface.ru">>,host_info => undefined,method => <<"POST">>,path => <<"/signaling/intercom/sdp_intercom">>,path_info => undefined,peer => {{127,0,0,1},43458},pid => <0.1370.0>,port => 80,qs => <<>>,ref => 'Elixir.SignallingWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},8002},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"signaling-api.domoface.ru">>,method => <<"POST">>,owner => <0.1371.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"signaling">>,<<"intercom">>,<<"sdp_intercom">>],path_params => #{},port => 80,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip, deflate">>},{<<"connection">>,<<"upgrade">>},{<<"content-length">>,<<"234">>},{<<"content-type">>,<<"application/json">>},{<<"host">>,<<"signaling-api.domoface.ru">>},{<<"user-agent">>,<<"Python/3.7 aiohttp/3.6.2">>},{<<"x-forwarded-for">>,<<"87.76.0.8">>},{<<"x-forwarded-host">>,<<"signaling-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"87.76.0.8">>}],request_path => <<"/signaling/intercom/sdp_intercom">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}} and stacktrace [{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]
2019-11-18 23:35:45 =CRASH REPORT====
  crasher:
    initial call: cowboy_stream_h:request_process/3
    pid: <0.1423.0>
    registered_name: []
    exception exit: {{{{#{'__exception__' => true,'__struct__' => 'Elixir.FunctionClauseError',args => nil,arity => 2,clauses => nil,function => sdp_call,kind => nil,module => 'Elixir.Signalling.Notifier'},[{'Elixir.Signalling.Notifier',sdp_call,[[#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9a9b7935-5d31-431c-b354-88b1c6f3542c">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019},serial_key => <<"3157588642d753b0">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,token => <<"e4zyYuvG_oY:APA91bHL9P7qsf_DQIQjfImwJaxKnmjqmm3XTQwCL-1vxojQoNwpVL-oIA_NWLDT-X1Vupuor7a4cCqqF3FfA3faL9A0POGD_QWmXSO3ghgT2Qz5UddYwApYFAlfEFAcdGDSr5CHsKsf">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019}}],id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 8,month => 11,second => 53,year => 2019},password => <<"$2b$12$oOX2mvAXzIhT50XnmsaPpeTRno2B4uUAowr2LyuQ3Ed/1o.5.VG1q">>,phone_number => <<"89176200645">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<208,149,208,178,208,179,208,181,208,189,208,184,208,185,32,208,154,208,176,208,187,208,180,208,184,208,189>>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 36,month => 11,second => 50,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9e411232-1c65-4deb-ba6a-d77786e023d7">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 25,month => 11,second => 40,year => 2019},serial_key => <<"2a05092ea1c0c777">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cbrDPJM9piw:APA91bF0jAJd2IYycMQxuXVeUjNy5I3Yy2Le9ZXcjso14ielexAndVUhXIBeSLvDcmKuo_GsANHXTXjiXE061Jrw_4K_HG4HQAlrs2AJRUEJbeIhAEWf7NW0vuk3EHAAr7dLVXOPexHi">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 9,microsecond => {0,0},minute => 36,month => 11,second => 12,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9679e299-55b8-4498-943b-160c7c877da0">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 16,microsecond => {0,0},minute => 23,month => 11,second => 29,year => 2019},serial_key => <<"9e7225961a706a65">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cOr_nTgNJBM:APA91bELiM_yN8yM0TpQmQfn2BNlmurhJlT3UjhZtaMy3oV1RvEfSEtdIaVgblUBw8-vT7fV6bVlPuDuUWwPvPEhzg-vWnVZqt6rX_h4EVGMvwWoea7Ra66pFEcr77eF9ySJuSBCj3v1">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 11,month => 11,second => 57,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"178d035d-3f31-4b74-b64b-6d5505ed4bf6">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 38,year => 2019},serial_key => <<"3098ad9eabaf20fd">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"d4CfUwvd6g0:APA91bHPkAArHm1p5IHU2zJ3Ea0Vc1fYxhmRp8QAZFRhUBahxqMda2dHGpSXo3wdtc59kauYs8lZWG4ly9nIxr-Re2Xaz1OguNsbUFiKu_yxzLVhgdXm38g18Us1Rv495cY3UHoFK3mp">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 16,month => 11,second => 42,year => 2019}}],id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 15,hour => 12,microsecond => {0,0},minute => 39,month => 11,second => 36,year => 2019},password => <<"$2b$12$XlddKF/xtUSibCfUPGIFder8BVD04Qh9qhAIdee/iSdJE48pNnIKe">>,phone_number => <<"89991945767">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<"Azat verni 2 rubl">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 13,year => 2019}}],#{<<"candidate">> => <<"candidate:1498970736 1 udp 2113937151 10.224.117.49 42318 typ host">>,<<"sdpMLineIndex">> => nil,<<"sdpMid">> => nil}],[{file,"lib/signalling/notifier.ex"},{line,36}]},{'Elixir.Signalling',call_sdp,3,[{file,"lib/signalling.ex"},{line,29}]},{'Elixir.SignallingWeb.IntercomController',sdp_intercom,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,69}]},{'Elixir.SignallingWeb.IntercomController',action,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.IntercomController',phoenix_controller_pipeline,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint',instrument,4,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',1,[{file,"lib/phoenix/router.ex"},{line,275}]},{'Elixir.SignallingWeb.Endpoint',plug_builder_call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.SignallingWeb.Endpoint',call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,33}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.SignallingWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 204,cert => undefined,has_body => true,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip, deflate">>,<<"connection">> => <<"upgrade">>,<<"content-length">> => <<"204">>,<<"content-type">> => <<"application/json">>,<<"host">> => <<"signaling-api.domoface.ru">>,<<"user-agent">> => <<"Python/3.7 aiohttp/3.6.2">>,<<"x-forwarded-for">> => <<"87.76.0.8">>,<<"x-forwarded-host">> => <<"signaling-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"87.76.0.8">>},host => <<"signaling-api.domoface.ru">>,host_info => undefined,method => <<"POST">>,path => <<"/signaling/intercom/sdp_intercom">>,path_info => undefined,peer => {{127,0,0,1},43478},pid => <0.1422.0>,port => 80,qs => <<>>,ref => 'Elixir.SignallingWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},8002},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"signaling-api.domoface.ru">>,method => <<"POST">>,owner => <0.1423.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"signaling">>,<<"intercom">>,<<"sdp_intercom">>],path_params => #{},port => 80,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip, deflate">>},{<<"connection">>,<<"upgrade">>},{<<"content-length">>,<<"204">>},{<<"content-type">>,<<"application/json">>},{<<"host">>,<<"signaling-api.domoface.ru">>},{<<"user-agent">>,<<"Python/3.7 aiohttp/3.6.2">>},{<<"x-forwarded-for">>,<<"87.76.0.8">>},{<<"x-forwarded-host">>,<<"signaling-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"87.76.0.8">>}],request_path => <<"/signaling/intercom/sdp_intercom">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}
    ancestors: [<0.1422.0>,<0.1211.0>,<0.1210.0>,'Elixir.SignallingWeb.Endpoint','Elixir.Signalling.Supervisor',<0.1195.0>]
    message_queue_len: 0
    messages: []
    links: [<0.1422.0>]
    dictionary: [{logger_metadata,{true,[{request_id,<<"Fdhl7qMjdgLVbxgAAASh">>}]}}]
    trap_exit: false
    status: running
    heap_size: 6772
    stack_size: 27
    reductions: 173650
  neighbours:
2019-11-18 23:35:45 =ERROR REPORT====
Ranch listener 'Elixir.SignallingWeb.Endpoint.HTTP', connection process <0.1422.0>, stream 1 had its request process <0.1423.0> exit with reason {{#{'__exception__' => true,'__struct__' => 'Elixir.FunctionClauseError',args => nil,arity => 2,clauses => nil,function => sdp_call,kind => nil,module => 'Elixir.Signalling.Notifier'},[{'Elixir.Signalling.Notifier',sdp_call,[[#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9a9b7935-5d31-431c-b354-88b1c6f3542c">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019},serial_key => <<"3157588642d753b0">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,token => <<"e4zyYuvG_oY:APA91bHL9P7qsf_DQIQjfImwJaxKnmjqmm3XTQwCL-1vxojQoNwpVL-oIA_NWLDT-X1Vupuor7a4cCqqF3FfA3faL9A0POGD_QWmXSO3ghgT2Qz5UddYwApYFAlfEFAcdGDSr5CHsKsf">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019}}],id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 8,month => 11,second => 53,year => 2019},password => <<"$2b$12$oOX2mvAXzIhT50XnmsaPpeTRno2B4uUAowr2LyuQ3Ed/1o.5.VG1q">>,phone_number => <<"89176200645">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<208,149,208,178,208,179,208,181,208,189,208,184,208,185,32,208,154,208,176,208,187,208,180,208,184,208,189>>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 36,month => 11,second => 50,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9e411232-1c65-4deb-ba6a-d77786e023d7">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 25,month => 11,second => 40,year => 2019},serial_key => <<"2a05092ea1c0c777">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cbrDPJM9piw:APA91bF0jAJd2IYycMQxuXVeUjNy5I3Yy2Le9ZXcjso14ielexAndVUhXIBeSLvDcmKuo_GsANHXTXjiXE061Jrw_4K_HG4HQAlrs2AJRUEJbeIhAEWf7NW0vuk3EHAAr7dLVXOPexHi">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 9,microsecond => {0,0},minute => 36,month => 11,second => 12,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9679e299-55b8-4498-943b-160c7c877da0">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 16,microsecond => {0,0},minute => 23,month => 11,second => 29,year => 2019},serial_key => <<"9e7225961a706a65">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cOr_nTgNJBM:APA91bELiM_yN8yM0TpQmQfn2BNlmurhJlT3UjhZtaMy3oV1RvEfSEtdIaVgblUBw8-vT7fV6bVlPuDuUWwPvPEhzg-vWnVZqt6rX_h4EVGMvwWoea7Ra66pFEcr77eF9ySJuSBCj3v1">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 11,month => 11,second => 57,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"178d035d-3f31-4b74-b64b-6d5505ed4bf6">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 38,year => 2019},serial_key => <<"3098ad9eabaf20fd">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"d4CfUwvd6g0:APA91bHPkAArHm1p5IHU2zJ3Ea0Vc1fYxhmRp8QAZFRhUBahxqMda2dHGpSXo3wdtc59kauYs8lZWG4ly9nIxr-Re2Xaz1OguNsbUFiKu_yxzLVhgdXm38g18Us1Rv495cY3UHoFK3mp">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 16,month => 11,second => 42,year => 2019}}],id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 15,hour => 12,microsecond => {0,0},minute => 39,month => 11,second => 36,year => 2019},password => <<"$2b$12$XlddKF/xtUSibCfUPGIFder8BVD04Qh9qhAIdee/iSdJE48pNnIKe">>,phone_number => <<"89991945767">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<"Azat verni 2 rubl">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 13,year => 2019}}],#{<<"candidate">> => <<"candidate:1498970736 1 udp 2113937151 10.224.117.49 42318 typ host">>,<<"sdpMLineIndex">> => nil,<<"sdpMid">> => nil}],[{file,"lib/signalling/notifier.ex"},{line,36}]},{'Elixir.Signalling',call_sdp,3,[{file,"lib/signalling.ex"},{line,29}]},{'Elixir.SignallingWeb.IntercomController',sdp_intercom,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,69}]},{'Elixir.SignallingWeb.IntercomController',action,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.IntercomController',phoenix_controller_pipeline,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint',instrument,4,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',1,[{file,"lib/phoenix/router.ex"},{line,275}]},{'Elixir.SignallingWeb.Endpoint',plug_builder_call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.SignallingWeb.Endpoint',call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,33}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.SignallingWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 204,cert => undefined,has_body => true,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip, deflate">>,<<"connection">> => <<"upgrade">>,<<"content-length">> => <<"204">>,<<"content-type">> => <<"application/json">>,<<"host">> => <<"signaling-api.domoface.ru">>,<<"user-agent">> => <<"Python/3.7 aiohttp/3.6.2">>,<<"x-forwarded-for">> => <<"87.76.0.8">>,<<"x-forwarded-host">> => <<"signaling-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"87.76.0.8">>},host => <<"signaling-api.domoface.ru">>,host_info => undefined,method => <<"POST">>,path => <<"/signaling/intercom/sdp_intercom">>,path_info => undefined,peer => {{127,0,0,1},43478},pid => <0.1422.0>,port => 80,qs => <<>>,ref => 'Elixir.SignallingWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},8002},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"signaling-api.domoface.ru">>,method => <<"POST">>,owner => <0.1423.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"signaling">>,<<"intercom">>,<<"sdp_intercom">>],path_params => #{},port => 80,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip, deflate">>},{<<"connection">>,<<"upgrade">>},{<<"content-length">>,<<"204">>},{<<"content-type">>,<<"application/json">>},{<<"host">>,<<"signaling-api.domoface.ru">>},{<<"user-agent">>,<<"Python/3.7 aiohttp/3.6.2">>},{<<"x-forwarded-for">>,<<"87.76.0.8">>},{<<"x-forwarded-host">>,<<"signaling-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"87.76.0.8">>}],request_path => <<"/signaling/intercom/sdp_intercom">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}} and stacktrace [{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]
2019-11-18 23:35:45 =CRASH REPORT====
  crasher:
    initial call: cowboy_stream_h:request_process/3
    pid: <0.1427.0>
    registered_name: []
    exception exit: {{{{#{'__exception__' => true,'__struct__' => 'Elixir.FunctionClauseError',args => nil,arity => 2,clauses => nil,function => sdp_call,kind => nil,module => 'Elixir.Signalling.Notifier'},[{'Elixir.Signalling.Notifier',sdp_call,[[#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9a9b7935-5d31-431c-b354-88b1c6f3542c">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019},serial_key => <<"3157588642d753b0">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,token => <<"e4zyYuvG_oY:APA91bHL9P7qsf_DQIQjfImwJaxKnmjqmm3XTQwCL-1vxojQoNwpVL-oIA_NWLDT-X1Vupuor7a4cCqqF3FfA3faL9A0POGD_QWmXSO3ghgT2Qz5UddYwApYFAlfEFAcdGDSr5CHsKsf">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019}}],id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 8,month => 11,second => 53,year => 2019},password => <<"$2b$12$oOX2mvAXzIhT50XnmsaPpeTRno2B4uUAowr2LyuQ3Ed/1o.5.VG1q">>,phone_number => <<"89176200645">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<208,149,208,178,208,179,208,181,208,189,208,184,208,185,32,208,154,208,176,208,187,208,180,208,184,208,189>>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 36,month => 11,second => 50,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9e411232-1c65-4deb-ba6a-d77786e023d7">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 25,month => 11,second => 40,year => 2019},serial_key => <<"2a05092ea1c0c777">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cbrDPJM9piw:APA91bF0jAJd2IYycMQxuXVeUjNy5I3Yy2Le9ZXcjso14ielexAndVUhXIBeSLvDcmKuo_GsANHXTXjiXE061Jrw_4K_HG4HQAlrs2AJRUEJbeIhAEWf7NW0vuk3EHAAr7dLVXOPexHi">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 9,microsecond => {0,0},minute => 36,month => 11,second => 12,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9679e299-55b8-4498-943b-160c7c877da0">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 16,microsecond => {0,0},minute => 23,month => 11,second => 29,year => 2019},serial_key => <<"9e7225961a706a65">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cOr_nTgNJBM:APA91bELiM_yN8yM0TpQmQfn2BNlmurhJlT3UjhZtaMy3oV1RvEfSEtdIaVgblUBw8-vT7fV6bVlPuDuUWwPvPEhzg-vWnVZqt6rX_h4EVGMvwWoea7Ra66pFEcr77eF9ySJuSBCj3v1">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 11,month => 11,second => 57,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"178d035d-3f31-4b74-b64b-6d5505ed4bf6">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 38,year => 2019},serial_key => <<"3098ad9eabaf20fd">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"d4CfUwvd6g0:APA91bHPkAArHm1p5IHU2zJ3Ea0Vc1fYxhmRp8QAZFRhUBahxqMda2dHGpSXo3wdtc59kauYs8lZWG4ly9nIxr-Re2Xaz1OguNsbUFiKu_yxzLVhgdXm38g18Us1Rv495cY3UHoFK3mp">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 16,month => 11,second => 42,year => 2019}}],id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 15,hour => 12,microsecond => {0,0},minute => 39,month => 11,second => 36,year => 2019},password => <<"$2b$12$XlddKF/xtUSibCfUPGIFder8BVD04Qh9qhAIdee/iSdJE48pNnIKe">>,phone_number => <<"89991945767">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<"Azat verni 2 rubl">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 13,year => 2019}}],#{<<"candidate">> => <<"candidate:842163049 1 udp 1677729535 85.26.233.154 17543 typ srflx raddr 10.224.117.49 rport 42318">>,<<"sdpMLineIndex">> => nil,<<"sdpMid">> => nil}],[{file,"lib/signalling/notifier.ex"},{line,36}]},{'Elixir.Signalling',call_sdp,3,[{file,"lib/signalling.ex"},{line,29}]},{'Elixir.SignallingWeb.IntercomController',sdp_intercom,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,69}]},{'Elixir.SignallingWeb.IntercomController',action,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.IntercomController',phoenix_controller_pipeline,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint',instrument,4,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',1,[{file,"lib/phoenix/router.ex"},{line,275}]},{'Elixir.SignallingWeb.Endpoint',plug_builder_call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.SignallingWeb.Endpoint',call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,33}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.SignallingWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 236,cert => undefined,has_body => true,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip, deflate">>,<<"connection">> => <<"upgrade">>,<<"content-length">> => <<"236">>,<<"content-type">> => <<"application/json">>,<<"host">> => <<"signaling-api.domoface.ru">>,<<"user-agent">> => <<"Python/3.7 aiohttp/3.6.2">>,<<"x-forwarded-for">> => <<"87.76.0.8">>,<<"x-forwarded-host">> => <<"signaling-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"87.76.0.8">>},host => <<"signaling-api.domoface.ru">>,host_info => undefined,method => <<"POST">>,path => <<"/signaling/intercom/sdp_intercom">>,path_info => undefined,peer => {{127,0,0,1},43480},pid => <0.1426.0>,port => 80,qs => <<>>,ref => 'Elixir.SignallingWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},8002},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"signaling-api.domoface.ru">>,method => <<"POST">>,owner => <0.1427.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"signaling">>,<<"intercom">>,<<"sdp_intercom">>],path_params => #{},port => 80,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip, deflate">>},{<<"connection">>,<<"upgrade">>},{<<"content-length">>,<<"236">>},{<<"content-type">>,<<"application/json">>},{<<"host">>,<<"signaling-api.domoface.ru">>},{<<"user-agent">>,<<"Python/3.7 aiohttp/3.6.2">>},{<<"x-forwarded-for">>,<<"87.76.0.8">>},{<<"x-forwarded-host">>,<<"signaling-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"87.76.0.8">>}],request_path => <<"/signaling/intercom/sdp_intercom">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}
    ancestors: [<0.1426.0>,<0.1211.0>,<0.1210.0>,'Elixir.SignallingWeb.Endpoint','Elixir.Signalling.Supervisor',<0.1195.0>]
    message_queue_len: 0
    messages: []
    links: [<0.1426.0>]
    dictionary: [{logger_metadata,{true,[{request_id,<<"Fdhl7sWyTiAPTMQAAATB">>}]}}]
    trap_exit: false
    status: running
    heap_size: 2586
    stack_size: 27
    reductions: 174792
  neighbours:
2019-11-18 23:35:45 =ERROR REPORT====
Ranch listener 'Elixir.SignallingWeb.Endpoint.HTTP', connection process <0.1426.0>, stream 1 had its request process <0.1427.0> exit with reason {{#{'__exception__' => true,'__struct__' => 'Elixir.FunctionClauseError',args => nil,arity => 2,clauses => nil,function => sdp_call,kind => nil,module => 'Elixir.Signalling.Notifier'},[{'Elixir.Signalling.Notifier',sdp_call,[[#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9a9b7935-5d31-431c-b354-88b1c6f3542c">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019},serial_key => <<"3157588642d753b0">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,token => <<"e4zyYuvG_oY:APA91bHL9P7qsf_DQIQjfImwJaxKnmjqmm3XTQwCL-1vxojQoNwpVL-oIA_NWLDT-X1Vupuor7a4cCqqF3FfA3faL9A0POGD_QWmXSO3ghgT2Qz5UddYwApYFAlfEFAcdGDSr5CHsKsf">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019}}],id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 8,month => 11,second => 53,year => 2019},password => <<"$2b$12$oOX2mvAXzIhT50XnmsaPpeTRno2B4uUAowr2LyuQ3Ed/1o.5.VG1q">>,phone_number => <<"89176200645">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<208,149,208,178,208,179,208,181,208,189,208,184,208,185,32,208,154,208,176,208,187,208,180,208,184,208,189>>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 36,month => 11,second => 50,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9e411232-1c65-4deb-ba6a-d77786e023d7">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 25,month => 11,second => 40,year => 2019},serial_key => <<"2a05092ea1c0c777">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cbrDPJM9piw:APA91bF0jAJd2IYycMQxuXVeUjNy5I3Yy2Le9ZXcjso14ielexAndVUhXIBeSLvDcmKuo_GsANHXTXjiXE061Jrw_4K_HG4HQAlrs2AJRUEJbeIhAEWf7NW0vuk3EHAAr7dLVXOPexHi">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 9,microsecond => {0,0},minute => 36,month => 11,second => 12,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9679e299-55b8-4498-943b-160c7c877da0">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 16,microsecond => {0,0},minute => 23,month => 11,second => 29,year => 2019},serial_key => <<"9e7225961a706a65">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cOr_nTgNJBM:APA91bELiM_yN8yM0TpQmQfn2BNlmurhJlT3UjhZtaMy3oV1RvEfSEtdIaVgblUBw8-vT7fV6bVlPuDuUWwPvPEhzg-vWnVZqt6rX_h4EVGMvwWoea7Ra66pFEcr77eF9ySJuSBCj3v1">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 11,month => 11,second => 57,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"178d035d-3f31-4b74-b64b-6d5505ed4bf6">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 38,year => 2019},serial_key => <<"3098ad9eabaf20fd">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"d4CfUwvd6g0:APA91bHPkAArHm1p5IHU2zJ3Ea0Vc1fYxhmRp8QAZFRhUBahxqMda2dHGpSXo3wdtc59kauYs8lZWG4ly9nIxr-Re2Xaz1OguNsbUFiKu_yxzLVhgdXm38g18Us1Rv495cY3UHoFK3mp">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 16,month => 11,second => 42,year => 2019}}],id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 15,hour => 12,microsecond => {0,0},minute => 39,month => 11,second => 36,year => 2019},password => <<"$2b$12$XlddKF/xtUSibCfUPGIFder8BVD04Qh9qhAIdee/iSdJE48pNnIKe">>,phone_number => <<"89991945767">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<"Azat verni 2 rubl">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 13,year => 2019}}],#{<<"candidate">> => <<"candidate:842163049 1 udp 1677729535 85.26.233.154 17543 typ srflx raddr 10.224.117.49 rport 42318">>,<<"sdpMLineIndex">> => nil,<<"sdpMid">> => nil}],[{file,"lib/signalling/notifier.ex"},{line,36}]},{'Elixir.Signalling',call_sdp,3,[{file,"lib/signalling.ex"},{line,29}]},{'Elixir.SignallingWeb.IntercomController',sdp_intercom,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,69}]},{'Elixir.SignallingWeb.IntercomController',action,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.IntercomController',phoenix_controller_pipeline,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint',instrument,4,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',1,[{file,"lib/phoenix/router.ex"},{line,275}]},{'Elixir.SignallingWeb.Endpoint',plug_builder_call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.SignallingWeb.Endpoint',call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,33}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.SignallingWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 236,cert => undefined,has_body => true,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip, deflate">>,<<"connection">> => <<"upgrade">>,<<"content-length">> => <<"236">>,<<"content-type">> => <<"application/json">>,<<"host">> => <<"signaling-api.domoface.ru">>,<<"user-agent">> => <<"Python/3.7 aiohttp/3.6.2">>,<<"x-forwarded-for">> => <<"87.76.0.8">>,<<"x-forwarded-host">> => <<"signaling-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"87.76.0.8">>},host => <<"signaling-api.domoface.ru">>,host_info => undefined,method => <<"POST">>,path => <<"/signaling/intercom/sdp_intercom">>,path_info => undefined,peer => {{127,0,0,1},43480},pid => <0.1426.0>,port => 80,qs => <<>>,ref => 'Elixir.SignallingWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},8002},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"signaling-api.domoface.ru">>,method => <<"POST">>,owner => <0.1427.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"signaling">>,<<"intercom">>,<<"sdp_intercom">>],path_params => #{},port => 80,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip, deflate">>},{<<"connection">>,<<"upgrade">>},{<<"content-length">>,<<"236">>},{<<"content-type">>,<<"application/json">>},{<<"host">>,<<"signaling-api.domoface.ru">>},{<<"user-agent">>,<<"Python/3.7 aiohttp/3.6.2">>},{<<"x-forwarded-for">>,<<"87.76.0.8">>},{<<"x-forwarded-host">>,<<"signaling-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"87.76.0.8">>}],request_path => <<"/signaling/intercom/sdp_intercom">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}} and stacktrace [{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]
2019-11-18 23:35:46 =CRASH REPORT====
  crasher:
    initial call: cowboy_stream_h:request_process/3
    pid: <0.1431.0>
    registered_name: []
    exception exit: {{{{#{'__exception__' => true,'__struct__' => 'Elixir.FunctionClauseError',args => nil,arity => 2,clauses => nil,function => sdp_call,kind => nil,module => 'Elixir.Signalling.Notifier'},[{'Elixir.Signalling.Notifier',sdp_call,[[#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9a9b7935-5d31-431c-b354-88b1c6f3542c">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019},serial_key => <<"3157588642d753b0">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,token => <<"e4zyYuvG_oY:APA91bHL9P7qsf_DQIQjfImwJaxKnmjqmm3XTQwCL-1vxojQoNwpVL-oIA_NWLDT-X1Vupuor7a4cCqqF3FfA3faL9A0POGD_QWmXSO3ghgT2Qz5UddYwApYFAlfEFAcdGDSr5CHsKsf">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019}}],id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 8,month => 11,second => 53,year => 2019},password => <<"$2b$12$oOX2mvAXzIhT50XnmsaPpeTRno2B4uUAowr2LyuQ3Ed/1o.5.VG1q">>,phone_number => <<"89176200645">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<208,149,208,178,208,179,208,181,208,189,208,184,208,185,32,208,154,208,176,208,187,208,180,208,184,208,189>>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 36,month => 11,second => 50,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9e411232-1c65-4deb-ba6a-d77786e023d7">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 25,month => 11,second => 40,year => 2019},serial_key => <<"2a05092ea1c0c777">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cbrDPJM9piw:APA91bF0jAJd2IYycMQxuXVeUjNy5I3Yy2Le9ZXcjso14ielexAndVUhXIBeSLvDcmKuo_GsANHXTXjiXE061Jrw_4K_HG4HQAlrs2AJRUEJbeIhAEWf7NW0vuk3EHAAr7dLVXOPexHi">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 9,microsecond => {0,0},minute => 36,month => 11,second => 12,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9679e299-55b8-4498-943b-160c7c877da0">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 16,microsecond => {0,0},minute => 23,month => 11,second => 29,year => 2019},serial_key => <<"9e7225961a706a65">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cOr_nTgNJBM:APA91bELiM_yN8yM0TpQmQfn2BNlmurhJlT3UjhZtaMy3oV1RvEfSEtdIaVgblUBw8-vT7fV6bVlPuDuUWwPvPEhzg-vWnVZqt6rX_h4EVGMvwWoea7Ra66pFEcr77eF9ySJuSBCj3v1">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 11,month => 11,second => 57,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"178d035d-3f31-4b74-b64b-6d5505ed4bf6">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 38,year => 2019},serial_key => <<"3098ad9eabaf20fd">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"d4CfUwvd6g0:APA91bHPkAArHm1p5IHU2zJ3Ea0Vc1fYxhmRp8QAZFRhUBahxqMda2dHGpSXo3wdtc59kauYs8lZWG4ly9nIxr-Re2Xaz1OguNsbUFiKu_yxzLVhgdXm38g18Us1Rv495cY3UHoFK3mp">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 16,month => 11,second => 42,year => 2019}}],id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 15,hour => 12,microsecond => {0,0},minute => 39,month => 11,second => 36,year => 2019},password => <<"$2b$12$XlddKF/xtUSibCfUPGIFder8BVD04Qh9qhAIdee/iSdJE48pNnIKe">>,phone_number => <<"89991945767">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<"Azat verni 2 rubl">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 13,year => 2019}}],#{<<"candidate">> => <<"candidate:2212263285 1 udp 33562367 3.123.78.125 53356 typ relay raddr 85.26.233.154 rport 17543">>,<<"sdpMLineIndex">> => nil,<<"sdpMid">> => nil}],[{file,"lib/signalling/notifier.ex"},{line,36}]},{'Elixir.Signalling',call_sdp,3,[{file,"lib/signalling.ex"},{line,29}]},{'Elixir.SignallingWeb.IntercomController',sdp_intercom,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,69}]},{'Elixir.SignallingWeb.IntercomController',action,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.IntercomController',phoenix_controller_pipeline,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint',instrument,4,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',1,[{file,"lib/phoenix/router.ex"},{line,275}]},{'Elixir.SignallingWeb.Endpoint',plug_builder_call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.SignallingWeb.Endpoint',call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,33}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.SignallingWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 234,cert => undefined,has_body => true,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip, deflate">>,<<"connection">> => <<"upgrade">>,<<"content-length">> => <<"234">>,<<"content-type">> => <<"application/json">>,<<"host">> => <<"signaling-api.domoface.ru">>,<<"user-agent">> => <<"Python/3.7 aiohttp/3.6.2">>,<<"x-forwarded-for">> => <<"87.76.0.8">>,<<"x-forwarded-host">> => <<"signaling-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"87.76.0.8">>},host => <<"signaling-api.domoface.ru">>,host_info => undefined,method => <<"POST">>,path => <<"/signaling/intercom/sdp_intercom">>,path_info => undefined,peer => {{127,0,0,1},43482},pid => <0.1430.0>,port => 80,qs => <<>>,ref => 'Elixir.SignallingWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},8002},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"signaling-api.domoface.ru">>,method => <<"POST">>,owner => <0.1431.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"signaling">>,<<"intercom">>,<<"sdp_intercom">>],path_params => #{},port => 80,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip, deflate">>},{<<"connection">>,<<"upgrade">>},{<<"content-length">>,<<"234">>},{<<"content-type">>,<<"application/json">>},{<<"host">>,<<"signaling-api.domoface.ru">>},{<<"user-agent">>,<<"Python/3.7 aiohttp/3.6.2">>},{<<"x-forwarded-for">>,<<"87.76.0.8">>},{<<"x-forwarded-host">>,<<"signaling-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"87.76.0.8">>}],request_path => <<"/signaling/intercom/sdp_intercom">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}
    ancestors: [<0.1430.0>,<0.1211.0>,<0.1210.0>,'Elixir.SignallingWeb.Endpoint','Elixir.Signalling.Supervisor',<0.1195.0>]
    message_queue_len: 0
    messages: []
    links: [<0.1430.0>]
    dictionary: [{logger_metadata,{true,[{request_id,<<"Fdhl7uhE5M-5zl0AAA7C">>}]}}]
    trap_exit: false
    status: running
    heap_size: 6772
    stack_size: 27
    reductions: 174607
  neighbours:
2019-11-18 23:35:46 =ERROR REPORT====
Ranch listener 'Elixir.SignallingWeb.Endpoint.HTTP', connection process <0.1430.0>, stream 1 had its request process <0.1431.0> exit with reason {{#{'__exception__' => true,'__struct__' => 'Elixir.FunctionClauseError',args => nil,arity => 2,clauses => nil,function => sdp_call,kind => nil,module => 'Elixir.Signalling.Notifier'},[{'Elixir.Signalling.Notifier',sdp_call,[[#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9a9b7935-5d31-431c-b354-88b1c6f3542c">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019},serial_key => <<"3157588642d753b0">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,token => <<"e4zyYuvG_oY:APA91bHL9P7qsf_DQIQjfImwJaxKnmjqmm3XTQwCL-1vxojQoNwpVL-oIA_NWLDT-X1Vupuor7a4cCqqF3FfA3faL9A0POGD_QWmXSO3ghgT2Qz5UddYwApYFAlfEFAcdGDSr5CHsKsf">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019}}],id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 8,month => 11,second => 53,year => 2019},password => <<"$2b$12$oOX2mvAXzIhT50XnmsaPpeTRno2B4uUAowr2LyuQ3Ed/1o.5.VG1q">>,phone_number => <<"89176200645">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<208,149,208,178,208,179,208,181,208,189,208,184,208,185,32,208,154,208,176,208,187,208,180,208,184,208,189>>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 36,month => 11,second => 50,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9e411232-1c65-4deb-ba6a-d77786e023d7">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 25,month => 11,second => 40,year => 2019},serial_key => <<"2a05092ea1c0c777">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cbrDPJM9piw:APA91bF0jAJd2IYycMQxuXVeUjNy5I3Yy2Le9ZXcjso14ielexAndVUhXIBeSLvDcmKuo_GsANHXTXjiXE061Jrw_4K_HG4HQAlrs2AJRUEJbeIhAEWf7NW0vuk3EHAAr7dLVXOPexHi">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 9,microsecond => {0,0},minute => 36,month => 11,second => 12,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9679e299-55b8-4498-943b-160c7c877da0">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 16,microsecond => {0,0},minute => 23,month => 11,second => 29,year => 2019},serial_key => <<"9e7225961a706a65">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cOr_nTgNJBM:APA91bELiM_yN8yM0TpQmQfn2BNlmurhJlT3UjhZtaMy3oV1RvEfSEtdIaVgblUBw8-vT7fV6bVlPuDuUWwPvPEhzg-vWnVZqt6rX_h4EVGMvwWoea7Ra66pFEcr77eF9ySJuSBCj3v1">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 11,month => 11,second => 57,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"178d035d-3f31-4b74-b64b-6d5505ed4bf6">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 38,year => 2019},serial_key => <<"3098ad9eabaf20fd">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"d4CfUwvd6g0:APA91bHPkAArHm1p5IHU2zJ3Ea0Vc1fYxhmRp8QAZFRhUBahxqMda2dHGpSXo3wdtc59kauYs8lZWG4ly9nIxr-Re2Xaz1OguNsbUFiKu_yxzLVhgdXm38g18Us1Rv495cY3UHoFK3mp">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 16,month => 11,second => 42,year => 2019}}],id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 15,hour => 12,microsecond => {0,0},minute => 39,month => 11,second => 36,year => 2019},password => <<"$2b$12$XlddKF/xtUSibCfUPGIFder8BVD04Qh9qhAIdee/iSdJE48pNnIKe">>,phone_number => <<"89991945767">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<"Azat verni 2 rubl">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 13,year => 2019}}],#{<<"candidate">> => <<"candidate:2212263285 1 udp 33562367 3.123.78.125 53356 typ relay raddr 85.26.233.154 rport 17543">>,<<"sdpMLineIndex">> => nil,<<"sdpMid">> => nil}],[{file,"lib/signalling/notifier.ex"},{line,36}]},{'Elixir.Signalling',call_sdp,3,[{file,"lib/signalling.ex"},{line,29}]},{'Elixir.SignallingWeb.IntercomController',sdp_intercom,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,69}]},{'Elixir.SignallingWeb.IntercomController',action,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.IntercomController',phoenix_controller_pipeline,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint',instrument,4,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',1,[{file,"lib/phoenix/router.ex"},{line,275}]},{'Elixir.SignallingWeb.Endpoint',plug_builder_call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.SignallingWeb.Endpoint',call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,33}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.SignallingWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 234,cert => undefined,has_body => true,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip, deflate">>,<<"connection">> => <<"upgrade">>,<<"content-length">> => <<"234">>,<<"content-type">> => <<"application/json">>,<<"host">> => <<"signaling-api.domoface.ru">>,<<"user-agent">> => <<"Python/3.7 aiohttp/3.6.2">>,<<"x-forwarded-for">> => <<"87.76.0.8">>,<<"x-forwarded-host">> => <<"signaling-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"87.76.0.8">>},host => <<"signaling-api.domoface.ru">>,host_info => undefined,method => <<"POST">>,path => <<"/signaling/intercom/sdp_intercom">>,path_info => undefined,peer => {{127,0,0,1},43482},pid => <0.1430.0>,port => 80,qs => <<>>,ref => 'Elixir.SignallingWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},8002},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"signaling-api.domoface.ru">>,method => <<"POST">>,owner => <0.1431.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"signaling">>,<<"intercom">>,<<"sdp_intercom">>],path_params => #{},port => 80,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip, deflate">>},{<<"connection">>,<<"upgrade">>},{<<"content-length">>,<<"234">>},{<<"content-type">>,<<"application/json">>},{<<"host">>,<<"signaling-api.domoface.ru">>},{<<"user-agent">>,<<"Python/3.7 aiohttp/3.6.2">>},{<<"x-forwarded-for">>,<<"87.76.0.8">>},{<<"x-forwarded-host">>,<<"signaling-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"87.76.0.8">>}],request_path => <<"/signaling/intercom/sdp_intercom">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}} and stacktrace [{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]
2019-11-18 23:40:43 =ERROR REPORT====
Failed to start Ranch listener 'Elixir.DomoapiUserWeb.Endpoint.HTTP' in ranch_tcp:listen([{cacerts,'...'},{key,'...'},{cert,'...'},{port,9080}]) for reason eaddrinuse (address already in use)
2019-11-18 23:40:43 =SUPERVISOR REPORT====
     Supervisor: {<0.518.0>,ranch_listener_sup}
     Context:    start_error
     Reason:     {listen_error,'Elixir.DomoapiUserWeb.Endpoint.HTTP',eaddrinuse}
     Offender:   [{pid,undefined},{id,ranch_acceptors_sup},{mfargs,{ranch_acceptors_sup,start_link,['Elixir.DomoapiUserWeb.Endpoint.HTTP',ranch_tcp]}},{restart_type,permanent},{shutdown,infinity},{child_type,supervisor}]

2019-11-18 23:40:43 =CRASH REPORT====
  crasher:
    initial call: supervisor:ranch_acceptors_sup/1
    pid: <0.520.0>
    registered_name: []
    exception exit: {{listen_error,'Elixir.DomoapiUserWeb.Endpoint.HTTP',eaddrinuse},[{ranch_acceptors_sup,listen_error,5,[{file,"/home/ubuntu/domoapi/domoapi/deps/ranch/src/ranch_acceptors_sup.erl"},{line,66}]},{supervisor,init,1,[{file,"supervisor.erl"},{line,295}]},{gen_server,init_it,2,[{file,"gen_server.erl"},{line,374}]},{gen_server,init_it,6,[{file,"gen_server.erl"},{line,342}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}
    ancestors: [<0.518.0>,'Elixir.DomoapiUserWeb.Endpoint','Elixir.DomoapiUser.Supervisor',<0.497.0>]
    message_queue_len: 0
    messages: []
    links: [<0.518.0>]
    dictionary: [{logger,error_logger}]
    trap_exit: true
    status: running
    heap_size: 1598
    stack_size: 27
    reductions: 4563
  neighbours:
2019-11-18 23:40:43 =SUPERVISOR REPORT====
     Supervisor: {local,'Elixir.DomoapiUserWeb.Endpoint'}
     Context:    start_error
     Reason:     {shutdown,{failed_to_start_child,ranch_acceptors_sup,{listen_error,'Elixir.DomoapiUserWeb.Endpoint.HTTP',eaddrinuse}}}
     Offender:   [{pid,undefined},{id,{ranch_listener_sup,'Elixir.DomoapiUserWeb.Endpoint.HTTP'}},{mfargs,{'Elixir.Phoenix.Endpoint.Cowboy2Adapter',start_link,[http,'Elixir.DomoapiUserWeb.Endpoint',{ranch_listener_sup,start_link,['Elixir.DomoapiUserWeb.Endpoint.HTTP',ranch_tcp,#{max_connections => 16384,num_acceptors => 100,socket_opts => [{port,9080}]},cowboy_clear,#{env => #{dispatch => [{'_',[],[{'_',[],'Elixir.Phoenix.Endpoint.Cowboy2Handler',{'Elixir.DomoapiUserWeb.Endpoint',[]}}]}]},stream_handlers => ['Elixir.Plug.Cowboy.Stream']}]}]}},{restart_type,permanent},{shutdown,infinity},{child_type,supervisor}]

2019-11-18 23:40:43 =SUPERVISOR REPORT====
     Supervisor: {local,'Elixir.DomoapiUser.Supervisor'}
     Context:    start_error
     Reason:     {shutdown,{failed_to_start_child,{ranch_listener_sup,'Elixir.DomoapiUserWeb.Endpoint.HTTP'},{shutdown,{failed_to_start_child,ranch_acceptors_sup,{listen_error,'Elixir.DomoapiUserWeb.Endpoint.HTTP',eaddrinuse}}}}}
     Offender:   [{pid,undefined},{id,'Elixir.DomoapiUserWeb.Endpoint'},{mfargs,{'Elixir.DomoapiUserWeb.Endpoint',start_link,[[]]}},{restart_type,permanent},{shutdown,infinity},{child_type,supervisor}]

2019-11-18 23:40:43 =CRASH REPORT====
  crasher:
    initial call: application_master:init/4
    pid: <0.496.0>
    registered_name: []
    exception exit: {{{shutdown,{failed_to_start_child,'Elixir.DomoapiUserWeb.Endpoint',{shutdown,{failed_to_start_child,{ranch_listener_sup,'Elixir.DomoapiUserWeb.Endpoint.HTTP'},{shutdown,{failed_to_start_child,ranch_acceptors_sup,{listen_error,'Elixir.DomoapiUserWeb.Endpoint.HTTP',eaddrinuse}}}}}}},{'Elixir.DomoapiUser.Application',start,[normal,[]]}},[{application_master,init,4,[{file,"application_master.erl"},{line,138}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}
    ancestors: [<0.495.0>]
    message_queue_len: 1
    messages: [{'EXIT',<0.497.0>,normal}]
    links: [<0.495.0>,<0.43.0>]
    dictionary: []
    trap_exit: true
    status: running
    heap_size: 610
    stack_size: 27
    reductions: 219
  neighbours:
2019-11-18 23:47:06 =CRASH REPORT====
  crasher:
    initial call: cowboy_stream_h:request_process/3
    pid: <0.1567.0>
    registered_name: []
    exception exit: {{{{#{'__exception__' => true,'__struct__' => 'Elixir.FunctionClauseError',args => nil,arity => 2,clauses => nil,function => sdp_call,kind => nil,module => 'Elixir.Signalling.Notifier'},[{'Elixir.Signalling.Notifier',sdp_call,[[#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9a9b7935-5d31-431c-b354-88b1c6f3542c">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019},serial_key => <<"3157588642d753b0">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,token => <<"e4zyYuvG_oY:APA91bHL9P7qsf_DQIQjfImwJaxKnmjqmm3XTQwCL-1vxojQoNwpVL-oIA_NWLDT-X1Vupuor7a4cCqqF3FfA3faL9A0POGD_QWmXSO3ghgT2Qz5UddYwApYFAlfEFAcdGDSr5CHsKsf">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019}}],id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 8,month => 11,second => 53,year => 2019},password => <<"$2b$12$oOX2mvAXzIhT50XnmsaPpeTRno2B4uUAowr2LyuQ3Ed/1o.5.VG1q">>,phone_number => <<"89176200645">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<208,149,208,178,208,179,208,181,208,189,208,184,208,185,32,208,154,208,176,208,187,208,180,208,184,208,189>>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 36,month => 11,second => 50,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9e411232-1c65-4deb-ba6a-d77786e023d7">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 25,month => 11,second => 40,year => 2019},serial_key => <<"2a05092ea1c0c777">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cbrDPJM9piw:APA91bF0jAJd2IYycMQxuXVeUjNy5I3Yy2Le9ZXcjso14ielexAndVUhXIBeSLvDcmKuo_GsANHXTXjiXE061Jrw_4K_HG4HQAlrs2AJRUEJbeIhAEWf7NW0vuk3EHAAr7dLVXOPexHi">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 9,microsecond => {0,0},minute => 36,month => 11,second => 12,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9679e299-55b8-4498-943b-160c7c877da0">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 16,microsecond => {0,0},minute => 23,month => 11,second => 29,year => 2019},serial_key => <<"9e7225961a706a65">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cOr_nTgNJBM:APA91bELiM_yN8yM0TpQmQfn2BNlmurhJlT3UjhZtaMy3oV1RvEfSEtdIaVgblUBw8-vT7fV6bVlPuDuUWwPvPEhzg-vWnVZqt6rX_h4EVGMvwWoea7Ra66pFEcr77eF9ySJuSBCj3v1">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 11,month => 11,second => 57,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"178d035d-3f31-4b74-b64b-6d5505ed4bf6">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 38,year => 2019},serial_key => <<"3098ad9eabaf20fd">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"d4CfUwvd6g0:APA91bHPkAArHm1p5IHU2zJ3Ea0Vc1fYxhmRp8QAZFRhUBahxqMda2dHGpSXo3wdtc59kauYs8lZWG4ly9nIxr-Re2Xaz1OguNsbUFiKu_yxzLVhgdXm38g18Us1Rv495cY3UHoFK3mp">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 16,month => 11,second => 42,year => 2019}}],id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 15,hour => 12,microsecond => {0,0},minute => 39,month => 11,second => 36,year => 2019},password => <<"$2b$12$XlddKF/xtUSibCfUPGIFder8BVD04Qh9qhAIdee/iSdJE48pNnIKe">>,phone_number => <<"89991945767">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<"Azat verni 2 rubl">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 13,year => 2019}}],<<"{\"candidate\": \"candidate:1498970736 1 udp 2113937151 10.224.117.49 46135 typ host\", \"sdpMid\": null, \"sdpMLineIndex\": null}">>],[{file,"lib/signalling/notifier.ex"},{line,36}]},{'Elixir.Signalling',call_sdp,3,[{file,"lib/signalling.ex"},{line,29}]},{'Elixir.SignallingWeb.IntercomController',sdp_intercom,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,69}]},{'Elixir.SignallingWeb.IntercomController',action,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.IntercomController',phoenix_controller_pipeline,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint',instrument,4,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',1,[{file,"lib/phoenix/router.ex"},{line,275}]},{'Elixir.SignallingWeb.Endpoint',plug_builder_call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.SignallingWeb.Endpoint',call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,33}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.SignallingWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 214,cert => undefined,has_body => true,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip, deflate">>,<<"connection">> => <<"upgrade">>,<<"content-length">> => <<"214">>,<<"content-type">> => <<"application/json">>,<<"host">> => <<"signaling-api.domoface.ru">>,<<"user-agent">> => <<"Python/3.7 aiohttp/3.6.2">>,<<"x-forwarded-for">> => <<"87.76.0.8">>,<<"x-forwarded-host">> => <<"signaling-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"87.76.0.8">>},host => <<"signaling-api.domoface.ru">>,host_info => undefined,method => <<"POST">>,path => <<"/signaling/intercom/sdp_intercom">>,path_info => undefined,peer => {{127,0,0,1},43562},pid => <0.1566.0>,port => 80,qs => <<>>,ref => 'Elixir.SignallingWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},8002},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"signaling-api.domoface.ru">>,method => <<"POST">>,owner => <0.1567.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"signaling">>,<<"intercom">>,<<"sdp_intercom">>],path_params => #{},port => 80,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip, deflate">>},{<<"connection">>,<<"upgrade">>},{<<"content-length">>,<<"214">>},{<<"content-type">>,<<"application/json">>},{<<"host">>,<<"signaling-api.domoface.ru">>},{<<"user-agent">>,<<"Python/3.7 aiohttp/3.6.2">>},{<<"x-forwarded-for">>,<<"87.76.0.8">>},{<<"x-forwarded-host">>,<<"signaling-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"87.76.0.8">>}],request_path => <<"/signaling/intercom/sdp_intercom">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}
    ancestors: [<0.1566.0>,<0.1211.0>,<0.1210.0>,'Elixir.SignallingWeb.Endpoint','Elixir.Signalling.Supervisor',<0.1195.0>]
    message_queue_len: 0
    messages: []
    links: [<0.1566.0>]
    dictionary: [{logger_metadata,{true,[{request_id,<<"FdhmjS1aGuY1gZoAAAlB">>}]}}]
    trap_exit: false
    status: running
    heap_size: 2586
    stack_size: 27
    reductions: 168963
  neighbours:
2019-11-18 23:47:06 =ERROR REPORT====
Ranch listener 'Elixir.SignallingWeb.Endpoint.HTTP', connection process <0.1566.0>, stream 1 had its request process <0.1567.0> exit with reason {{#{'__exception__' => true,'__struct__' => 'Elixir.FunctionClauseError',args => nil,arity => 2,clauses => nil,function => sdp_call,kind => nil,module => 'Elixir.Signalling.Notifier'},[{'Elixir.Signalling.Notifier',sdp_call,[[#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9a9b7935-5d31-431c-b354-88b1c6f3542c">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019},serial_key => <<"3157588642d753b0">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,token => <<"e4zyYuvG_oY:APA91bHL9P7qsf_DQIQjfImwJaxKnmjqmm3XTQwCL-1vxojQoNwpVL-oIA_NWLDT-X1Vupuor7a4cCqqF3FfA3faL9A0POGD_QWmXSO3ghgT2Qz5UddYwApYFAlfEFAcdGDSr5CHsKsf">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019}}],id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 8,month => 11,second => 53,year => 2019},password => <<"$2b$12$oOX2mvAXzIhT50XnmsaPpeTRno2B4uUAowr2LyuQ3Ed/1o.5.VG1q">>,phone_number => <<"89176200645">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<208,149,208,178,208,179,208,181,208,189,208,184,208,185,32,208,154,208,176,208,187,208,180,208,184,208,189>>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 36,month => 11,second => 50,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9e411232-1c65-4deb-ba6a-d77786e023d7">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 25,month => 11,second => 40,year => 2019},serial_key => <<"2a05092ea1c0c777">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cbrDPJM9piw:APA91bF0jAJd2IYycMQxuXVeUjNy5I3Yy2Le9ZXcjso14ielexAndVUhXIBeSLvDcmKuo_GsANHXTXjiXE061Jrw_4K_HG4HQAlrs2AJRUEJbeIhAEWf7NW0vuk3EHAAr7dLVXOPexHi">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 9,microsecond => {0,0},minute => 36,month => 11,second => 12,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9679e299-55b8-4498-943b-160c7c877da0">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 16,microsecond => {0,0},minute => 23,month => 11,second => 29,year => 2019},serial_key => <<"9e7225961a706a65">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cOr_nTgNJBM:APA91bELiM_yN8yM0TpQmQfn2BNlmurhJlT3UjhZtaMy3oV1RvEfSEtdIaVgblUBw8-vT7fV6bVlPuDuUWwPvPEhzg-vWnVZqt6rX_h4EVGMvwWoea7Ra66pFEcr77eF9ySJuSBCj3v1">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 11,month => 11,second => 57,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"178d035d-3f31-4b74-b64b-6d5505ed4bf6">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 38,year => 2019},serial_key => <<"3098ad9eabaf20fd">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"d4CfUwvd6g0:APA91bHPkAArHm1p5IHU2zJ3Ea0Vc1fYxhmRp8QAZFRhUBahxqMda2dHGpSXo3wdtc59kauYs8lZWG4ly9nIxr-Re2Xaz1OguNsbUFiKu_yxzLVhgdXm38g18Us1Rv495cY3UHoFK3mp">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 16,month => 11,second => 42,year => 2019}}],id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 15,hour => 12,microsecond => {0,0},minute => 39,month => 11,second => 36,year => 2019},password => <<"$2b$12$XlddKF/xtUSibCfUPGIFder8BVD04Qh9qhAIdee/iSdJE48pNnIKe">>,phone_number => <<"89991945767">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<"Azat verni 2 rubl">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 13,year => 2019}}],<<"{\"candidate\": \"candidate:1498970736 1 udp 2113937151 10.224.117.49 46135 typ host\", \"sdpMid\": null, \"sdpMLineIndex\": null}">>],[{file,"lib/signalling/notifier.ex"},{line,36}]},{'Elixir.Signalling',call_sdp,3,[{file,"lib/signalling.ex"},{line,29}]},{'Elixir.SignallingWeb.IntercomController',sdp_intercom,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,69}]},{'Elixir.SignallingWeb.IntercomController',action,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.IntercomController',phoenix_controller_pipeline,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint',instrument,4,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',1,[{file,"lib/phoenix/router.ex"},{line,275}]},{'Elixir.SignallingWeb.Endpoint',plug_builder_call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.SignallingWeb.Endpoint',call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,33}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.SignallingWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 214,cert => undefined,has_body => true,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip, deflate">>,<<"connection">> => <<"upgrade">>,<<"content-length">> => <<"214">>,<<"content-type">> => <<"application/json">>,<<"host">> => <<"signaling-api.domoface.ru">>,<<"user-agent">> => <<"Python/3.7 aiohttp/3.6.2">>,<<"x-forwarded-for">> => <<"87.76.0.8">>,<<"x-forwarded-host">> => <<"signaling-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"87.76.0.8">>},host => <<"signaling-api.domoface.ru">>,host_info => undefined,method => <<"POST">>,path => <<"/signaling/intercom/sdp_intercom">>,path_info => undefined,peer => {{127,0,0,1},43562},pid => <0.1566.0>,port => 80,qs => <<>>,ref => 'Elixir.SignallingWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},8002},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"signaling-api.domoface.ru">>,method => <<"POST">>,owner => <0.1567.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"signaling">>,<<"intercom">>,<<"sdp_intercom">>],path_params => #{},port => 80,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip, deflate">>},{<<"connection">>,<<"upgrade">>},{<<"content-length">>,<<"214">>},{<<"content-type">>,<<"application/json">>},{<<"host">>,<<"signaling-api.domoface.ru">>},{<<"user-agent">>,<<"Python/3.7 aiohttp/3.6.2">>},{<<"x-forwarded-for">>,<<"87.76.0.8">>},{<<"x-forwarded-host">>,<<"signaling-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"87.76.0.8">>}],request_path => <<"/signaling/intercom/sdp_intercom">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}} and stacktrace [{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]
2019-11-18 23:47:07 =CRASH REPORT====
  crasher:
    initial call: cowboy_stream_h:request_process/3
    pid: <0.1571.0>
    registered_name: []
    exception exit: {{{{#{'__exception__' => true,'__struct__' => 'Elixir.FunctionClauseError',args => nil,arity => 2,clauses => nil,function => sdp_call,kind => nil,module => 'Elixir.Signalling.Notifier'},[{'Elixir.Signalling.Notifier',sdp_call,[[#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9a9b7935-5d31-431c-b354-88b1c6f3542c">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019},serial_key => <<"3157588642d753b0">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,token => <<"e4zyYuvG_oY:APA91bHL9P7qsf_DQIQjfImwJaxKnmjqmm3XTQwCL-1vxojQoNwpVL-oIA_NWLDT-X1Vupuor7a4cCqqF3FfA3faL9A0POGD_QWmXSO3ghgT2Qz5UddYwApYFAlfEFAcdGDSr5CHsKsf">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019}}],id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 8,month => 11,second => 53,year => 2019},password => <<"$2b$12$oOX2mvAXzIhT50XnmsaPpeTRno2B4uUAowr2LyuQ3Ed/1o.5.VG1q">>,phone_number => <<"89176200645">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<208,149,208,178,208,179,208,181,208,189,208,184,208,185,32,208,154,208,176,208,187,208,180,208,184,208,189>>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 36,month => 11,second => 50,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9e411232-1c65-4deb-ba6a-d77786e023d7">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 25,month => 11,second => 40,year => 2019},serial_key => <<"2a05092ea1c0c777">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cbrDPJM9piw:APA91bF0jAJd2IYycMQxuXVeUjNy5I3Yy2Le9ZXcjso14ielexAndVUhXIBeSLvDcmKuo_GsANHXTXjiXE061Jrw_4K_HG4HQAlrs2AJRUEJbeIhAEWf7NW0vuk3EHAAr7dLVXOPexHi">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 9,microsecond => {0,0},minute => 36,month => 11,second => 12,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9679e299-55b8-4498-943b-160c7c877da0">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 16,microsecond => {0,0},minute => 23,month => 11,second => 29,year => 2019},serial_key => <<"9e7225961a706a65">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cOr_nTgNJBM:APA91bELiM_yN8yM0TpQmQfn2BNlmurhJlT3UjhZtaMy3oV1RvEfSEtdIaVgblUBw8-vT7fV6bVlPuDuUWwPvPEhzg-vWnVZqt6rX_h4EVGMvwWoea7Ra66pFEcr77eF9ySJuSBCj3v1">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 11,month => 11,second => 57,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"178d035d-3f31-4b74-b64b-6d5505ed4bf6">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 38,year => 2019},serial_key => <<"3098ad9eabaf20fd">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"d4CfUwvd6g0:APA91bHPkAArHm1p5IHU2zJ3Ea0Vc1fYxhmRp8QAZFRhUBahxqMda2dHGpSXo3wdtc59kauYs8lZWG4ly9nIxr-Re2Xaz1OguNsbUFiKu_yxzLVhgdXm38g18Us1Rv495cY3UHoFK3mp">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 16,month => 11,second => 42,year => 2019}}],id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 15,hour => 12,microsecond => {0,0},minute => 39,month => 11,second => 36,year => 2019},password => <<"$2b$12$XlddKF/xtUSibCfUPGIFder8BVD04Qh9qhAIdee/iSdJE48pNnIKe">>,phone_number => <<"89991945767">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<"Azat verni 2 rubl">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 13,year => 2019}}],<<"{\"candidate\": \"candidate:842163049 1 udp 1677729535 85.26.233.154 58882 typ srflx raddr 10.224.117.49 rport 46135\", \"sdpMid\": null, \"sdpMLineIndex\": null}">>],[{file,"lib/signalling/notifier.ex"},{line,36}]},{'Elixir.Signalling',call_sdp,3,[{file,"lib/signalling.ex"},{line,29}]},{'Elixir.SignallingWeb.IntercomController',sdp_intercom,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,69}]},{'Elixir.SignallingWeb.IntercomController',action,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.IntercomController',phoenix_controller_pipeline,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint',instrument,4,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',1,[{file,"lib/phoenix/router.ex"},{line,275}]},{'Elixir.SignallingWeb.Endpoint',plug_builder_call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.SignallingWeb.Endpoint',call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,33}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.SignallingWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 246,cert => undefined,has_body => true,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip, deflate">>,<<"connection">> => <<"upgrade">>,<<"content-length">> => <<"246">>,<<"content-type">> => <<"application/json">>,<<"host">> => <<"signaling-api.domoface.ru">>,<<"user-agent">> => <<"Python/3.7 aiohttp/3.6.2">>,<<"x-forwarded-for">> => <<"87.76.0.8">>,<<"x-forwarded-host">> => <<"signaling-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"87.76.0.8">>},host => <<"signaling-api.domoface.ru">>,host_info => undefined,method => <<"POST">>,path => <<"/signaling/intercom/sdp_intercom">>,path_info => undefined,peer => {{127,0,0,1},43564},pid => <0.1570.0>,port => 80,qs => <<>>,ref => 'Elixir.SignallingWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},8002},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"signaling-api.domoface.ru">>,method => <<"POST">>,owner => <0.1571.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"signaling">>,<<"intercom">>,<<"sdp_intercom">>],path_params => #{},port => 80,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip, deflate">>},{<<"connection">>,<<"upgrade">>},{<<"content-length">>,<<"246">>},{<<"content-type">>,<<"application/json">>},{<<"host">>,<<"signaling-api.domoface.ru">>},{<<"user-agent">>,<<"Python/3.7 aiohttp/3.6.2">>},{<<"x-forwarded-for">>,<<"87.76.0.8">>},{<<"x-forwarded-host">>,<<"signaling-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"87.76.0.8">>}],request_path => <<"/signaling/intercom/sdp_intercom">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}
    ancestors: [<0.1570.0>,<0.1211.0>,<0.1210.0>,'Elixir.SignallingWeb.Endpoint','Elixir.Signalling.Supervisor',<0.1195.0>]
    message_queue_len: 0
    messages: []
    links: [<0.1570.0>]
    dictionary: [{logger_metadata,{true,[{request_id,<<"FdhmjWmYA_zOLnwAAAFj">>}]}}]
    trap_exit: false
    status: running
    heap_size: 6772
    stack_size: 27
    reductions: 169389
  neighbours:
2019-11-18 23:47:07 =ERROR REPORT====
Ranch listener 'Elixir.SignallingWeb.Endpoint.HTTP', connection process <0.1570.0>, stream 1 had its request process <0.1571.0> exit with reason {{#{'__exception__' => true,'__struct__' => 'Elixir.FunctionClauseError',args => nil,arity => 2,clauses => nil,function => sdp_call,kind => nil,module => 'Elixir.Signalling.Notifier'},[{'Elixir.Signalling.Notifier',sdp_call,[[#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9a9b7935-5d31-431c-b354-88b1c6f3542c">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019},serial_key => <<"3157588642d753b0">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,token => <<"e4zyYuvG_oY:APA91bHL9P7qsf_DQIQjfImwJaxKnmjqmm3XTQwCL-1vxojQoNwpVL-oIA_NWLDT-X1Vupuor7a4cCqqF3FfA3faL9A0POGD_QWmXSO3ghgT2Qz5UddYwApYFAlfEFAcdGDSr5CHsKsf">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019}}],id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 8,month => 11,second => 53,year => 2019},password => <<"$2b$12$oOX2mvAXzIhT50XnmsaPpeTRno2B4uUAowr2LyuQ3Ed/1o.5.VG1q">>,phone_number => <<"89176200645">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<208,149,208,178,208,179,208,181,208,189,208,184,208,185,32,208,154,208,176,208,187,208,180,208,184,208,189>>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 36,month => 11,second => 50,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9e411232-1c65-4deb-ba6a-d77786e023d7">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 25,month => 11,second => 40,year => 2019},serial_key => <<"2a05092ea1c0c777">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cbrDPJM9piw:APA91bF0jAJd2IYycMQxuXVeUjNy5I3Yy2Le9ZXcjso14ielexAndVUhXIBeSLvDcmKuo_GsANHXTXjiXE061Jrw_4K_HG4HQAlrs2AJRUEJbeIhAEWf7NW0vuk3EHAAr7dLVXOPexHi">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 9,microsecond => {0,0},minute => 36,month => 11,second => 12,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9679e299-55b8-4498-943b-160c7c877da0">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 16,microsecond => {0,0},minute => 23,month => 11,second => 29,year => 2019},serial_key => <<"9e7225961a706a65">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cOr_nTgNJBM:APA91bELiM_yN8yM0TpQmQfn2BNlmurhJlT3UjhZtaMy3oV1RvEfSEtdIaVgblUBw8-vT7fV6bVlPuDuUWwPvPEhzg-vWnVZqt6rX_h4EVGMvwWoea7Ra66pFEcr77eF9ySJuSBCj3v1">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 11,month => 11,second => 57,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"178d035d-3f31-4b74-b64b-6d5505ed4bf6">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 38,year => 2019},serial_key => <<"3098ad9eabaf20fd">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"d4CfUwvd6g0:APA91bHPkAArHm1p5IHU2zJ3Ea0Vc1fYxhmRp8QAZFRhUBahxqMda2dHGpSXo3wdtc59kauYs8lZWG4ly9nIxr-Re2Xaz1OguNsbUFiKu_yxzLVhgdXm38g18Us1Rv495cY3UHoFK3mp">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 16,month => 11,second => 42,year => 2019}}],id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 15,hour => 12,microsecond => {0,0},minute => 39,month => 11,second => 36,year => 2019},password => <<"$2b$12$XlddKF/xtUSibCfUPGIFder8BVD04Qh9qhAIdee/iSdJE48pNnIKe">>,phone_number => <<"89991945767">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<"Azat verni 2 rubl">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 13,year => 2019}}],<<"{\"candidate\": \"candidate:842163049 1 udp 1677729535 85.26.233.154 58882 typ srflx raddr 10.224.117.49 rport 46135\", \"sdpMid\": null, \"sdpMLineIndex\": null}">>],[{file,"lib/signalling/notifier.ex"},{line,36}]},{'Elixir.Signalling',call_sdp,3,[{file,"lib/signalling.ex"},{line,29}]},{'Elixir.SignallingWeb.IntercomController',sdp_intercom,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,69}]},{'Elixir.SignallingWeb.IntercomController',action,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.IntercomController',phoenix_controller_pipeline,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint',instrument,4,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',1,[{file,"lib/phoenix/router.ex"},{line,275}]},{'Elixir.SignallingWeb.Endpoint',plug_builder_call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.SignallingWeb.Endpoint',call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,33}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.SignallingWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 246,cert => undefined,has_body => true,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip, deflate">>,<<"connection">> => <<"upgrade">>,<<"content-length">> => <<"246">>,<<"content-type">> => <<"application/json">>,<<"host">> => <<"signaling-api.domoface.ru">>,<<"user-agent">> => <<"Python/3.7 aiohttp/3.6.2">>,<<"x-forwarded-for">> => <<"87.76.0.8">>,<<"x-forwarded-host">> => <<"signaling-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"87.76.0.8">>},host => <<"signaling-api.domoface.ru">>,host_info => undefined,method => <<"POST">>,path => <<"/signaling/intercom/sdp_intercom">>,path_info => undefined,peer => {{127,0,0,1},43564},pid => <0.1570.0>,port => 80,qs => <<>>,ref => 'Elixir.SignallingWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},8002},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"signaling-api.domoface.ru">>,method => <<"POST">>,owner => <0.1571.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"signaling">>,<<"intercom">>,<<"sdp_intercom">>],path_params => #{},port => 80,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip, deflate">>},{<<"connection">>,<<"upgrade">>},{<<"content-length">>,<<"246">>},{<<"content-type">>,<<"application/json">>},{<<"host">>,<<"signaling-api.domoface.ru">>},{<<"user-agent">>,<<"Python/3.7 aiohttp/3.6.2">>},{<<"x-forwarded-for">>,<<"87.76.0.8">>},{<<"x-forwarded-host">>,<<"signaling-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"87.76.0.8">>}],request_path => <<"/signaling/intercom/sdp_intercom">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}} and stacktrace [{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]
2019-11-18 23:47:07 =CRASH REPORT====
  crasher:
    initial call: cowboy_stream_h:request_process/3
    pid: <0.1575.0>
    registered_name: []
    exception exit: {{{{#{'__exception__' => true,'__struct__' => 'Elixir.FunctionClauseError',args => nil,arity => 2,clauses => nil,function => sdp_call,kind => nil,module => 'Elixir.Signalling.Notifier'},[{'Elixir.Signalling.Notifier',sdp_call,[[#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9a9b7935-5d31-431c-b354-88b1c6f3542c">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019},serial_key => <<"3157588642d753b0">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,token => <<"e4zyYuvG_oY:APA91bHL9P7qsf_DQIQjfImwJaxKnmjqmm3XTQwCL-1vxojQoNwpVL-oIA_NWLDT-X1Vupuor7a4cCqqF3FfA3faL9A0POGD_QWmXSO3ghgT2Qz5UddYwApYFAlfEFAcdGDSr5CHsKsf">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019}}],id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 8,month => 11,second => 53,year => 2019},password => <<"$2b$12$oOX2mvAXzIhT50XnmsaPpeTRno2B4uUAowr2LyuQ3Ed/1o.5.VG1q">>,phone_number => <<"89176200645">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<208,149,208,178,208,179,208,181,208,189,208,184,208,185,32,208,154,208,176,208,187,208,180,208,184,208,189>>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 36,month => 11,second => 50,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9e411232-1c65-4deb-ba6a-d77786e023d7">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 25,month => 11,second => 40,year => 2019},serial_key => <<"2a05092ea1c0c777">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cbrDPJM9piw:APA91bF0jAJd2IYycMQxuXVeUjNy5I3Yy2Le9ZXcjso14ielexAndVUhXIBeSLvDcmKuo_GsANHXTXjiXE061Jrw_4K_HG4HQAlrs2AJRUEJbeIhAEWf7NW0vuk3EHAAr7dLVXOPexHi">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 9,microsecond => {0,0},minute => 36,month => 11,second => 12,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9679e299-55b8-4498-943b-160c7c877da0">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 16,microsecond => {0,0},minute => 23,month => 11,second => 29,year => 2019},serial_key => <<"9e7225961a706a65">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cOr_nTgNJBM:APA91bELiM_yN8yM0TpQmQfn2BNlmurhJlT3UjhZtaMy3oV1RvEfSEtdIaVgblUBw8-vT7fV6bVlPuDuUWwPvPEhzg-vWnVZqt6rX_h4EVGMvwWoea7Ra66pFEcr77eF9ySJuSBCj3v1">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 11,month => 11,second => 57,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"178d035d-3f31-4b74-b64b-6d5505ed4bf6">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 38,year => 2019},serial_key => <<"3098ad9eabaf20fd">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"d4CfUwvd6g0:APA91bHPkAArHm1p5IHU2zJ3Ea0Vc1fYxhmRp8QAZFRhUBahxqMda2dHGpSXo3wdtc59kauYs8lZWG4ly9nIxr-Re2Xaz1OguNsbUFiKu_yxzLVhgdXm38g18Us1Rv495cY3UHoFK3mp">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 16,month => 11,second => 42,year => 2019}}],id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 15,hour => 12,microsecond => {0,0},minute => 39,month => 11,second => 36,year => 2019},password => <<"$2b$12$XlddKF/xtUSibCfUPGIFder8BVD04Qh9qhAIdee/iSdJE48pNnIKe">>,phone_number => <<"89991945767">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<"Azat verni 2 rubl">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 13,year => 2019}}],<<"{\"candidate\": \"candidate:2212263285 1 udp 33562367 3.123.78.125 63033 typ relay raddr 85.26.233.154 rport 58882\", \"sdpMid\": null, \"sdpMLineIndex\": null}">>],[{file,"lib/signalling/notifier.ex"},{line,36}]},{'Elixir.Signalling',call_sdp,3,[{file,"lib/signalling.ex"},{line,29}]},{'Elixir.SignallingWeb.IntercomController',sdp_intercom,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,69}]},{'Elixir.SignallingWeb.IntercomController',action,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.IntercomController',phoenix_controller_pipeline,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint',instrument,4,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',1,[{file,"lib/phoenix/router.ex"},{line,275}]},{'Elixir.SignallingWeb.Endpoint',plug_builder_call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.SignallingWeb.Endpoint',call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,33}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.SignallingWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 244,cert => undefined,has_body => true,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip, deflate">>,<<"connection">> => <<"upgrade">>,<<"content-length">> => <<"244">>,<<"content-type">> => <<"application/json">>,<<"host">> => <<"signaling-api.domoface.ru">>,<<"user-agent">> => <<"Python/3.7 aiohttp/3.6.2">>,<<"x-forwarded-for">> => <<"87.76.0.8">>,<<"x-forwarded-host">> => <<"signaling-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"87.76.0.8">>},host => <<"signaling-api.domoface.ru">>,host_info => undefined,method => <<"POST">>,path => <<"/signaling/intercom/sdp_intercom">>,path_info => undefined,peer => {{127,0,0,1},43566},pid => <0.1574.0>,port => 80,qs => <<>>,ref => 'Elixir.SignallingWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},8002},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"signaling-api.domoface.ru">>,method => <<"POST">>,owner => <0.1575.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"signaling">>,<<"intercom">>,<<"sdp_intercom">>],path_params => #{},port => 80,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip, deflate">>},{<<"connection">>,<<"upgrade">>},{<<"content-length">>,<<"244">>},{<<"content-type">>,<<"application/json">>},{<<"host">>,<<"signaling-api.domoface.ru">>},{<<"user-agent">>,<<"Python/3.7 aiohttp/3.6.2">>},{<<"x-forwarded-for">>,<<"87.76.0.8">>},{<<"x-forwarded-host">>,<<"signaling-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"87.76.0.8">>}],request_path => <<"/signaling/intercom/sdp_intercom">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}
    ancestors: [<0.1574.0>,<0.1211.0>,<0.1210.0>,'Elixir.SignallingWeb.Endpoint','Elixir.Signalling.Supervisor',<0.1195.0>]
    message_queue_len: 0
    messages: []
    links: [<0.1574.0>]
    dictionary: [{logger_metadata,{true,[{request_id,<<"FdhmjYx_23lIpbAAAAGD">>}]}}]
    trap_exit: false
    status: running
    heap_size: 10958
    stack_size: 27
    reductions: 166756
  neighbours:
2019-11-18 23:47:07 =ERROR REPORT====
Ranch listener 'Elixir.SignallingWeb.Endpoint.HTTP', connection process <0.1574.0>, stream 1 had its request process <0.1575.0> exit with reason {{#{'__exception__' => true,'__struct__' => 'Elixir.FunctionClauseError',args => nil,arity => 2,clauses => nil,function => sdp_call,kind => nil,module => 'Elixir.Signalling.Notifier'},[{'Elixir.Signalling.Notifier',sdp_call,[[#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9a9b7935-5d31-431c-b354-88b1c6f3542c">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019},serial_key => <<"3157588642d753b0">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,token => <<"e4zyYuvG_oY:APA91bHL9P7qsf_DQIQjfImwJaxKnmjqmm3XTQwCL-1vxojQoNwpVL-oIA_NWLDT-X1Vupuor7a4cCqqF3FfA3faL9A0POGD_QWmXSO3ghgT2Qz5UddYwApYFAlfEFAcdGDSr5CHsKsf">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019}}],id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 8,month => 11,second => 53,year => 2019},password => <<"$2b$12$oOX2mvAXzIhT50XnmsaPpeTRno2B4uUAowr2LyuQ3Ed/1o.5.VG1q">>,phone_number => <<"89176200645">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<208,149,208,178,208,179,208,181,208,189,208,184,208,185,32,208,154,208,176,208,187,208,180,208,184,208,189>>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 36,month => 11,second => 50,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9e411232-1c65-4deb-ba6a-d77786e023d7">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 25,month => 11,second => 40,year => 2019},serial_key => <<"2a05092ea1c0c777">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cbrDPJM9piw:APA91bF0jAJd2IYycMQxuXVeUjNy5I3Yy2Le9ZXcjso14ielexAndVUhXIBeSLvDcmKuo_GsANHXTXjiXE061Jrw_4K_HG4HQAlrs2AJRUEJbeIhAEWf7NW0vuk3EHAAr7dLVXOPexHi">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 9,microsecond => {0,0},minute => 36,month => 11,second => 12,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9679e299-55b8-4498-943b-160c7c877da0">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 16,microsecond => {0,0},minute => 23,month => 11,second => 29,year => 2019},serial_key => <<"9e7225961a706a65">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cOr_nTgNJBM:APA91bELiM_yN8yM0TpQmQfn2BNlmurhJlT3UjhZtaMy3oV1RvEfSEtdIaVgblUBw8-vT7fV6bVlPuDuUWwPvPEhzg-vWnVZqt6rX_h4EVGMvwWoea7Ra66pFEcr77eF9ySJuSBCj3v1">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 11,month => 11,second => 57,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"178d035d-3f31-4b74-b64b-6d5505ed4bf6">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 38,year => 2019},serial_key => <<"3098ad9eabaf20fd">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"d4CfUwvd6g0:APA91bHPkAArHm1p5IHU2zJ3Ea0Vc1fYxhmRp8QAZFRhUBahxqMda2dHGpSXo3wdtc59kauYs8lZWG4ly9nIxr-Re2Xaz1OguNsbUFiKu_yxzLVhgdXm38g18Us1Rv495cY3UHoFK3mp">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 16,month => 11,second => 42,year => 2019}}],id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 15,hour => 12,microsecond => {0,0},minute => 39,month => 11,second => 36,year => 2019},password => <<"$2b$12$XlddKF/xtUSibCfUPGIFder8BVD04Qh9qhAIdee/iSdJE48pNnIKe">>,phone_number => <<"89991945767">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<"Azat verni 2 rubl">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 13,year => 2019}}],<<"{\"candidate\": \"candidate:2212263285 1 udp 33562367 3.123.78.125 63033 typ relay raddr 85.26.233.154 rport 58882\", \"sdpMid\": null, \"sdpMLineIndex\": null}">>],[{file,"lib/signalling/notifier.ex"},{line,36}]},{'Elixir.Signalling',call_sdp,3,[{file,"lib/signalling.ex"},{line,29}]},{'Elixir.SignallingWeb.IntercomController',sdp_intercom,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,69}]},{'Elixir.SignallingWeb.IntercomController',action,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.IntercomController',phoenix_controller_pipeline,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint',instrument,4,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',1,[{file,"lib/phoenix/router.ex"},{line,275}]},{'Elixir.SignallingWeb.Endpoint',plug_builder_call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.SignallingWeb.Endpoint',call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,33}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.SignallingWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 244,cert => undefined,has_body => true,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip, deflate">>,<<"connection">> => <<"upgrade">>,<<"content-length">> => <<"244">>,<<"content-type">> => <<"application/json">>,<<"host">> => <<"signaling-api.domoface.ru">>,<<"user-agent">> => <<"Python/3.7 aiohttp/3.6.2">>,<<"x-forwarded-for">> => <<"87.76.0.8">>,<<"x-forwarded-host">> => <<"signaling-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"87.76.0.8">>},host => <<"signaling-api.domoface.ru">>,host_info => undefined,method => <<"POST">>,path => <<"/signaling/intercom/sdp_intercom">>,path_info => undefined,peer => {{127,0,0,1},43566},pid => <0.1574.0>,port => 80,qs => <<>>,ref => 'Elixir.SignallingWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},8002},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"signaling-api.domoface.ru">>,method => <<"POST">>,owner => <0.1575.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"signaling">>,<<"intercom">>,<<"sdp_intercom">>],path_params => #{},port => 80,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip, deflate">>},{<<"connection">>,<<"upgrade">>},{<<"content-length">>,<<"244">>},{<<"content-type">>,<<"application/json">>},{<<"host">>,<<"signaling-api.domoface.ru">>},{<<"user-agent">>,<<"Python/3.7 aiohttp/3.6.2">>},{<<"x-forwarded-for">>,<<"87.76.0.8">>},{<<"x-forwarded-host">>,<<"signaling-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"87.76.0.8">>}],request_path => <<"/signaling/intercom/sdp_intercom">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}} and stacktrace [{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]
2019-11-18 23:50:20 =CRASH REPORT====
  crasher:
    initial call: Elixir.Archive.VideoVisor:init/1
    pid: <0.1184.0>
    registered_name: []
    exception error: bad argument: [{'Elixir.Archive.VideoVisor',create_dir,2,[{file,"lib/archive/video_visor.ex"},{line,59}]},{'Elixir.Archive.VideoVisor',init,1,[{file,"lib/archive/video_visor.ex"},{line,32}]},{gen_server,init_it,2,[{file,"gen_server.erl"},{line,374}]},{gen_server,init_it,6,[{file,"gen_server.erl"},{line,342}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]
    ancestors: ['Elixir.Archive.VideoDynamicSupervisor','Elixir.Archive.Supervisor',<0.1033.0>]
    message_queue_len: 0
    messages: []
    links: [<0.1166.0>]
    dictionary: []
    trap_exit: true
    status: running
    heap_size: 610
    stack_size: 27
    reductions: 382
  neighbours:
2019-11-18 23:50:42 =CRASH REPORT====
  crasher:
    initial call: cowboy_stream_h:request_process/3
    pid: <0.1357.0>
    registered_name: []
    exception exit: {{{{#{'__exception__' => true,'__struct__' => 'Elixir.FunctionClauseError',args => nil,arity => 2,clauses => nil,function => sdp_call,kind => nil,module => 'Elixir.Signalling.Notifier'},[{'Elixir.Signalling.Notifier',sdp_call,[[#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9a9b7935-5d31-431c-b354-88b1c6f3542c">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019},serial_key => <<"3157588642d753b0">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,token => <<"e4zyYuvG_oY:APA91bHL9P7qsf_DQIQjfImwJaxKnmjqmm3XTQwCL-1vxojQoNwpVL-oIA_NWLDT-X1Vupuor7a4cCqqF3FfA3faL9A0POGD_QWmXSO3ghgT2Qz5UddYwApYFAlfEFAcdGDSr5CHsKsf">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019}}],id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 8,month => 11,second => 53,year => 2019},password => <<"$2b$12$oOX2mvAXzIhT50XnmsaPpeTRno2B4uUAowr2LyuQ3Ed/1o.5.VG1q">>,phone_number => <<"89176200645">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<208,149,208,178,208,179,208,181,208,189,208,184,208,185,32,208,154,208,176,208,187,208,180,208,184,208,189>>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 36,month => 11,second => 50,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9e411232-1c65-4deb-ba6a-d77786e023d7">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 25,month => 11,second => 40,year => 2019},serial_key => <<"2a05092ea1c0c777">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cbrDPJM9piw:APA91bF0jAJd2IYycMQxuXVeUjNy5I3Yy2Le9ZXcjso14ielexAndVUhXIBeSLvDcmKuo_GsANHXTXjiXE061Jrw_4K_HG4HQAlrs2AJRUEJbeIhAEWf7NW0vuk3EHAAr7dLVXOPexHi">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 9,microsecond => {0,0},minute => 36,month => 11,second => 12,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9679e299-55b8-4498-943b-160c7c877da0">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 16,microsecond => {0,0},minute => 23,month => 11,second => 29,year => 2019},serial_key => <<"9e7225961a706a65">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cOr_nTgNJBM:APA91bELiM_yN8yM0TpQmQfn2BNlmurhJlT3UjhZtaMy3oV1RvEfSEtdIaVgblUBw8-vT7fV6bVlPuDuUWwPvPEhzg-vWnVZqt6rX_h4EVGMvwWoea7Ra66pFEcr77eF9ySJuSBCj3v1">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 11,month => 11,second => 57,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"178d035d-3f31-4b74-b64b-6d5505ed4bf6">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 38,year => 2019},serial_key => <<"3098ad9eabaf20fd">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"d4CfUwvd6g0:APA91bHPkAArHm1p5IHU2zJ3Ea0Vc1fYxhmRp8QAZFRhUBahxqMda2dHGpSXo3wdtc59kauYs8lZWG4ly9nIxr-Re2Xaz1OguNsbUFiKu_yxzLVhgdXm38g18Us1Rv495cY3UHoFK3mp">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 16,month => 11,second => 42,year => 2019}}],id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 15,hour => 12,microsecond => {0,0},minute => 39,month => 11,second => 36,year => 2019},password => <<"$2b$12$XlddKF/xtUSibCfUPGIFder8BVD04Qh9qhAIdee/iSdJE48pNnIKe">>,phone_number => <<"89991945767">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<"Azat verni 2 rubl">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 13,year => 2019}}],<<"{\"candidate\": \"candidate:1498970736 1 udp 2113937151 10.224.117.49 59207 typ host\", \"sdpMid\": null, \"sdpMLineIndex\": null}">>],[{file,"lib/signalling/notifier.ex"},{line,36}]},{'Elixir.Signalling',call_sdp,3,[{file,"lib/signalling.ex"},{line,29}]},{'Elixir.SignallingWeb.IntercomController',sdp_intercom,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,69}]},{'Elixir.SignallingWeb.IntercomController',action,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.IntercomController',phoenix_controller_pipeline,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint',instrument,4,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',1,[{file,"lib/phoenix/router.ex"},{line,275}]},{'Elixir.SignallingWeb.Endpoint',plug_builder_call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.SignallingWeb.Endpoint',call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,33}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.SignallingWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 214,cert => undefined,has_body => true,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip, deflate">>,<<"connection">> => <<"upgrade">>,<<"content-length">> => <<"214">>,<<"content-type">> => <<"application/json">>,<<"host">> => <<"signaling-api.domoface.ru">>,<<"user-agent">> => <<"Python/3.7 aiohttp/3.6.2">>,<<"x-forwarded-for">> => <<"87.76.0.8">>,<<"x-forwarded-host">> => <<"signaling-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"87.76.0.8">>},host => <<"signaling-api.domoface.ru">>,host_info => undefined,method => <<"POST">>,path => <<"/signaling/intercom/sdp_intercom">>,path_info => undefined,peer => {{127,0,0,1},43582},pid => <0.1356.0>,port => 80,qs => <<>>,ref => 'Elixir.SignallingWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},8002},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"signaling-api.domoface.ru">>,method => <<"POST">>,owner => <0.1357.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"signaling">>,<<"intercom">>,<<"sdp_intercom">>],path_params => #{},port => 80,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip, deflate">>},{<<"connection">>,<<"upgrade">>},{<<"content-length">>,<<"214">>},{<<"content-type">>,<<"application/json">>},{<<"host">>,<<"signaling-api.domoface.ru">>},{<<"user-agent">>,<<"Python/3.7 aiohttp/3.6.2">>},{<<"x-forwarded-for">>,<<"87.76.0.8">>},{<<"x-forwarded-host">>,<<"signaling-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"87.76.0.8">>}],request_path => <<"/signaling/intercom/sdp_intercom">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}
    ancestors: [<0.1356.0>,<0.1206.0>,<0.1205.0>,'Elixir.SignallingWeb.Endpoint','Elixir.Signalling.Supervisor',<0.1190.0>]
    message_queue_len: 0
    messages: []
    links: [<0.1356.0>]
    dictionary: [{logger_metadata,{true,[{request_id,<<"Fdhmv29PtPrBCtkAAAUh">>}]}}]
    trap_exit: false
    status: running
    heap_size: 2586
    stack_size: 27
    reductions: 170714
  neighbours:
2019-11-18 23:50:42 =ERROR REPORT====
Ranch listener 'Elixir.SignallingWeb.Endpoint.HTTP', connection process <0.1356.0>, stream 1 had its request process <0.1357.0> exit with reason {{#{'__exception__' => true,'__struct__' => 'Elixir.FunctionClauseError',args => nil,arity => 2,clauses => nil,function => sdp_call,kind => nil,module => 'Elixir.Signalling.Notifier'},[{'Elixir.Signalling.Notifier',sdp_call,[[#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9a9b7935-5d31-431c-b354-88b1c6f3542c">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019},serial_key => <<"3157588642d753b0">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,token => <<"e4zyYuvG_oY:APA91bHL9P7qsf_DQIQjfImwJaxKnmjqmm3XTQwCL-1vxojQoNwpVL-oIA_NWLDT-X1Vupuor7a4cCqqF3FfA3faL9A0POGD_QWmXSO3ghgT2Qz5UddYwApYFAlfEFAcdGDSr5CHsKsf">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019}}],id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 8,month => 11,second => 53,year => 2019},password => <<"$2b$12$oOX2mvAXzIhT50XnmsaPpeTRno2B4uUAowr2LyuQ3Ed/1o.5.VG1q">>,phone_number => <<"89176200645">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<208,149,208,178,208,179,208,181,208,189,208,184,208,185,32,208,154,208,176,208,187,208,180,208,184,208,189>>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 36,month => 11,second => 50,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9e411232-1c65-4deb-ba6a-d77786e023d7">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 25,month => 11,second => 40,year => 2019},serial_key => <<"2a05092ea1c0c777">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cbrDPJM9piw:APA91bF0jAJd2IYycMQxuXVeUjNy5I3Yy2Le9ZXcjso14ielexAndVUhXIBeSLvDcmKuo_GsANHXTXjiXE061Jrw_4K_HG4HQAlrs2AJRUEJbeIhAEWf7NW0vuk3EHAAr7dLVXOPexHi">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 9,microsecond => {0,0},minute => 36,month => 11,second => 12,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9679e299-55b8-4498-943b-160c7c877da0">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 16,microsecond => {0,0},minute => 23,month => 11,second => 29,year => 2019},serial_key => <<"9e7225961a706a65">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cOr_nTgNJBM:APA91bELiM_yN8yM0TpQmQfn2BNlmurhJlT3UjhZtaMy3oV1RvEfSEtdIaVgblUBw8-vT7fV6bVlPuDuUWwPvPEhzg-vWnVZqt6rX_h4EVGMvwWoea7Ra66pFEcr77eF9ySJuSBCj3v1">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 11,month => 11,second => 57,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"178d035d-3f31-4b74-b64b-6d5505ed4bf6">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 38,year => 2019},serial_key => <<"3098ad9eabaf20fd">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"d4CfUwvd6g0:APA91bHPkAArHm1p5IHU2zJ3Ea0Vc1fYxhmRp8QAZFRhUBahxqMda2dHGpSXo3wdtc59kauYs8lZWG4ly9nIxr-Re2Xaz1OguNsbUFiKu_yxzLVhgdXm38g18Us1Rv495cY3UHoFK3mp">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 16,month => 11,second => 42,year => 2019}}],id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 15,hour => 12,microsecond => {0,0},minute => 39,month => 11,second => 36,year => 2019},password => <<"$2b$12$XlddKF/xtUSibCfUPGIFder8BVD04Qh9qhAIdee/iSdJE48pNnIKe">>,phone_number => <<"89991945767">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<"Azat verni 2 rubl">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 13,year => 2019}}],<<"{\"candidate\": \"candidate:1498970736 1 udp 2113937151 10.224.117.49 59207 typ host\", \"sdpMid\": null, \"sdpMLineIndex\": null}">>],[{file,"lib/signalling/notifier.ex"},{line,36}]},{'Elixir.Signalling',call_sdp,3,[{file,"lib/signalling.ex"},{line,29}]},{'Elixir.SignallingWeb.IntercomController',sdp_intercom,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,69}]},{'Elixir.SignallingWeb.IntercomController',action,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.IntercomController',phoenix_controller_pipeline,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint',instrument,4,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',1,[{file,"lib/phoenix/router.ex"},{line,275}]},{'Elixir.SignallingWeb.Endpoint',plug_builder_call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.SignallingWeb.Endpoint',call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,33}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.SignallingWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 214,cert => undefined,has_body => true,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip, deflate">>,<<"connection">> => <<"upgrade">>,<<"content-length">> => <<"214">>,<<"content-type">> => <<"application/json">>,<<"host">> => <<"signaling-api.domoface.ru">>,<<"user-agent">> => <<"Python/3.7 aiohttp/3.6.2">>,<<"x-forwarded-for">> => <<"87.76.0.8">>,<<"x-forwarded-host">> => <<"signaling-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"87.76.0.8">>},host => <<"signaling-api.domoface.ru">>,host_info => undefined,method => <<"POST">>,path => <<"/signaling/intercom/sdp_intercom">>,path_info => undefined,peer => {{127,0,0,1},43582},pid => <0.1356.0>,port => 80,qs => <<>>,ref => 'Elixir.SignallingWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},8002},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"signaling-api.domoface.ru">>,method => <<"POST">>,owner => <0.1357.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"signaling">>,<<"intercom">>,<<"sdp_intercom">>],path_params => #{},port => 80,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip, deflate">>},{<<"connection">>,<<"upgrade">>},{<<"content-length">>,<<"214">>},{<<"content-type">>,<<"application/json">>},{<<"host">>,<<"signaling-api.domoface.ru">>},{<<"user-agent">>,<<"Python/3.7 aiohttp/3.6.2">>},{<<"x-forwarded-for">>,<<"87.76.0.8">>},{<<"x-forwarded-host">>,<<"signaling-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"87.76.0.8">>}],request_path => <<"/signaling/intercom/sdp_intercom">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}} and stacktrace [{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]
2019-11-18 23:50:42 =CRASH REPORT====
  crasher:
    initial call: cowboy_stream_h:request_process/3
    pid: <0.1361.0>
    registered_name: []
    exception exit: {{{{#{'__exception__' => true,'__struct__' => 'Elixir.FunctionClauseError',args => nil,arity => 2,clauses => nil,function => sdp_call,kind => nil,module => 'Elixir.Signalling.Notifier'},[{'Elixir.Signalling.Notifier',sdp_call,[[#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9a9b7935-5d31-431c-b354-88b1c6f3542c">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019},serial_key => <<"3157588642d753b0">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,token => <<"e4zyYuvG_oY:APA91bHL9P7qsf_DQIQjfImwJaxKnmjqmm3XTQwCL-1vxojQoNwpVL-oIA_NWLDT-X1Vupuor7a4cCqqF3FfA3faL9A0POGD_QWmXSO3ghgT2Qz5UddYwApYFAlfEFAcdGDSr5CHsKsf">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019}}],id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 8,month => 11,second => 53,year => 2019},password => <<"$2b$12$oOX2mvAXzIhT50XnmsaPpeTRno2B4uUAowr2LyuQ3Ed/1o.5.VG1q">>,phone_number => <<"89176200645">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<208,149,208,178,208,179,208,181,208,189,208,184,208,185,32,208,154,208,176,208,187,208,180,208,184,208,189>>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 36,month => 11,second => 50,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9e411232-1c65-4deb-ba6a-d77786e023d7">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 25,month => 11,second => 40,year => 2019},serial_key => <<"2a05092ea1c0c777">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cbrDPJM9piw:APA91bF0jAJd2IYycMQxuXVeUjNy5I3Yy2Le9ZXcjso14ielexAndVUhXIBeSLvDcmKuo_GsANHXTXjiXE061Jrw_4K_HG4HQAlrs2AJRUEJbeIhAEWf7NW0vuk3EHAAr7dLVXOPexHi">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 9,microsecond => {0,0},minute => 36,month => 11,second => 12,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9679e299-55b8-4498-943b-160c7c877da0">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 16,microsecond => {0,0},minute => 23,month => 11,second => 29,year => 2019},serial_key => <<"9e7225961a706a65">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cOr_nTgNJBM:APA91bELiM_yN8yM0TpQmQfn2BNlmurhJlT3UjhZtaMy3oV1RvEfSEtdIaVgblUBw8-vT7fV6bVlPuDuUWwPvPEhzg-vWnVZqt6rX_h4EVGMvwWoea7Ra66pFEcr77eF9ySJuSBCj3v1">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 11,month => 11,second => 57,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"178d035d-3f31-4b74-b64b-6d5505ed4bf6">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 38,year => 2019},serial_key => <<"3098ad9eabaf20fd">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"d4CfUwvd6g0:APA91bHPkAArHm1p5IHU2zJ3Ea0Vc1fYxhmRp8QAZFRhUBahxqMda2dHGpSXo3wdtc59kauYs8lZWG4ly9nIxr-Re2Xaz1OguNsbUFiKu_yxzLVhgdXm38g18Us1Rv495cY3UHoFK3mp">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 16,month => 11,second => 42,year => 2019}}],id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 15,hour => 12,microsecond => {0,0},minute => 39,month => 11,second => 36,year => 2019},password => <<"$2b$12$XlddKF/xtUSibCfUPGIFder8BVD04Qh9qhAIdee/iSdJE48pNnIKe">>,phone_number => <<"89991945767">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<"Azat verni 2 rubl">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 13,year => 2019}}],<<"{\"candidate\": \"candidate:842163049 1 udp 1677729535 85.26.233.154 5729 typ srflx raddr 10.224.117.49 rport 59207\", \"sdpMid\": null, \"sdpMLineIndex\": null}">>],[{file,"lib/signalling/notifier.ex"},{line,36}]},{'Elixir.Signalling',call_sdp,3,[{file,"lib/signalling.ex"},{line,29}]},{'Elixir.SignallingWeb.IntercomController',sdp_intercom,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,69}]},{'Elixir.SignallingWeb.IntercomController',action,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.IntercomController',phoenix_controller_pipeline,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint',instrument,4,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',1,[{file,"lib/phoenix/router.ex"},{line,275}]},{'Elixir.SignallingWeb.Endpoint',plug_builder_call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.SignallingWeb.Endpoint',call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,33}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.SignallingWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 245,cert => undefined,has_body => true,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip, deflate">>,<<"connection">> => <<"upgrade">>,<<"content-length">> => <<"245">>,<<"content-type">> => <<"application/json">>,<<"host">> => <<"signaling-api.domoface.ru">>,<<"user-agent">> => <<"Python/3.7 aiohttp/3.6.2">>,<<"x-forwarded-for">> => <<"87.76.0.8">>,<<"x-forwarded-host">> => <<"signaling-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"87.76.0.8">>},host => <<"signaling-api.domoface.ru">>,host_info => undefined,method => <<"POST">>,path => <<"/signaling/intercom/sdp_intercom">>,path_info => undefined,peer => {{127,0,0,1},43584},pid => <0.1360.0>,port => 80,qs => <<>>,ref => 'Elixir.SignallingWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},8002},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"signaling-api.domoface.ru">>,method => <<"POST">>,owner => <0.1361.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"signaling">>,<<"intercom">>,<<"sdp_intercom">>],path_params => #{},port => 80,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip, deflate">>},{<<"connection">>,<<"upgrade">>},{<<"content-length">>,<<"245">>},{<<"content-type">>,<<"application/json">>},{<<"host">>,<<"signaling-api.domoface.ru">>},{<<"user-agent">>,<<"Python/3.7 aiohttp/3.6.2">>},{<<"x-forwarded-for">>,<<"87.76.0.8">>},{<<"x-forwarded-host">>,<<"signaling-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"87.76.0.8">>}],request_path => <<"/signaling/intercom/sdp_intercom">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}
    ancestors: [<0.1360.0>,<0.1206.0>,<0.1205.0>,'Elixir.SignallingWeb.Endpoint','Elixir.Signalling.Supervisor',<0.1190.0>]
    message_queue_len: 0
    messages: []
    links: [<0.1360.0>]
    dictionary: [{logger_metadata,{true,[{request_id,<<"Fdhmv5cD1ZKetC0AAAVB">>}]}}]
    trap_exit: false
    status: running
    heap_size: 6772
    stack_size: 27
    reductions: 170544
  neighbours:
2019-11-18 23:50:42 =ERROR REPORT====
Ranch listener 'Elixir.SignallingWeb.Endpoint.HTTP', connection process <0.1360.0>, stream 1 had its request process <0.1361.0> exit with reason {{#{'__exception__' => true,'__struct__' => 'Elixir.FunctionClauseError',args => nil,arity => 2,clauses => nil,function => sdp_call,kind => nil,module => 'Elixir.Signalling.Notifier'},[{'Elixir.Signalling.Notifier',sdp_call,[[#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9a9b7935-5d31-431c-b354-88b1c6f3542c">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019},serial_key => <<"3157588642d753b0">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,token => <<"e4zyYuvG_oY:APA91bHL9P7qsf_DQIQjfImwJaxKnmjqmm3XTQwCL-1vxojQoNwpVL-oIA_NWLDT-X1Vupuor7a4cCqqF3FfA3faL9A0POGD_QWmXSO3ghgT2Qz5UddYwApYFAlfEFAcdGDSr5CHsKsf">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019}}],id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 8,month => 11,second => 53,year => 2019},password => <<"$2b$12$oOX2mvAXzIhT50XnmsaPpeTRno2B4uUAowr2LyuQ3Ed/1o.5.VG1q">>,phone_number => <<"89176200645">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<208,149,208,178,208,179,208,181,208,189,208,184,208,185,32,208,154,208,176,208,187,208,180,208,184,208,189>>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 36,month => 11,second => 50,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9e411232-1c65-4deb-ba6a-d77786e023d7">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 25,month => 11,second => 40,year => 2019},serial_key => <<"2a05092ea1c0c777">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cbrDPJM9piw:APA91bF0jAJd2IYycMQxuXVeUjNy5I3Yy2Le9ZXcjso14ielexAndVUhXIBeSLvDcmKuo_GsANHXTXjiXE061Jrw_4K_HG4HQAlrs2AJRUEJbeIhAEWf7NW0vuk3EHAAr7dLVXOPexHi">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 9,microsecond => {0,0},minute => 36,month => 11,second => 12,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9679e299-55b8-4498-943b-160c7c877da0">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 16,microsecond => {0,0},minute => 23,month => 11,second => 29,year => 2019},serial_key => <<"9e7225961a706a65">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cOr_nTgNJBM:APA91bELiM_yN8yM0TpQmQfn2BNlmurhJlT3UjhZtaMy3oV1RvEfSEtdIaVgblUBw8-vT7fV6bVlPuDuUWwPvPEhzg-vWnVZqt6rX_h4EVGMvwWoea7Ra66pFEcr77eF9ySJuSBCj3v1">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 11,month => 11,second => 57,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"178d035d-3f31-4b74-b64b-6d5505ed4bf6">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 38,year => 2019},serial_key => <<"3098ad9eabaf20fd">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"d4CfUwvd6g0:APA91bHPkAArHm1p5IHU2zJ3Ea0Vc1fYxhmRp8QAZFRhUBahxqMda2dHGpSXo3wdtc59kauYs8lZWG4ly9nIxr-Re2Xaz1OguNsbUFiKu_yxzLVhgdXm38g18Us1Rv495cY3UHoFK3mp">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 16,month => 11,second => 42,year => 2019}}],id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 15,hour => 12,microsecond => {0,0},minute => 39,month => 11,second => 36,year => 2019},password => <<"$2b$12$XlddKF/xtUSibCfUPGIFder8BVD04Qh9qhAIdee/iSdJE48pNnIKe">>,phone_number => <<"89991945767">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<"Azat verni 2 rubl">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 13,year => 2019}}],<<"{\"candidate\": \"candidate:842163049 1 udp 1677729535 85.26.233.154 5729 typ srflx raddr 10.224.117.49 rport 59207\", \"sdpMid\": null, \"sdpMLineIndex\": null}">>],[{file,"lib/signalling/notifier.ex"},{line,36}]},{'Elixir.Signalling',call_sdp,3,[{file,"lib/signalling.ex"},{line,29}]},{'Elixir.SignallingWeb.IntercomController',sdp_intercom,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,69}]},{'Elixir.SignallingWeb.IntercomController',action,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.IntercomController',phoenix_controller_pipeline,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint',instrument,4,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',1,[{file,"lib/phoenix/router.ex"},{line,275}]},{'Elixir.SignallingWeb.Endpoint',plug_builder_call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.SignallingWeb.Endpoint',call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,33}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.SignallingWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 245,cert => undefined,has_body => true,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip, deflate">>,<<"connection">> => <<"upgrade">>,<<"content-length">> => <<"245">>,<<"content-type">> => <<"application/json">>,<<"host">> => <<"signaling-api.domoface.ru">>,<<"user-agent">> => <<"Python/3.7 aiohttp/3.6.2">>,<<"x-forwarded-for">> => <<"87.76.0.8">>,<<"x-forwarded-host">> => <<"signaling-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"87.76.0.8">>},host => <<"signaling-api.domoface.ru">>,host_info => undefined,method => <<"POST">>,path => <<"/signaling/intercom/sdp_intercom">>,path_info => undefined,peer => {{127,0,0,1},43584},pid => <0.1360.0>,port => 80,qs => <<>>,ref => 'Elixir.SignallingWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},8002},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"signaling-api.domoface.ru">>,method => <<"POST">>,owner => <0.1361.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"signaling">>,<<"intercom">>,<<"sdp_intercom">>],path_params => #{},port => 80,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip, deflate">>},{<<"connection">>,<<"upgrade">>},{<<"content-length">>,<<"245">>},{<<"content-type">>,<<"application/json">>},{<<"host">>,<<"signaling-api.domoface.ru">>},{<<"user-agent">>,<<"Python/3.7 aiohttp/3.6.2">>},{<<"x-forwarded-for">>,<<"87.76.0.8">>},{<<"x-forwarded-host">>,<<"signaling-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"87.76.0.8">>}],request_path => <<"/signaling/intercom/sdp_intercom">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}} and stacktrace [{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]
2019-11-18 23:50:43 =CRASH REPORT====
  crasher:
    initial call: cowboy_stream_h:request_process/3
    pid: <0.1365.0>
    registered_name: []
    exception exit: {{{{#{'__exception__' => true,'__struct__' => 'Elixir.FunctionClauseError',args => nil,arity => 2,clauses => nil,function => sdp_call,kind => nil,module => 'Elixir.Signalling.Notifier'},[{'Elixir.Signalling.Notifier',sdp_call,[[#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9a9b7935-5d31-431c-b354-88b1c6f3542c">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019},serial_key => <<"3157588642d753b0">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,token => <<"e4zyYuvG_oY:APA91bHL9P7qsf_DQIQjfImwJaxKnmjqmm3XTQwCL-1vxojQoNwpVL-oIA_NWLDT-X1Vupuor7a4cCqqF3FfA3faL9A0POGD_QWmXSO3ghgT2Qz5UddYwApYFAlfEFAcdGDSr5CHsKsf">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019}}],id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 8,month => 11,second => 53,year => 2019},password => <<"$2b$12$oOX2mvAXzIhT50XnmsaPpeTRno2B4uUAowr2LyuQ3Ed/1o.5.VG1q">>,phone_number => <<"89176200645">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<208,149,208,178,208,179,208,181,208,189,208,184,208,185,32,208,154,208,176,208,187,208,180,208,184,208,189>>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 36,month => 11,second => 50,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9e411232-1c65-4deb-ba6a-d77786e023d7">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 25,month => 11,second => 40,year => 2019},serial_key => <<"2a05092ea1c0c777">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cbrDPJM9piw:APA91bF0jAJd2IYycMQxuXVeUjNy5I3Yy2Le9ZXcjso14ielexAndVUhXIBeSLvDcmKuo_GsANHXTXjiXE061Jrw_4K_HG4HQAlrs2AJRUEJbeIhAEWf7NW0vuk3EHAAr7dLVXOPexHi">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 9,microsecond => {0,0},minute => 36,month => 11,second => 12,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9679e299-55b8-4498-943b-160c7c877da0">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 16,microsecond => {0,0},minute => 23,month => 11,second => 29,year => 2019},serial_key => <<"9e7225961a706a65">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cOr_nTgNJBM:APA91bELiM_yN8yM0TpQmQfn2BNlmurhJlT3UjhZtaMy3oV1RvEfSEtdIaVgblUBw8-vT7fV6bVlPuDuUWwPvPEhzg-vWnVZqt6rX_h4EVGMvwWoea7Ra66pFEcr77eF9ySJuSBCj3v1">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 11,month => 11,second => 57,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"178d035d-3f31-4b74-b64b-6d5505ed4bf6">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 38,year => 2019},serial_key => <<"3098ad9eabaf20fd">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"d4CfUwvd6g0:APA91bHPkAArHm1p5IHU2zJ3Ea0Vc1fYxhmRp8QAZFRhUBahxqMda2dHGpSXo3wdtc59kauYs8lZWG4ly9nIxr-Re2Xaz1OguNsbUFiKu_yxzLVhgdXm38g18Us1Rv495cY3UHoFK3mp">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 16,month => 11,second => 42,year => 2019}}],id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 15,hour => 12,microsecond => {0,0},minute => 39,month => 11,second => 36,year => 2019},password => <<"$2b$12$XlddKF/xtUSibCfUPGIFder8BVD04Qh9qhAIdee/iSdJE48pNnIKe">>,phone_number => <<"89991945767">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<"Azat verni 2 rubl">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 13,year => 2019}}],<<"{\"candidate\": \"candidate:2212263285 1 udp 33562367 3.123.78.125 62119 typ relay raddr 85.26.233.154 rport 5729\", \"sdpMid\": null, \"sdpMLineIndex\": null}">>],[{file,"lib/signalling/notifier.ex"},{line,36}]},{'Elixir.Signalling',call_sdp,3,[{file,"lib/signalling.ex"},{line,29}]},{'Elixir.SignallingWeb.IntercomController',sdp_intercom,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,69}]},{'Elixir.SignallingWeb.IntercomController',action,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.IntercomController',phoenix_controller_pipeline,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint',instrument,4,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',1,[{file,"lib/phoenix/router.ex"},{line,275}]},{'Elixir.SignallingWeb.Endpoint',plug_builder_call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.SignallingWeb.Endpoint',call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,33}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.SignallingWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 243,cert => undefined,has_body => true,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip, deflate">>,<<"connection">> => <<"upgrade">>,<<"content-length">> => <<"243">>,<<"content-type">> => <<"application/json">>,<<"host">> => <<"signaling-api.domoface.ru">>,<<"user-agent">> => <<"Python/3.7 aiohttp/3.6.2">>,<<"x-forwarded-for">> => <<"87.76.0.8">>,<<"x-forwarded-host">> => <<"signaling-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"87.76.0.8">>},host => <<"signaling-api.domoface.ru">>,host_info => undefined,method => <<"POST">>,path => <<"/signaling/intercom/sdp_intercom">>,path_info => undefined,peer => {{127,0,0,1},43586},pid => <0.1364.0>,port => 80,qs => <<>>,ref => 'Elixir.SignallingWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},8002},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"signaling-api.domoface.ru">>,method => <<"POST">>,owner => <0.1365.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"signaling">>,<<"intercom">>,<<"sdp_intercom">>],path_params => #{},port => 80,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip, deflate">>},{<<"connection">>,<<"upgrade">>},{<<"content-length">>,<<"243">>},{<<"content-type">>,<<"application/json">>},{<<"host">>,<<"signaling-api.domoface.ru">>},{<<"user-agent">>,<<"Python/3.7 aiohttp/3.6.2">>},{<<"x-forwarded-for">>,<<"87.76.0.8">>},{<<"x-forwarded-host">>,<<"signaling-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"87.76.0.8">>}],request_path => <<"/signaling/intercom/sdp_intercom">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}
    ancestors: [<0.1364.0>,<0.1206.0>,<0.1205.0>,'Elixir.SignallingWeb.Endpoint','Elixir.Signalling.Supervisor',<0.1190.0>]
    message_queue_len: 0
    messages: []
    links: [<0.1364.0>]
    dictionary: [{logger_metadata,{true,[{request_id,<<"Fdhmv7xCjRNLOM8AAAoD">>}]}}]
    trap_exit: false
    status: running
    heap_size: 6772
    stack_size: 27
    reductions: 170436
  neighbours:
2019-11-18 23:50:43 =ERROR REPORT====
Ranch listener 'Elixir.SignallingWeb.Endpoint.HTTP', connection process <0.1364.0>, stream 1 had its request process <0.1365.0> exit with reason {{#{'__exception__' => true,'__struct__' => 'Elixir.FunctionClauseError',args => nil,arity => 2,clauses => nil,function => sdp_call,kind => nil,module => 'Elixir.Signalling.Notifier'},[{'Elixir.Signalling.Notifier',sdp_call,[[#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9a9b7935-5d31-431c-b354-88b1c6f3542c">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019},serial_key => <<"3157588642d753b0">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,token => <<"e4zyYuvG_oY:APA91bHL9P7qsf_DQIQjfImwJaxKnmjqmm3XTQwCL-1vxojQoNwpVL-oIA_NWLDT-X1Vupuor7a4cCqqF3FfA3faL9A0POGD_QWmXSO3ghgT2Qz5UddYwApYFAlfEFAcdGDSr5CHsKsf">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019}}],id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 8,month => 11,second => 53,year => 2019},password => <<"$2b$12$oOX2mvAXzIhT50XnmsaPpeTRno2B4uUAowr2LyuQ3Ed/1o.5.VG1q">>,phone_number => <<"89176200645">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<208,149,208,178,208,179,208,181,208,189,208,184,208,185,32,208,154,208,176,208,187,208,180,208,184,208,189>>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 36,month => 11,second => 50,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9e411232-1c65-4deb-ba6a-d77786e023d7">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 25,month => 11,second => 40,year => 2019},serial_key => <<"2a05092ea1c0c777">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cbrDPJM9piw:APA91bF0jAJd2IYycMQxuXVeUjNy5I3Yy2Le9ZXcjso14ielexAndVUhXIBeSLvDcmKuo_GsANHXTXjiXE061Jrw_4K_HG4HQAlrs2AJRUEJbeIhAEWf7NW0vuk3EHAAr7dLVXOPexHi">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 9,microsecond => {0,0},minute => 36,month => 11,second => 12,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9679e299-55b8-4498-943b-160c7c877da0">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 16,microsecond => {0,0},minute => 23,month => 11,second => 29,year => 2019},serial_key => <<"9e7225961a706a65">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cOr_nTgNJBM:APA91bELiM_yN8yM0TpQmQfn2BNlmurhJlT3UjhZtaMy3oV1RvEfSEtdIaVgblUBw8-vT7fV6bVlPuDuUWwPvPEhzg-vWnVZqt6rX_h4EVGMvwWoea7Ra66pFEcr77eF9ySJuSBCj3v1">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 11,month => 11,second => 57,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"178d035d-3f31-4b74-b64b-6d5505ed4bf6">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 38,year => 2019},serial_key => <<"3098ad9eabaf20fd">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"d4CfUwvd6g0:APA91bHPkAArHm1p5IHU2zJ3Ea0Vc1fYxhmRp8QAZFRhUBahxqMda2dHGpSXo3wdtc59kauYs8lZWG4ly9nIxr-Re2Xaz1OguNsbUFiKu_yxzLVhgdXm38g18Us1Rv495cY3UHoFK3mp">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 16,month => 11,second => 42,year => 2019}}],id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 15,hour => 12,microsecond => {0,0},minute => 39,month => 11,second => 36,year => 2019},password => <<"$2b$12$XlddKF/xtUSibCfUPGIFder8BVD04Qh9qhAIdee/iSdJE48pNnIKe">>,phone_number => <<"89991945767">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<"Azat verni 2 rubl">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 13,year => 2019}}],<<"{\"candidate\": \"candidate:2212263285 1 udp 33562367 3.123.78.125 62119 typ relay raddr 85.26.233.154 rport 5729\", \"sdpMid\": null, \"sdpMLineIndex\": null}">>],[{file,"lib/signalling/notifier.ex"},{line,36}]},{'Elixir.Signalling',call_sdp,3,[{file,"lib/signalling.ex"},{line,29}]},{'Elixir.SignallingWeb.IntercomController',sdp_intercom,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,69}]},{'Elixir.SignallingWeb.IntercomController',action,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.IntercomController',phoenix_controller_pipeline,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint',instrument,4,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',1,[{file,"lib/phoenix/router.ex"},{line,275}]},{'Elixir.SignallingWeb.Endpoint',plug_builder_call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.SignallingWeb.Endpoint',call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,33}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.SignallingWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 243,cert => undefined,has_body => true,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip, deflate">>,<<"connection">> => <<"upgrade">>,<<"content-length">> => <<"243">>,<<"content-type">> => <<"application/json">>,<<"host">> => <<"signaling-api.domoface.ru">>,<<"user-agent">> => <<"Python/3.7 aiohttp/3.6.2">>,<<"x-forwarded-for">> => <<"87.76.0.8">>,<<"x-forwarded-host">> => <<"signaling-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"87.76.0.8">>},host => <<"signaling-api.domoface.ru">>,host_info => undefined,method => <<"POST">>,path => <<"/signaling/intercom/sdp_intercom">>,path_info => undefined,peer => {{127,0,0,1},43586},pid => <0.1364.0>,port => 80,qs => <<>>,ref => 'Elixir.SignallingWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},8002},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"signaling-api.domoface.ru">>,method => <<"POST">>,owner => <0.1365.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"signaling">>,<<"intercom">>,<<"sdp_intercom">>],path_params => #{},port => 80,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip, deflate">>},{<<"connection">>,<<"upgrade">>},{<<"content-length">>,<<"243">>},{<<"content-type">>,<<"application/json">>},{<<"host">>,<<"signaling-api.domoface.ru">>},{<<"user-agent">>,<<"Python/3.7 aiohttp/3.6.2">>},{<<"x-forwarded-for">>,<<"87.76.0.8">>},{<<"x-forwarded-host">>,<<"signaling-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"87.76.0.8">>}],request_path => <<"/signaling/intercom/sdp_intercom">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}} and stacktrace [{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]
2019-11-18 23:57:25 =CRASH REPORT====
  crasher:
    initial call: Elixir.Archive.VideoVisor:init/1
    pid: <0.1188.0>
    registered_name: []
    exception error: bad argument: [{'Elixir.Archive.VideoVisor',create_dir,2,[{file,"lib/archive/video_visor.ex"},{line,59}]},{'Elixir.Archive.VideoVisor',init,1,[{file,"lib/archive/video_visor.ex"},{line,32}]},{gen_server,init_it,2,[{file,"gen_server.erl"},{line,374}]},{gen_server,init_it,6,[{file,"gen_server.erl"},{line,342}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]
    ancestors: ['Elixir.Archive.VideoDynamicSupervisor','Elixir.Archive.Supervisor',<0.1038.0>]
    message_queue_len: 0
    messages: []
    links: [<0.1171.0>]
    dictionary: []
    trap_exit: true
    status: running
    heap_size: 610
    stack_size: 27
    reductions: 382
  neighbours:
2019-11-18 23:57:46 =CRASH REPORT====
  crasher:
    initial call: cowboy_stream_h:request_process/3
    pid: <0.1362.0>
    registered_name: []
    exception exit: {{{{#{'__exception__' => true,'__struct__' => 'Elixir.FunctionClauseError',args => nil,arity => 2,clauses => nil,function => sdp_call,kind => nil,module => 'Elixir.Signalling.Notifier'},[{'Elixir.Signalling.Notifier',sdp_call,[[#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9a9b7935-5d31-431c-b354-88b1c6f3542c">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019},serial_key => <<"3157588642d753b0">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,token => <<"e4zyYuvG_oY:APA91bHL9P7qsf_DQIQjfImwJaxKnmjqmm3XTQwCL-1vxojQoNwpVL-oIA_NWLDT-X1Vupuor7a4cCqqF3FfA3faL9A0POGD_QWmXSO3ghgT2Qz5UddYwApYFAlfEFAcdGDSr5CHsKsf">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019}}],id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 8,month => 11,second => 53,year => 2019},password => <<"$2b$12$oOX2mvAXzIhT50XnmsaPpeTRno2B4uUAowr2LyuQ3Ed/1o.5.VG1q">>,phone_number => <<"89176200645">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<208,149,208,178,208,179,208,181,208,189,208,184,208,185,32,208,154,208,176,208,187,208,180,208,184,208,189>>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 36,month => 11,second => 50,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9e411232-1c65-4deb-ba6a-d77786e023d7">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 25,month => 11,second => 40,year => 2019},serial_key => <<"2a05092ea1c0c777">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cbrDPJM9piw:APA91bF0jAJd2IYycMQxuXVeUjNy5I3Yy2Le9ZXcjso14ielexAndVUhXIBeSLvDcmKuo_GsANHXTXjiXE061Jrw_4K_HG4HQAlrs2AJRUEJbeIhAEWf7NW0vuk3EHAAr7dLVXOPexHi">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 9,microsecond => {0,0},minute => 36,month => 11,second => 12,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9679e299-55b8-4498-943b-160c7c877da0">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 16,microsecond => {0,0},minute => 23,month => 11,second => 29,year => 2019},serial_key => <<"9e7225961a706a65">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cOr_nTgNJBM:APA91bELiM_yN8yM0TpQmQfn2BNlmurhJlT3UjhZtaMy3oV1RvEfSEtdIaVgblUBw8-vT7fV6bVlPuDuUWwPvPEhzg-vWnVZqt6rX_h4EVGMvwWoea7Ra66pFEcr77eF9ySJuSBCj3v1">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 11,month => 11,second => 57,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"178d035d-3f31-4b74-b64b-6d5505ed4bf6">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 38,year => 2019},serial_key => <<"3098ad9eabaf20fd">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"d4CfUwvd6g0:APA91bHPkAArHm1p5IHU2zJ3Ea0Vc1fYxhmRp8QAZFRhUBahxqMda2dHGpSXo3wdtc59kauYs8lZWG4ly9nIxr-Re2Xaz1OguNsbUFiKu_yxzLVhgdXm38g18Us1Rv495cY3UHoFK3mp">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 16,month => 11,second => 42,year => 2019}}],id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 15,hour => 12,microsecond => {0,0},minute => 39,month => 11,second => 36,year => 2019},password => <<"$2b$12$XlddKF/xtUSibCfUPGIFder8BVD04Qh9qhAIdee/iSdJE48pNnIKe">>,phone_number => <<"89991945767">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<"Azat verni 2 rubl">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 13,year => 2019}}],{<<"{\"candidate\": \"candidate:1498970736 1 udp 2113937151 10.224.117.49 52266 typ host\", \"sdpMid\": null, \"sdpMLineIndex\": null}">>}],[{file,"lib/signalling/notifier.ex"},{line,36}]},{'Elixir.Signalling',call_sdp,3,[{file,"lib/signalling.ex"},{line,29}]},{'Elixir.SignallingWeb.IntercomController',sdp_intercom,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,69}]},{'Elixir.SignallingWeb.IntercomController',action,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.IntercomController',phoenix_controller_pipeline,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint',instrument,4,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',1,[{file,"lib/phoenix/router.ex"},{line,275}]},{'Elixir.SignallingWeb.Endpoint',plug_builder_call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.SignallingWeb.Endpoint',call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,33}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.SignallingWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 214,cert => undefined,has_body => true,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip, deflate">>,<<"connection">> => <<"upgrade">>,<<"content-length">> => <<"214">>,<<"content-type">> => <<"application/json">>,<<"host">> => <<"signaling-api.domoface.ru">>,<<"user-agent">> => <<"Python/3.7 aiohttp/3.6.2">>,<<"x-forwarded-for">> => <<"87.76.0.8">>,<<"x-forwarded-host">> => <<"signaling-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"87.76.0.8">>},host => <<"signaling-api.domoface.ru">>,host_info => undefined,method => <<"POST">>,path => <<"/signaling/intercom/sdp_intercom">>,path_info => undefined,peer => {{127,0,0,1},43602},pid => <0.1361.0>,port => 80,qs => <<>>,ref => 'Elixir.SignallingWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},8002},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"signaling-api.domoface.ru">>,method => <<"POST">>,owner => <0.1362.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"signaling">>,<<"intercom">>,<<"sdp_intercom">>],path_params => #{},port => 80,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip, deflate">>},{<<"connection">>,<<"upgrade">>},{<<"content-length">>,<<"214">>},{<<"content-type">>,<<"application/json">>},{<<"host">>,<<"signaling-api.domoface.ru">>},{<<"user-agent">>,<<"Python/3.7 aiohttp/3.6.2">>},{<<"x-forwarded-for">>,<<"87.76.0.8">>},{<<"x-forwarded-host">>,<<"signaling-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"87.76.0.8">>}],request_path => <<"/signaling/intercom/sdp_intercom">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}
    ancestors: [<0.1361.0>,<0.1211.0>,<0.1210.0>,'Elixir.SignallingWeb.Endpoint','Elixir.Signalling.Supervisor',<0.1195.0>]
    message_queue_len: 0
    messages: []
    links: [<0.1361.0>]
    dictionary: [{logger_metadata,{true,[{request_id,<<"FdhnIkLGwSXcdg4AAAiC">>}]}}]
    trap_exit: false
    status: running
    heap_size: 2586
    stack_size: 27
    reductions: 170788
  neighbours:
2019-11-18 23:57:46 =ERROR REPORT====
Ranch listener 'Elixir.SignallingWeb.Endpoint.HTTP', connection process <0.1361.0>, stream 1 had its request process <0.1362.0> exit with reason {{#{'__exception__' => true,'__struct__' => 'Elixir.FunctionClauseError',args => nil,arity => 2,clauses => nil,function => sdp_call,kind => nil,module => 'Elixir.Signalling.Notifier'},[{'Elixir.Signalling.Notifier',sdp_call,[[#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9a9b7935-5d31-431c-b354-88b1c6f3542c">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019},serial_key => <<"3157588642d753b0">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,token => <<"e4zyYuvG_oY:APA91bHL9P7qsf_DQIQjfImwJaxKnmjqmm3XTQwCL-1vxojQoNwpVL-oIA_NWLDT-X1Vupuor7a4cCqqF3FfA3faL9A0POGD_QWmXSO3ghgT2Qz5UddYwApYFAlfEFAcdGDSr5CHsKsf">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019}}],id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 8,month => 11,second => 53,year => 2019},password => <<"$2b$12$oOX2mvAXzIhT50XnmsaPpeTRno2B4uUAowr2LyuQ3Ed/1o.5.VG1q">>,phone_number => <<"89176200645">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<208,149,208,178,208,179,208,181,208,189,208,184,208,185,32,208,154,208,176,208,187,208,180,208,184,208,189>>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 36,month => 11,second => 50,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9e411232-1c65-4deb-ba6a-d77786e023d7">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 25,month => 11,second => 40,year => 2019},serial_key => <<"2a05092ea1c0c777">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cbrDPJM9piw:APA91bF0jAJd2IYycMQxuXVeUjNy5I3Yy2Le9ZXcjso14ielexAndVUhXIBeSLvDcmKuo_GsANHXTXjiXE061Jrw_4K_HG4HQAlrs2AJRUEJbeIhAEWf7NW0vuk3EHAAr7dLVXOPexHi">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 9,microsecond => {0,0},minute => 36,month => 11,second => 12,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9679e299-55b8-4498-943b-160c7c877da0">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 16,microsecond => {0,0},minute => 23,month => 11,second => 29,year => 2019},serial_key => <<"9e7225961a706a65">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cOr_nTgNJBM:APA91bELiM_yN8yM0TpQmQfn2BNlmurhJlT3UjhZtaMy3oV1RvEfSEtdIaVgblUBw8-vT7fV6bVlPuDuUWwPvPEhzg-vWnVZqt6rX_h4EVGMvwWoea7Ra66pFEcr77eF9ySJuSBCj3v1">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 11,month => 11,second => 57,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"178d035d-3f31-4b74-b64b-6d5505ed4bf6">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 38,year => 2019},serial_key => <<"3098ad9eabaf20fd">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"d4CfUwvd6g0:APA91bHPkAArHm1p5IHU2zJ3Ea0Vc1fYxhmRp8QAZFRhUBahxqMda2dHGpSXo3wdtc59kauYs8lZWG4ly9nIxr-Re2Xaz1OguNsbUFiKu_yxzLVhgdXm38g18Us1Rv495cY3UHoFK3mp">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 16,month => 11,second => 42,year => 2019}}],id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 15,hour => 12,microsecond => {0,0},minute => 39,month => 11,second => 36,year => 2019},password => <<"$2b$12$XlddKF/xtUSibCfUPGIFder8BVD04Qh9qhAIdee/iSdJE48pNnIKe">>,phone_number => <<"89991945767">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<"Azat verni 2 rubl">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 13,year => 2019}}],{<<"{\"candidate\": \"candidate:1498970736 1 udp 2113937151 10.224.117.49 52266 typ host\", \"sdpMid\": null, \"sdpMLineIndex\": null}">>}],[{file,"lib/signalling/notifier.ex"},{line,36}]},{'Elixir.Signalling',call_sdp,3,[{file,"lib/signalling.ex"},{line,29}]},{'Elixir.SignallingWeb.IntercomController',sdp_intercom,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,69}]},{'Elixir.SignallingWeb.IntercomController',action,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.IntercomController',phoenix_controller_pipeline,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint',instrument,4,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',1,[{file,"lib/phoenix/router.ex"},{line,275}]},{'Elixir.SignallingWeb.Endpoint',plug_builder_call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.SignallingWeb.Endpoint',call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,33}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.SignallingWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 214,cert => undefined,has_body => true,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip, deflate">>,<<"connection">> => <<"upgrade">>,<<"content-length">> => <<"214">>,<<"content-type">> => <<"application/json">>,<<"host">> => <<"signaling-api.domoface.ru">>,<<"user-agent">> => <<"Python/3.7 aiohttp/3.6.2">>,<<"x-forwarded-for">> => <<"87.76.0.8">>,<<"x-forwarded-host">> => <<"signaling-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"87.76.0.8">>},host => <<"signaling-api.domoface.ru">>,host_info => undefined,method => <<"POST">>,path => <<"/signaling/intercom/sdp_intercom">>,path_info => undefined,peer => {{127,0,0,1},43602},pid => <0.1361.0>,port => 80,qs => <<>>,ref => 'Elixir.SignallingWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},8002},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"signaling-api.domoface.ru">>,method => <<"POST">>,owner => <0.1362.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"signaling">>,<<"intercom">>,<<"sdp_intercom">>],path_params => #{},port => 80,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip, deflate">>},{<<"connection">>,<<"upgrade">>},{<<"content-length">>,<<"214">>},{<<"content-type">>,<<"application/json">>},{<<"host">>,<<"signaling-api.domoface.ru">>},{<<"user-agent">>,<<"Python/3.7 aiohttp/3.6.2">>},{<<"x-forwarded-for">>,<<"87.76.0.8">>},{<<"x-forwarded-host">>,<<"signaling-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"87.76.0.8">>}],request_path => <<"/signaling/intercom/sdp_intercom">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}} and stacktrace [{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]
2019-11-18 23:57:47 =CRASH REPORT====
  crasher:
    initial call: cowboy_stream_h:request_process/3
    pid: <0.1366.0>
    registered_name: []
    exception exit: {{{{#{'__exception__' => true,'__struct__' => 'Elixir.FunctionClauseError',args => nil,arity => 2,clauses => nil,function => sdp_call,kind => nil,module => 'Elixir.Signalling.Notifier'},[{'Elixir.Signalling.Notifier',sdp_call,[[#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9a9b7935-5d31-431c-b354-88b1c6f3542c">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019},serial_key => <<"3157588642d753b0">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,token => <<"e4zyYuvG_oY:APA91bHL9P7qsf_DQIQjfImwJaxKnmjqmm3XTQwCL-1vxojQoNwpVL-oIA_NWLDT-X1Vupuor7a4cCqqF3FfA3faL9A0POGD_QWmXSO3ghgT2Qz5UddYwApYFAlfEFAcdGDSr5CHsKsf">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019}}],id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 8,month => 11,second => 53,year => 2019},password => <<"$2b$12$oOX2mvAXzIhT50XnmsaPpeTRno2B4uUAowr2LyuQ3Ed/1o.5.VG1q">>,phone_number => <<"89176200645">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<208,149,208,178,208,179,208,181,208,189,208,184,208,185,32,208,154,208,176,208,187,208,180,208,184,208,189>>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 36,month => 11,second => 50,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9e411232-1c65-4deb-ba6a-d77786e023d7">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 25,month => 11,second => 40,year => 2019},serial_key => <<"2a05092ea1c0c777">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cbrDPJM9piw:APA91bF0jAJd2IYycMQxuXVeUjNy5I3Yy2Le9ZXcjso14ielexAndVUhXIBeSLvDcmKuo_GsANHXTXjiXE061Jrw_4K_HG4HQAlrs2AJRUEJbeIhAEWf7NW0vuk3EHAAr7dLVXOPexHi">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 9,microsecond => {0,0},minute => 36,month => 11,second => 12,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9679e299-55b8-4498-943b-160c7c877da0">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 16,microsecond => {0,0},minute => 23,month => 11,second => 29,year => 2019},serial_key => <<"9e7225961a706a65">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cOr_nTgNJBM:APA91bELiM_yN8yM0TpQmQfn2BNlmurhJlT3UjhZtaMy3oV1RvEfSEtdIaVgblUBw8-vT7fV6bVlPuDuUWwPvPEhzg-vWnVZqt6rX_h4EVGMvwWoea7Ra66pFEcr77eF9ySJuSBCj3v1">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 11,month => 11,second => 57,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"178d035d-3f31-4b74-b64b-6d5505ed4bf6">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 38,year => 2019},serial_key => <<"3098ad9eabaf20fd">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"d4CfUwvd6g0:APA91bHPkAArHm1p5IHU2zJ3Ea0Vc1fYxhmRp8QAZFRhUBahxqMda2dHGpSXo3wdtc59kauYs8lZWG4ly9nIxr-Re2Xaz1OguNsbUFiKu_yxzLVhgdXm38g18Us1Rv495cY3UHoFK3mp">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 16,month => 11,second => 42,year => 2019}}],id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 15,hour => 12,microsecond => {0,0},minute => 39,month => 11,second => 36,year => 2019},password => <<"$2b$12$XlddKF/xtUSibCfUPGIFder8BVD04Qh9qhAIdee/iSdJE48pNnIKe">>,phone_number => <<"89991945767">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<"Azat verni 2 rubl">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 13,year => 2019}}],{<<"{\"candidate\": \"candidate:842163049 1 udp 1677729535 85.26.233.154 55206 typ srflx raddr 10.224.117.49 rport 52266\", \"sdpMid\": null, \"sdpMLineIndex\": null}">>}],[{file,"lib/signalling/notifier.ex"},{line,36}]},{'Elixir.Signalling',call_sdp,3,[{file,"lib/signalling.ex"},{line,29}]},{'Elixir.SignallingWeb.IntercomController',sdp_intercom,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,69}]},{'Elixir.SignallingWeb.IntercomController',action,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.IntercomController',phoenix_controller_pipeline,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint',instrument,4,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',1,[{file,"lib/phoenix/router.ex"},{line,275}]},{'Elixir.SignallingWeb.Endpoint',plug_builder_call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.SignallingWeb.Endpoint',call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,33}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.SignallingWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 246,cert => undefined,has_body => true,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip, deflate">>,<<"connection">> => <<"upgrade">>,<<"content-length">> => <<"246">>,<<"content-type">> => <<"application/json">>,<<"host">> => <<"signaling-api.domoface.ru">>,<<"user-agent">> => <<"Python/3.7 aiohttp/3.6.2">>,<<"x-forwarded-for">> => <<"87.76.0.8">>,<<"x-forwarded-host">> => <<"signaling-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"87.76.0.8">>},host => <<"signaling-api.domoface.ru">>,host_info => undefined,method => <<"POST">>,path => <<"/signaling/intercom/sdp_intercom">>,path_info => undefined,peer => {{127,0,0,1},43604},pid => <0.1365.0>,port => 80,qs => <<>>,ref => 'Elixir.SignallingWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},8002},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"signaling-api.domoface.ru">>,method => <<"POST">>,owner => <0.1366.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"signaling">>,<<"intercom">>,<<"sdp_intercom">>],path_params => #{},port => 80,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip, deflate">>},{<<"connection">>,<<"upgrade">>},{<<"content-length">>,<<"246">>},{<<"content-type">>,<<"application/json">>},{<<"host">>,<<"signaling-api.domoface.ru">>},{<<"user-agent">>,<<"Python/3.7 aiohttp/3.6.2">>},{<<"x-forwarded-for">>,<<"87.76.0.8">>},{<<"x-forwarded-host">>,<<"signaling-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"87.76.0.8">>}],request_path => <<"/signaling/intercom/sdp_intercom">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}
    ancestors: [<0.1365.0>,<0.1211.0>,<0.1210.0>,'Elixir.SignallingWeb.Endpoint','Elixir.Signalling.Supervisor',<0.1195.0>]
    message_queue_len: 0
    messages: []
    links: [<0.1365.0>]
    dictionary: [{logger_metadata,{true,[{request_id,<<"FdhnImTBmXVVubUAAAlh">>}]}}]
    trap_exit: false
    status: running
    heap_size: 6772
    stack_size: 27
    reductions: 170667
  neighbours:
2019-11-18 23:57:47 =ERROR REPORT====
Ranch listener 'Elixir.SignallingWeb.Endpoint.HTTP', connection process <0.1365.0>, stream 1 had its request process <0.1366.0> exit with reason {{#{'__exception__' => true,'__struct__' => 'Elixir.FunctionClauseError',args => nil,arity => 2,clauses => nil,function => sdp_call,kind => nil,module => 'Elixir.Signalling.Notifier'},[{'Elixir.Signalling.Notifier',sdp_call,[[#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9a9b7935-5d31-431c-b354-88b1c6f3542c">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019},serial_key => <<"3157588642d753b0">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,token => <<"e4zyYuvG_oY:APA91bHL9P7qsf_DQIQjfImwJaxKnmjqmm3XTQwCL-1vxojQoNwpVL-oIA_NWLDT-X1Vupuor7a4cCqqF3FfA3faL9A0POGD_QWmXSO3ghgT2Qz5UddYwApYFAlfEFAcdGDSr5CHsKsf">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019}}],id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 8,month => 11,second => 53,year => 2019},password => <<"$2b$12$oOX2mvAXzIhT50XnmsaPpeTRno2B4uUAowr2LyuQ3Ed/1o.5.VG1q">>,phone_number => <<"89176200645">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<208,149,208,178,208,179,208,181,208,189,208,184,208,185,32,208,154,208,176,208,187,208,180,208,184,208,189>>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 36,month => 11,second => 50,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9e411232-1c65-4deb-ba6a-d77786e023d7">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 25,month => 11,second => 40,year => 2019},serial_key => <<"2a05092ea1c0c777">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cbrDPJM9piw:APA91bF0jAJd2IYycMQxuXVeUjNy5I3Yy2Le9ZXcjso14ielexAndVUhXIBeSLvDcmKuo_GsANHXTXjiXE061Jrw_4K_HG4HQAlrs2AJRUEJbeIhAEWf7NW0vuk3EHAAr7dLVXOPexHi">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 9,microsecond => {0,0},minute => 36,month => 11,second => 12,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9679e299-55b8-4498-943b-160c7c877da0">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 16,microsecond => {0,0},minute => 23,month => 11,second => 29,year => 2019},serial_key => <<"9e7225961a706a65">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cOr_nTgNJBM:APA91bELiM_yN8yM0TpQmQfn2BNlmurhJlT3UjhZtaMy3oV1RvEfSEtdIaVgblUBw8-vT7fV6bVlPuDuUWwPvPEhzg-vWnVZqt6rX_h4EVGMvwWoea7Ra66pFEcr77eF9ySJuSBCj3v1">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 11,month => 11,second => 57,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"178d035d-3f31-4b74-b64b-6d5505ed4bf6">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 38,year => 2019},serial_key => <<"3098ad9eabaf20fd">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"d4CfUwvd6g0:APA91bHPkAArHm1p5IHU2zJ3Ea0Vc1fYxhmRp8QAZFRhUBahxqMda2dHGpSXo3wdtc59kauYs8lZWG4ly9nIxr-Re2Xaz1OguNsbUFiKu_yxzLVhgdXm38g18Us1Rv495cY3UHoFK3mp">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 16,month => 11,second => 42,year => 2019}}],id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 15,hour => 12,microsecond => {0,0},minute => 39,month => 11,second => 36,year => 2019},password => <<"$2b$12$XlddKF/xtUSibCfUPGIFder8BVD04Qh9qhAIdee/iSdJE48pNnIKe">>,phone_number => <<"89991945767">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<"Azat verni 2 rubl">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 13,year => 2019}}],{<<"{\"candidate\": \"candidate:842163049 1 udp 1677729535 85.26.233.154 55206 typ srflx raddr 10.224.117.49 rport 52266\", \"sdpMid\": null, \"sdpMLineIndex\": null}">>}],[{file,"lib/signalling/notifier.ex"},{line,36}]},{'Elixir.Signalling',call_sdp,3,[{file,"lib/signalling.ex"},{line,29}]},{'Elixir.SignallingWeb.IntercomController',sdp_intercom,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,69}]},{'Elixir.SignallingWeb.IntercomController',action,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.IntercomController',phoenix_controller_pipeline,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint',instrument,4,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',1,[{file,"lib/phoenix/router.ex"},{line,275}]},{'Elixir.SignallingWeb.Endpoint',plug_builder_call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.SignallingWeb.Endpoint',call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,33}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.SignallingWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 246,cert => undefined,has_body => true,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip, deflate">>,<<"connection">> => <<"upgrade">>,<<"content-length">> => <<"246">>,<<"content-type">> => <<"application/json">>,<<"host">> => <<"signaling-api.domoface.ru">>,<<"user-agent">> => <<"Python/3.7 aiohttp/3.6.2">>,<<"x-forwarded-for">> => <<"87.76.0.8">>,<<"x-forwarded-host">> => <<"signaling-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"87.76.0.8">>},host => <<"signaling-api.domoface.ru">>,host_info => undefined,method => <<"POST">>,path => <<"/signaling/intercom/sdp_intercom">>,path_info => undefined,peer => {{127,0,0,1},43604},pid => <0.1365.0>,port => 80,qs => <<>>,ref => 'Elixir.SignallingWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},8002},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"signaling-api.domoface.ru">>,method => <<"POST">>,owner => <0.1366.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"signaling">>,<<"intercom">>,<<"sdp_intercom">>],path_params => #{},port => 80,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip, deflate">>},{<<"connection">>,<<"upgrade">>},{<<"content-length">>,<<"246">>},{<<"content-type">>,<<"application/json">>},{<<"host">>,<<"signaling-api.domoface.ru">>},{<<"user-agent">>,<<"Python/3.7 aiohttp/3.6.2">>},{<<"x-forwarded-for">>,<<"87.76.0.8">>},{<<"x-forwarded-host">>,<<"signaling-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"87.76.0.8">>}],request_path => <<"/signaling/intercom/sdp_intercom">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}} and stacktrace [{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]
2019-11-18 23:57:47 =CRASH REPORT====
  crasher:
    initial call: cowboy_stream_h:request_process/3
    pid: <0.1370.0>
    registered_name: []
    exception exit: {{{{#{'__exception__' => true,'__struct__' => 'Elixir.FunctionClauseError',args => nil,arity => 2,clauses => nil,function => sdp_call,kind => nil,module => 'Elixir.Signalling.Notifier'},[{'Elixir.Signalling.Notifier',sdp_call,[[#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9a9b7935-5d31-431c-b354-88b1c6f3542c">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019},serial_key => <<"3157588642d753b0">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,token => <<"e4zyYuvG_oY:APA91bHL9P7qsf_DQIQjfImwJaxKnmjqmm3XTQwCL-1vxojQoNwpVL-oIA_NWLDT-X1Vupuor7a4cCqqF3FfA3faL9A0POGD_QWmXSO3ghgT2Qz5UddYwApYFAlfEFAcdGDSr5CHsKsf">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019}}],id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 8,month => 11,second => 53,year => 2019},password => <<"$2b$12$oOX2mvAXzIhT50XnmsaPpeTRno2B4uUAowr2LyuQ3Ed/1o.5.VG1q">>,phone_number => <<"89176200645">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<208,149,208,178,208,179,208,181,208,189,208,184,208,185,32,208,154,208,176,208,187,208,180,208,184,208,189>>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 36,month => 11,second => 50,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9e411232-1c65-4deb-ba6a-d77786e023d7">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 25,month => 11,second => 40,year => 2019},serial_key => <<"2a05092ea1c0c777">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cbrDPJM9piw:APA91bF0jAJd2IYycMQxuXVeUjNy5I3Yy2Le9ZXcjso14ielexAndVUhXIBeSLvDcmKuo_GsANHXTXjiXE061Jrw_4K_HG4HQAlrs2AJRUEJbeIhAEWf7NW0vuk3EHAAr7dLVXOPexHi">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 9,microsecond => {0,0},minute => 36,month => 11,second => 12,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9679e299-55b8-4498-943b-160c7c877da0">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 16,microsecond => {0,0},minute => 23,month => 11,second => 29,year => 2019},serial_key => <<"9e7225961a706a65">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cOr_nTgNJBM:APA91bELiM_yN8yM0TpQmQfn2BNlmurhJlT3UjhZtaMy3oV1RvEfSEtdIaVgblUBw8-vT7fV6bVlPuDuUWwPvPEhzg-vWnVZqt6rX_h4EVGMvwWoea7Ra66pFEcr77eF9ySJuSBCj3v1">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 11,month => 11,second => 57,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"178d035d-3f31-4b74-b64b-6d5505ed4bf6">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 38,year => 2019},serial_key => <<"3098ad9eabaf20fd">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"d4CfUwvd6g0:APA91bHPkAArHm1p5IHU2zJ3Ea0Vc1fYxhmRp8QAZFRhUBahxqMda2dHGpSXo3wdtc59kauYs8lZWG4ly9nIxr-Re2Xaz1OguNsbUFiKu_yxzLVhgdXm38g18Us1Rv495cY3UHoFK3mp">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 16,month => 11,second => 42,year => 2019}}],id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 15,hour => 12,microsecond => {0,0},minute => 39,month => 11,second => 36,year => 2019},password => <<"$2b$12$XlddKF/xtUSibCfUPGIFder8BVD04Qh9qhAIdee/iSdJE48pNnIKe">>,phone_number => <<"89991945767">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<"Azat verni 2 rubl">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 13,year => 2019}}],{<<"{\"candidate\": \"candidate:2212263285 1 udp 33562367 3.123.78.125 51826 typ relay raddr 85.26.233.154 rport 55206\", \"sdpMid\": null, \"sdpMLineIndex\": null}">>}],[{file,"lib/signalling/notifier.ex"},{line,36}]},{'Elixir.Signalling',call_sdp,3,[{file,"lib/signalling.ex"},{line,29}]},{'Elixir.SignallingWeb.IntercomController',sdp_intercom,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,69}]},{'Elixir.SignallingWeb.IntercomController',action,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.IntercomController',phoenix_controller_pipeline,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint',instrument,4,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',1,[{file,"lib/phoenix/router.ex"},{line,275}]},{'Elixir.SignallingWeb.Endpoint',plug_builder_call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.SignallingWeb.Endpoint',call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,33}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.SignallingWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 244,cert => undefined,has_body => true,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip, deflate">>,<<"connection">> => <<"upgrade">>,<<"content-length">> => <<"244">>,<<"content-type">> => <<"application/json">>,<<"host">> => <<"signaling-api.domoface.ru">>,<<"user-agent">> => <<"Python/3.7 aiohttp/3.6.2">>,<<"x-forwarded-for">> => <<"87.76.0.8">>,<<"x-forwarded-host">> => <<"signaling-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"87.76.0.8">>},host => <<"signaling-api.domoface.ru">>,host_info => undefined,method => <<"POST">>,path => <<"/signaling/intercom/sdp_intercom">>,path_info => undefined,peer => {{127,0,0,1},43606},pid => <0.1369.0>,port => 80,qs => <<>>,ref => 'Elixir.SignallingWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},8002},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"signaling-api.domoface.ru">>,method => <<"POST">>,owner => <0.1370.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"signaling">>,<<"intercom">>,<<"sdp_intercom">>],path_params => #{},port => 80,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip, deflate">>},{<<"connection">>,<<"upgrade">>},{<<"content-length">>,<<"244">>},{<<"content-type">>,<<"application/json">>},{<<"host">>,<<"signaling-api.domoface.ru">>},{<<"user-agent">>,<<"Python/3.7 aiohttp/3.6.2">>},{<<"x-forwarded-for">>,<<"87.76.0.8">>},{<<"x-forwarded-host">>,<<"signaling-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"87.76.0.8">>}],request_path => <<"/signaling/intercom/sdp_intercom">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}
    ancestors: [<0.1369.0>,<0.1211.0>,<0.1210.0>,'Elixir.SignallingWeb.Endpoint','Elixir.Signalling.Supervisor',<0.1195.0>]
    message_queue_len: 0
    messages: []
    links: [<0.1369.0>]
    dictionary: [{logger_metadata,{true,[{request_id,<<"FdhnIobfM_uKQhwAAAJj">>}]}}]
    trap_exit: false
    status: running
    heap_size: 6772
    stack_size: 27
    reductions: 170604
  neighbours:
2019-11-18 23:57:47 =ERROR REPORT====
Ranch listener 'Elixir.SignallingWeb.Endpoint.HTTP', connection process <0.1369.0>, stream 1 had its request process <0.1370.0> exit with reason {{#{'__exception__' => true,'__struct__' => 'Elixir.FunctionClauseError',args => nil,arity => 2,clauses => nil,function => sdp_call,kind => nil,module => 'Elixir.Signalling.Notifier'},[{'Elixir.Signalling.Notifier',sdp_call,[[#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9a9b7935-5d31-431c-b354-88b1c6f3542c">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019},serial_key => <<"3157588642d753b0">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,token => <<"e4zyYuvG_oY:APA91bHL9P7qsf_DQIQjfImwJaxKnmjqmm3XTQwCL-1vxojQoNwpVL-oIA_NWLDT-X1Vupuor7a4cCqqF3FfA3faL9A0POGD_QWmXSO3ghgT2Qz5UddYwApYFAlfEFAcdGDSr5CHsKsf">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 38,month => 11,second => 30,year => 2019}}],id => <<"b328ecd7-d104-461d-b945-6b9760f58b05">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 8,month => 11,second => 53,year => 2019},password => <<"$2b$12$oOX2mvAXzIhT50XnmsaPpeTRno2B4uUAowr2LyuQ3Ed/1o.5.VG1q">>,phone_number => <<"89176200645">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<208,149,208,178,208,179,208,181,208,189,208,184,208,185,32,208,154,208,176,208,187,208,180,208,184,208,189>>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 11,microsecond => {0,0},minute => 36,month => 11,second => 50,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Tenant',source => <<"tenants">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Tenant',apartment => #{'__cardinality__' => one,'__field__' => apartment,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},apartment_id => <<"cb738cd9-b5ab-41fa-9351-1cb91a5ae23e">>,company => #{'__cardinality__' => one,'__field__' => company,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},company_id => <<"3610c9af-d31b-4806-84f1-db896e4aab74">>,deleted => false,devices => [#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9e411232-1c65-4deb-ba6a-d77786e023d7">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 14,microsecond => {0,0},minute => 25,month => 11,second => 40,year => 2019},serial_key => <<"2a05092ea1c0c777">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cbrDPJM9piw:APA91bF0jAJd2IYycMQxuXVeUjNy5I3Yy2Le9ZXcjso14ielexAndVUhXIBeSLvDcmKuo_GsANHXTXjiXE061Jrw_4K_HG4HQAlrs2AJRUEJbeIhAEWf7NW0vuk3EHAAr7dLVXOPexHi">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 9,microsecond => {0,0},minute => 36,month => 11,second => 12,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"9679e299-55b8-4498-943b-160c7c877da0">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 17,hour => 16,microsecond => {0,0},minute => 23,month => 11,second => 29,year => 2019},serial_key => <<"9e7225961a706a65">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"cOr_nTgNJBM:APA91bELiM_yN8yM0TpQmQfn2BNlmurhJlT3UjhZtaMy3oV1RvEfSEtdIaVgblUBw8-vT7fV6bVlPuDuUWwPvPEhzg-vWnVZqt6rX_h4EVGMvwWoea7Ra66pFEcr77eF9ySJuSBCj3v1">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 11,month => 11,second => 57,year => 2019}},#{'__meta__' => #{'__struct__' => 'Elixir.Ecto.Schema.Metadata',context => nil,prefix => nil,schema => 'Elixir.Domoapi.People.Device',source => <<"devices">>,state => loaded},'__struct__' => 'Elixir.Domoapi.People.Device',deleted => false,device_type => <<"Android">>,id => <<"178d035d-3f31-4b74-b64b-6d5505ed4bf6">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 38,year => 2019},serial_key => <<"3098ad9eabaf20fd">>,tenant => #{'__cardinality__' => one,'__field__' => tenant,'__owner__' => 'Elixir.Domoapi.People.Device','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},tenant_id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,token => <<"d4CfUwvd6g0:APA91bHPkAArHm1p5IHU2zJ3Ea0Vc1fYxhmRp8QAZFRhUBahxqMda2dHGpSXo3wdtc59kauYs8lZWG4ly9nIxr-Re2Xaz1OguNsbUFiKu_yxzLVhgdXm38g18Us1Rv495cY3UHoFK3mp">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 10,microsecond => {0,0},minute => 16,month => 11,second => 42,year => 2019}}],id => <<"776fc3e4-203c-437f-ab27-99918180718f">>,inserted_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 15,hour => 12,microsecond => {0,0},minute => 39,month => 11,second => 36,year => 2019},password => <<"$2b$12$XlddKF/xtUSibCfUPGIFder8BVD04Qh9qhAIdee/iSdJE48pNnIKe">>,phone_number => <<"89991945767">>,photos => #{'__cardinality__' => many,'__field__' => photos,'__owner__' => 'Elixir.Domoapi.People.Tenant','__struct__' => 'Elixir.Ecto.Association.NotLoaded'},raw_password => nil,title => <<"Azat verni 2 rubl">>,updated_at => #{'__struct__' => 'Elixir.NaiveDateTime',calendar => 'Elixir.Calendar.ISO',day => 18,hour => 7,microsecond => {0,0},minute => 4,month => 11,second => 13,year => 2019}}],{<<"{\"candidate\": \"candidate:2212263285 1 udp 33562367 3.123.78.125 51826 typ relay raddr 85.26.233.154 rport 55206\", \"sdpMid\": null, \"sdpMLineIndex\": null}">>}],[{file,"lib/signalling/notifier.ex"},{line,36}]},{'Elixir.Signalling',call_sdp,3,[{file,"lib/signalling.ex"},{line,29}]},{'Elixir.SignallingWeb.IntercomController',sdp_intercom,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,69}]},{'Elixir.SignallingWeb.IntercomController',action,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.IntercomController',phoenix_controller_pipeline,2,[{file,"lib/signalling_web/controllers/intercom_controller.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint',instrument,4,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',1,[{file,"lib/phoenix/router.ex"},{line,275}]},{'Elixir.SignallingWeb.Endpoint',plug_builder_call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.SignallingWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.SignallingWeb.Endpoint',call,2,[{file,"lib/signalling_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,33}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.SignallingWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 244,cert => undefined,has_body => true,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip, deflate">>,<<"connection">> => <<"upgrade">>,<<"content-length">> => <<"244">>,<<"content-type">> => <<"application/json">>,<<"host">> => <<"signaling-api.domoface.ru">>,<<"user-agent">> => <<"Python/3.7 aiohttp/3.6.2">>,<<"x-forwarded-for">> => <<"87.76.0.8">>,<<"x-forwarded-host">> => <<"signaling-api.domoface.ru">>,<<"x-forwarded-port">> => <<"443">>,<<"x-forwarded-proto">> => <<"https">>,<<"x-real-ip">> => <<"87.76.0.8">>},host => <<"signaling-api.domoface.ru">>,host_info => undefined,method => <<"POST">>,path => <<"/signaling/intercom/sdp_intercom">>,path_info => undefined,peer => {{127,0,0,1},43606},pid => <0.1369.0>,port => 80,qs => <<>>,ref => 'Elixir.SignallingWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},8002},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"signaling-api.domoface.ru">>,method => <<"POST">>,owner => <0.1370.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"signaling">>,<<"intercom">>,<<"sdp_intercom">>],path_params => #{},port => 80,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip, deflate">>},{<<"connection">>,<<"upgrade">>},{<<"content-length">>,<<"244">>},{<<"content-type">>,<<"application/json">>},{<<"host">>,<<"signaling-api.domoface.ru">>},{<<"user-agent">>,<<"Python/3.7 aiohttp/3.6.2">>},{<<"x-forwarded-for">>,<<"87.76.0.8">>},{<<"x-forwarded-host">>,<<"signaling-api.domoface.ru">>},{<<"x-forwarded-port">>,<<"443">>},{<<"x-forwarded-proto">>,<<"https">>},{<<"x-real-ip">>,<<"87.76.0.8">>}],request_path => <<"/signaling/intercom/sdp_intercom">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}} and stacktrace [{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,2,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/ubuntu/domoapi/domoapi/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]
2019-11-19 00:00:00 =ERROR REPORT====
** Task <0.1311.0> terminating
** Started from <0.1310.0>
** When function  == #Fun<Elixir.Quantum.Executor.7.12665260>
**      arguments == []
** Reason for termination == 
** {function_clause,[{'Elixir.IO',chardata_to_string,[nil],[{file,"lib/io.ex"},{line,557}]},{'Elixir.File',ls,1,[{file,"lib/file.ex"},{line,1556}]},{'Elixir.Archive.CheckFile',check_dir,0,[{file,"lib/archive/check_file.ex"},{line,8}]},{'Elixir.Quantum.Executor','-run/4-fun-3-',3,[{file,"lib/quantum/executor.ex"},{line,141}]},{'Elixir.Task.Supervised',invoke_mfa,2,[{file,"lib/task/supervised.ex"},{line,90}]},{'Elixir.Task.Supervised',reply,5,[{file,"lib/task/supervised.ex"},{line,35}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}
2019-11-19 00:00:00 =CRASH REPORT====
  crasher:
    initial call: Elixir.Quantum.Executor:-run/4-fun-3-/0
    pid: <0.1311.0>
    registered_name: []
    exception error: {function_clause,[{'Elixir.IO',chardata_to_string,[nil],[{file,"lib/io.ex"},{line,557}]},{'Elixir.File',ls,1,[{file,"lib/file.ex"},{line,1556}]},{'Elixir.Archive.CheckFile',check_dir,0,[{file,"lib/archive/check_file.ex"},{line,8}]},{'Elixir.Quantum.Executor','-run/4-fun-3-',3,[{file,"lib/quantum/executor.ex"},{line,141}]},{'Elixir.Task.Supervised',invoke_mfa,2,[{file,"lib/task/supervised.ex"},{line,90}]},{'Elixir.Task.Supervised',reply,5,[{file,"lib/task/supervised.ex"},{line,35}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}
    ancestors: ['Elixir.Archive.Scheduler.Task.Supervisor',<0.1157.0>,'Elixir.Archive.Supervisor',<0.1033.0>]
    message_queue_len: 0
    messages: []
    links: [<0.1158.0>]
    dictionary: [{'$callers',[<0.1310.0>,<0.1163.0>]}]
    trap_exit: false
    status: running
    heap_size: 17731
    stack_size: 27
    reductions: 7180
  neighbours:
2019-11-19 00:00:00 =SUPERVISOR REPORT====
     Supervisor: {local,'Elixir.Archive.Scheduler.Task.Supervisor'}
     Context:    child_terminated
     Reason:     {function_clause,[{'Elixir.IO',chardata_to_string,[nil],[{file,"lib/io.ex"},{line,557}]},{'Elixir.File',ls,1,[{file,"lib/file.ex"},{line,1556}]},{'Elixir.Archive.CheckFile',check_dir,0,[{file,"lib/archive/check_file.ex"},{line,8}]},{'Elixir.Quantum.Executor','-run/4-fun-3-',3,[{file,"lib/quantum/executor.ex"},{line,141}]},{'Elixir.Task.Supervised',invoke_mfa,2,[{file,"lib/task/supervised.ex"},{line,90}]},{'Elixir.Task.Supervised',reply,5,[{file,"lib/task/supervised.ex"},{line,35}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}
     Offender:   [{pid,<0.1311.0>},{id,undefined},{mfargs,{'Elixir.Task.Supervised',start_link,undefined}},{restart_type,temporary},{shutdown,5000},{child_type,worker}]

